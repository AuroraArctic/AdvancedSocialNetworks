% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
\PassOptionsToPackage{dvipsnames,svgnames*,x11names*}{xcolor}
%
\documentclass[
  notitlepage,
  onecolumn,
  openany]{book}
\usepackage{amsmath,amssymb}
\usepackage{lmodern}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\hypersetup{
  pdftitle={Advanced Social Networks},
  pdfauthor={Aurora Maria Tumminello},
  colorlinks=true,
  linkcolor={Maroon},
  filecolor={Maroon},
  citecolor={Blue},
  urlcolor={blue},
  pdfcreator={LaTeX via pandoc}}
\urlstyle{same} % disable monospaced font for URLs
\usepackage[a4paper,bindingoffset=0mm,inner=30mm,outer=30mm,top=30mm,bottom=30mm]{geometry}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{5}
\usepackage{booktabs}
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\usepackage[]{natbib}
\bibliographystyle{plainnat}

\title{Advanced Social Networks}
\author{Aurora Maria Tumminello}
\date{A.Y. 2021-22}

\begin{document}
\maketitle

{
\hypersetup{linkcolor=}
\setcounter{tocdepth}{1}
\tableofcontents
}
\part{Theory}

\hypertarget{introduction}{%
\chapter{Introduction}\label{introduction}}

\hypertarget{social-network-analysis}{%
\section{Social Network Analysis}\label{social-network-analysis}}

\emph{What is a social network?}

💡 It involves not only the existence of a network but also the social component (the presence of more entities interacting with each other).

\emph{Is Instagram a social network?}

💡 Yes, since it is a network that links people

\emph{Is the communication between students a social network?}

💡 It is since it represents the link between and among two or more students.

\emph{Is a supply chain a social network?}

💡 Each role inside the supply chain is linked with the previous and the following

\emph{Is the Tokyo train line a social network?}

💡 It is a network, but since it does not primarily involve people: it may link them, but mainly geographically and individually.

\emph{Is our brain a social network?}

💡 It is a network, but not necessarily a social one: it is supposed to be so whenever we interact with external factors.

\emph{Can words be part of a social network?}

💡 They can be if we trace what people say and link words based on the topic, the person, the place, the context etc. Remember that documents or conversations may be both the context and the node that may be linked to other documents or conversations, based on what we're studying (e.g.~communication between two or more individuals, events, etc).

\hypertarget{definition}{%
\subsection{Definition}\label{definition}}

\textbf{Networks} are a way of thinking about social systems that focus our attention on the relationships among the entities that make up the system, which we call actors or nodes. These are the focus of \textbf{Network Science}.

The nodes in a network can be almost anything, although when we talk about social networks we normally expect the nodes to be active agents rather than, say, inanimate objects. Most often, nodes are individuals, but can also be collectivities. \textbf{Social Network Analysis} focuses on humans and how their actions and mechanisms impact the system of interest.

In a social network, we can find:

\begin{itemize}
\tightlist
\item
  \textbf{Nodes} or vertices, entities that are linked together and are studied;
\item
  \textbf{Ties} or Edges, which link nodes with one another;
\item
  \textbf{Boundary}, a delimited group where some nodes are part of it and some others don't. It's like the criteria of choosing a subset of data inside a much bigger group of nodes and links.
\end{itemize}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/01-Introduction/Untitled} 

}

\end{figure}

\begin{table}[h]
\centering
\begin{tabular}{@{}lll@{}}
\toprule
\textbf{Nodes} & \textbf{Edges}      & \textbf{Boundary}              \\ \midrule
Students       & Friends/Enemies     & All students in a year         \\
Protesters     & Communicate         & All protesters at an event     \\
Organisations  & Collaborate         & All organisations in a field   \\
Regions        & People move between & All regions in Italy           \\
Countries      & Trade               & All EU Countries               \\
Words          & Used together       & All tweets on a specific topic \\ \bottomrule
\end{tabular}
\caption{Example of possible networks, specifying nodes, edges and the boundary. }
\label{tab:network_example}
\end{table}

\hypertarget{social-network-representation}{%
\subsection{Social Network Representation}\label{social-network-representation}}

A usual representation for networks is the \textbf{Adjacency matrix}, a square matrix that can be reciprocal (mirrored) or not (different if we swap columns and rows). Generally, self-loops do not make sense, therefore in certain situations, we can just ignore them by inserting a 0. Whenever there is a tie linking two nodes, we insert a 1.

The value inside the adjacency matrix between a couple of nodes may assume values different from 0 and 1, e.g.~the weight of the tie. By adding attributes (e.g.~age, gender), we could modify the network representation based on a specific attribute (e.g.~colour, size, shape).

\hypertarget{types-of-networks}{%
\section{Types of networks}\label{types-of-networks}}

\hypertarget{sociocentric-or-complete-network-analysis}{%
\subsection{Sociocentric or complete network analysis}\label{sociocentric-or-complete-network-analysis}}

A complete or \textbf{sociocentric network} is such that we detain data about the mutual relationship of every couple of nodes inside the considered network. Normally, an \textbf{ego network analysis} belongs to such type of networks, where there is a central node and we're interested in modelling all relationships entertained with that subject.

💡 \emph{For instance, a LinkedIn ego network contains a central node and its connected contacts, which may be divided into different categories, based on the context (e.g.~university, colleagues, fields of interest etc).}

An extension to the ego network approach is to continue iterating and expanding the network, starting from a single node and iterating over its linked nodes (\textbf{Snowball sampling}).

\hypertarget{directed-and-undirected-networks}{%
\subsection{Directed and undirected networks}\label{directed-and-undirected-networks}}

💡 \emph{Normally, friendships is an undirected network, since it is mutual, but not all people we define as such will agree with us, since they may have other priorities people to think to.
Friendship requires frequent meetings, trust, long-term relationships. Friendship is a concept that requires specific behaviours and expectations.}

Undirected networks are such that relationships are mutual and both parts know they're linked.

Directed networks may be represented both by straight lines with two arrows or curved lines with two lines, pointing in opposite directions.

\hypertarget{multiple-network-relations}{%
\subsection{Multiple network relations}\label{multiple-network-relations}}

We could look at:

\begin{itemize}
\tightlist
\item
  different types of links (e.g.~positive and negative), differentiated by the link or node colour;
\item
  how relationships evolve among the same nodes;
\end{itemize}

\hypertarget{weighted-networks}{%
\subsection{Weighted networks}\label{weighted-networks}}

These types of networks have weights or values of the edge, where nodes or links may have different importances from each other.

\hypertarget{two-mode-or-bipartite-networks}{%
\subsection{Two-mode or Bipartite networks}\label{two-mode-or-bipartite-networks}}

In two-mode networks, there are two types of nodes, where each node is associated with the other type. It's an undirect way to look at connections between people that may be unconscious.

The two-mode network can be projected to a one-mode network, based on their common connections to the other type node.

\hypertarget{levels-of-analysis}{%
\section{Levels of analysis}\label{levels-of-analysis}}

\begin{itemize}
\item
  \textbf{Group Level}

  We look at the entire network, not focusing on a specific node, looking at communities or how far some nodes are from each other.

  💡 \emph{Do well-connected networks tend to diffuse ideas faster?}
\item
  \textbf{Individual Level}

  Focusing on a single node, we look at its connections and position inside the network (e.g.~centralisation, density). Most node-level network properties are aggregations of dyad-level measurements, as when we count the number of ties that a node has.

  💡 \emph{Do actors with more friends tend to have stronger immune systems?}
\item
  \textbf{Dyadic Level}

  We study pairwise relations between actors and ask research questions. The dyad level is the fundamental unit of network data collection, and is the unit with the greatest frequency.

  💡 \emph{Do pairs of actors with business ties tend to develop affective ties?}
\end{itemize}

\hypertarget{basic-measures}{%
\chapter{Basic Measures}\label{basic-measures}}

With respect to the considered level of analysis, there are some measures that can be computed for each of them.

\hypertarget{degree-centrality}{%
\section{Degree centrality}\label{degree-centrality}}

\hypertarget{directed-network}{%
\subsection{Directed Network}\label{directed-network}}

Consider a direct network, whose adjacency matrix is not symmetric. The In degree indicates the popularity of a node, while the out degree indicates its connection with other nodes.

\begin{table}[h]
\centering
\begin{tabular}{@{}llllllll@{}}
\toprule
                   & \textit{Ross} & \textit{Phoebe} & \textit{Rachel} & \textit{Monica} & \textit{Chandler} & \textit{Joe} & \textbf{Out Degree} \\ \midrule
\textit{Ross}      & 0             & 0               & 1               & 0               & 0                 & 0            & 1                   \\
\textit{Phoebe}    & 0             & 0               & 0               & 0               & 0                 & 0            & 0                   \\
\textit{Rachel}    & 1             & 1               & 0               & 1               & 1                 & 1            & 5                   \\
\textit{Monica}    & 0             & 1               & 0               & 0               & 0                 & 0            & 1                   \\
\textit{Chandler}  & 0             & 0               & 1               & 1               & 0                 & 1            & 3                   \\
\textit{Joe}       & 0             & 0               & 0               & 0               & 1                 & 0            & 1                   \\
\textbf{In Degree} & 1             & 2               & 2               & 2               & 2                 & 2            &                     \\ \bottomrule
\end{tabular}
\caption{Nominations in Friends (directed relationship), showing for each person its out and in degree}
\label{tab:dir_degree}
\end{table}

This degree centrality can be normalized to get the proportion of outcoming/incoming connections for each node, by dividing the in/outdegree by the total number of people remaining (\(n-1\), or the maximum possible connections that a node could have):

\begin{table}[h]
\centering
\begin{tabular}{@{}llllllll@{}}
\toprule
                   & \textit{Ross} & \textit{Phoebe} & \textit{Rachel} & \textit{Monica} & \textit{Chandler} & \textit{Joe} & \textbf{Out Degree} \\ \midrule
\textit{Ross}      & 0             & 0               & 1               & 0               & 0                 & 0            & 1/5 = 0.2           \\
\textit{Phoebe}    & 0             & 0               & 0               & 0               & 0                 & 0            & 0                   \\
\textit{Rachel}    & 1             & 1               & 0               & 1               & 1                 & 1            & 5/5 = 1             \\
\textit{Monica}    & 0             & 1               & 0               & 0               & 0                 & 0            & 1/5 = 0.2           \\
\textit{Chandler}  & 0             & 0               & 1               & 1               & 0                 & 1            & 3/5 = 0.6           \\
\textit{Joe}       & 0             & 0               & 0               & 0               & 1                 & 0            & 1/5 = 0.2           \\
\textbf{In Degree} & 1/5 = 0.2     & 2/5 = 0.4       & 2/5 = 0.4       & 2/5 = 0.4       & 2/5 = 0.4         & 2/5 = 0.4    &                     \\ \bottomrule
\end{tabular}
\caption{Nominations in Friends (directed relationship), showing for each person its out and in degree}
\label{tab:norm_dir_degree}
\end{table}

\hypertarget{undirected-network}{%
\subsection{Undirected Network}\label{undirected-network}}

In this case, the in-degree and the out-degree are the same, since we do not distinguish the type of connections. It can be considered as a double arrow pointing to both sides.

\begin{table}[h]
\centering
\begin{tabular}{@{}llllllllllll@{}}
\toprule
\textbf{}       & \textbf{Ned} & \textbf{Marge} & \textbf{Homer} & \textbf{Abe} & \textbf{Maggie} & \textbf{Bart} & \textbf{Lisa} & \textbf{Krusty} & \textbf{Bob} & \textbf{Cecil} & \textbf{Degree} \\ \midrule
\textbf{Ned}    & 0            & 1              & 1              & 1            & 0               & 1             & 0             & 0               & 0            & 0              & 4               \\
\textbf{Marge}  & 1            & 0              & 1              & 0            & 1               & 0             & 1             & 0               & 0            & 0              & 4               \\
\textbf{Homer}  & 1            & 1              & 0              & 1            & 1               & 1             & 1             & 0               & 0            & 0              & 6               \\
\textbf{Abe}    & 1            & 0              & 1              & 0            & 0               & 1             & 0             & 0               & 0            & 0              & 3               \\
\textbf{Maggie} & 0            & 1              & 1              & 0            & 0               & 0             & 1             & 0               & 0            & 0              & 3               \\
\textbf{Bart}   & 1            & 0              & 1              & 1            & 0               & 0             & 1             & 1               & 0            & 0              & 5               \\
\textbf{Lisa}   & 0            & 1              & 1              & 0            & 1               & 1             & 0             & 1               & 0            & 0              & 5               \\
\textbf{Krusty} & 0            & 0              & 0              & 0            & 0               & 1             & 1             & 0               & 1            & 0              & 3               \\
\textbf{Bob}    & 0            & 0              & 0              & 0            & 0               & 0             & 0             & 1               & 0            & 1              & 2               \\
\textbf{Cecil}  & 0            & 0              & 0              & 0            & 0               & 0             & 0             & 0               & 1            & 0              & 1               \\ \bottomrule
\end{tabular}
\caption{Adjacency matrix of the undirected network of The Simpsons.}
\label{tab:undirected_network}
\end{table}

\hypertarget{density-and-average-degree}{%
\section{Density and average degree}\label{density-and-average-degree}}

\hypertarget{directed-network-1}{%
\subsection{Directed Network}\label{directed-network-1}}

\[
Density = \frac{\text{Number of ties}}{\text{Number of possible ties}} =\frac{\text{Number of ties}}{n(n-1)} 
\]

The number of possible ties, without considering self-loops, equals \(n(n-1)\). The number of ties equals the sum of the adjacency matrix.

💡 \emph{For instance, by considering the Friends network, we can say that there are 11 ties and 6 people, so the density equals} \(D = 11/(6*5) = 11/30 = 0.367\).

This number indicates the percentage of direct connections between nodes inside the network.

\hypertarget{undirected-network-1}{%
\subsection{Undirected Network}\label{undirected-network-1}}

In this case, the number of ties can be obtained by doubling the sum of half-matrix, since it is symmetric. The number of possible ties in this case is divided by two, since it is symmetrical and \((a,b) = (b,a)\):

\[
Density = \frac{\text{Number of ties}}{\text{Number of possible ties}} =\frac{\text{Number of ties}}{n(n-1)/2} 
\]

💡 \emph{In the Simpsons example, the density equals} \(D = 18/(10*9/2) = 18/45 = 0.4\)

\hypertarget{average-degree}{%
\subsection{Average Degree}\label{average-degree}}

Related to directed network, the average indegree equals the sum of the in-degree or out-degree over the total number of nodes inside the network:

💡 In the Friends example, the average in-degree is \(11/6 = 1.833\), while the out-degree is \(11/6 = 1.833\).

By considering the normalized degree, we discover that it equals the density of the network, because we initially divide by the maximum connections possible (\(n(n-1)\)), and then we divide everything by the total number of nodes (\(n\)), while the normalized degree is computed by dividing the degree by \(n-1\).

\hypertarget{importance-of-density}{%
\subsection{Importance of density}\label{importance-of-density}}

The Density is useful whenever we need to compare networks, both of the same or different sizes. In particular, the bigger, the more important density becomes to evaluate its cohesiveness.

Notice that a bigger network makes it harder to have a bigger density than a smaller one. Comparing the density of networks of different sizes can be challenging. It would be better to compare average degrees but notice that \textbf{by increasing the network size and the average degree, the density reduces.}

\hypertarget{degree-centralization}{%
\section{Degree-centralization}\label{degree-centralization}}

\textbf{Centralization} is a question about how central some nodes are compared to other nodes, it is a characteristic of the network itself. It's related to the distribution of the centrality inside the network, while centrality is more related to the individual sphere of the nodes.

💡 \emph{The least centralized network is a ring structure, where everyone is connected to the previous and following node (in this case the centralisation is 0).
The most centralized network is an ego one, where one node is connected to everyone and no one else is connected to nodes different from the ego (in this case the centralisation measure is far from 0).}

Centralisation may indicate the status of some nodes inside a network.

\hypertarget{undirected-network-2}{%
\subsection{Undirected Network}\label{undirected-network-2}}

By taking the maximum degree inside the network, for each node, we subtract its degree to this maximum, in order to get its centralisation. The centralisation for the degree is then obtained by summing all these centralisations.

💡 \emph{Note that the maximum number of connections we could build in a centralized network is \(n-1\). In a decentralized network, if everybody has the same number of connections, the centralisation will always be 0, since the maximum will be the same for every node.}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/02-Basic Measures/Untitled} 

}

\end{figure}

By considering the range between the least and the most centralized (\(0-12\)), the centralisation can be finally computed by dividing the centralisation for the degree by the maximum centralisation value possible.

💡 \emph{In the example above, it would be} \(5/12\).

The general formula for the centralisation is the following:

\[
Centralisation = \frac{\sum (\max-degree_i)}{(n-1)(n-2)}
\]

\hypertarget{directed-network-2}{%
\subsection{Directed Network}\label{directed-network-2}}

In this case, we detain both in and out-degree centralisation.

\[
In-Centralisation = \frac{\sum (\max_{in}-\text{in-degree}_i)}{(n-1)^2}
\]

\[
Out-Centralisation = \frac{\sum (\max_{out}-\text{out-degree}_i)}{(n-1)^2}
\]

💡 Still, if we consider the Friends network, we notice that related to the out-degree centralisation, the network is kind of centralized on Rachel, which is talkative with everybody:

\[
Out-C = \frac{(5-1)+(5-0)+(5-1)+(5-5)+(5-3)+(5-1)}{5^2} = \frac{19}{25} = 0.76
\]

💡 Related to the in-degree instead, the network is decentralized. By thinking about how is more popular than other characters, nobody is the true main star of the show, despite Ross is quite less cited by other people. This means that everybody is as popular as everybody else. It is not perfect yet actually, because of Ross.

\[
In-C = \frac{(2-1)+5*(2-2)}{5^2} = \frac{1}{25} = 0.04
\]

\hypertarget{experiment}{%
\subsection{Experiment}\label{experiment}}

\emph{How fast a group could make decisions together?}

Each subject was given a card, with 5 symbols from a set of 6. Each symbol appeared on 4 of the 5 cards, except for one. The group was asked to find the common symbol in the shortest time possible.

The subjects communicated by writing messages that could be passed through slots in the walls of the cubicles. Four structures were proposed:

\begin{itemize}
\tightlist
\item
  \textbf{ring structure:} no consistent pattern of organisations, since subjects sent messages only when receiving or work out the answer themselves;
\item
  \textbf{straight line:} most of the time the answer was sent out by the individual in the most central position;
\item
  \textbf{cross figure:} the peripheral sent information to the center, where answered arrived and were sent out.
\item
  \textbf{t-figure:} the most central figure got all the information and sent the answer. Slower than the cross, but still working.
\end{itemize}

The most efficient structure is the T-figure. During the experiment, the person in the middle in the cross figure didn't understand the experiment at all, therefore the information was useless. It's the classical structure with the team leader that commands the actions to take. It actually depends on the leadership ability of the central node, otherwise there is no learning.

The efficiency is given by the velocity and availability to communicate. Simple things benefit from the decentralized problems, whereas complex problems benefit from the centralized option, since the divide et impera organisation makes everything more efficient.

Evaluation:

\begin{itemize}
\tightlist
\item
  satisfaction: ring structure;
\item
  less errors: T-figure;
\item
  like: ring-structure;
\item
  at least one error: cross and T-figure
\end{itemize}

\textbf{Aim: find a balance between efficiency and satisfaction.}

\hypertarget{cohesion-measures}{%
\chapter{Cohesion measures}\label{cohesion-measures}}

\emph{How can we compute whether a network is cohesive or not?}

When we talk about cohesion, we're focusing on the \textbf{group level of analysis}.

\hypertarget{direct-connections}{%
\section{Direct connections}\label{direct-connections}}

\hypertarget{density}{%
\subsection{Density}\label{density}}

\emph{What proportion of ties is present? What proportion of pairs of nodes is directly connected?}

It's the simplest measure of cohesion, the number of ties in the network, expressed as a proportion of the number possible.

Given an undirected network, its number of possible ties is \(n(n-1)/2\):

\[
Density = \frac{\text{Number of ties}}{\text{Number of possible ties}}
\]

⚛️ \emph{For instance, in this TBBT network, the density is 1/4 (7 actual ties, with 8 nodes, so 8}7/2 = 28 possible ties).*

\hypertarget{average-degree-1}{%
\subsection{Average Degree}\label{average-degree-1}}

\emph{What is the average number of connections for nodes?}

⚛️ The average degree of connections for nodes is:
(1+2+1+1+2+2+2+2)/8 = 1.625

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/03-Cohesion measures/Untitled} 

}

\end{figure}

💡 \emph{Remember that density does not tell us how these ties are distributed among the nodes.}

\hypertarget{components}{%
\section{Components}\label{components}}

\emph{How many different groups of nodes exist that cannot reach each other (directly or indirectly)?}

A component is a maximum set where everyone is connected with each other.

⚛️ \emph{In the Big Bang Theory set, the components are two, as shown in the image above}.

Imagine that everyone has a piece of information that needs to be propagated. The more components, the less information everyone is reaching and the worse it is. The number of components of a network goes from 1 to the total number of nodes \(n\). We should think of components as a way to spread creativity inside the network. All groups hold unique ideas and being one component allows for exposure to more ideas.

\hypertarget{component-ratio}{%
\subsection{Component ratio}\label{component-ratio}}

The component ratio is given by the number of components minus 1, over the maximum number of components minus 1:

\[
CR = \frac{c-1}{n-1}
\]

⚛️ \emph{In TBBT example, the component ratio would be \((2-1)/(8-1) = 1/7\).}

1 means that all nodes are isolated, while 0 means there's one single component.

Notice that the component ratio does not tell us anything about the distribution of these components.

💡 \emph{The size of the largest component is a function of the network size, but it doesn't tell us anything about the smaller components.}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/03-Cohesion measures/Untitled 1} 

}

\end{figure}

\hypertarget{connectedness-and-fragmentation}{%
\subsection{Connectedness and fragmentation}\label{connectedness-and-fragmentation}}

⚛️ The two networks below are similar to the largest components, but not the same.

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/03-Cohesion measures/Untitled 2} 

}

\end{figure}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/03-Cohesion measures/Untitled 3} 

}

\end{figure}

\emph{What proportion of pairs of nodes can reach each other directly or indirectly?}

⚛️ \emph{In the first example, Amy, Bernadette and Stuart reach each other \((3*2)\), whereas the others 5 are connected among them \((5*4)\) , so \((3*2+5*4)/(8*7) = 0.464\) .
In the second example, since the first three nodes do not reach each other, we have \((0+0+0+5*4)/(8*7) = 0.357\).}

This proportion is called \textbf{connectedness}, while its complement is called \textbf{fragmentation (\(fragmentation = 1-connectedness\))}. Notice that these measures do not inform about how long it takes to reach other nodes inside the same component:

\[
Connectedness = \frac{\sum_{i = \text{number of nodes in ith component}} i(i-1)}{n(n-1)}
\]

\hypertarget{geodesic}{%
\section{Geodesic}\label{geodesic}}

\hypertarget{compactness-and-breadth}{%
\subsection{Compactness and breadth}\label{compactness-and-breadth}}

We can study the average distance between two nodes, based on cohesion measures. Remember that longer distances reduce information sharing since it is quite expensive to reach them. The lower the average distance, the easier it is to reach other nodes and therefore the more the network is cohesive and preferrable.

⚛️ \emph{For instance, the distance from Howard to Leonard is 2. If we want to compute the average distance between any couple of nodes inside the TBBT network, we need to consider disconnected nodes with inf distance, as shown in the geodesic distance matrix, which shows the minimum number of links to pass in order to reach a specific node.}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# \# Geodesic distance:}
\CommentTok{\#       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8]}
\CommentTok{\# [1,] 0 1 1 2 3 Inf Inf Inf}
\CommentTok{\# [2,] 1 0 1 2 3 Inf Inf Inf}
\CommentTok{\# [3,] 1 1 0 1 2 Inf Inf Inf}
\CommentTok{\# [4,] 2 2 1 0 1 Inf Inf Inf}
\CommentTok{\# [5,] 3 3 2 1 0 Inf Inf Inf}
\CommentTok{\# [6,] Inf Inf Inf Inf Inf 0 1 1}
\CommentTok{\# [7,] Inf Inf Inf Inf Inf 1 0 2}
\CommentTok{\# [8,] Inf Inf Inf Inf Inf 1 2 0}
\end{Highlighting}
\end{Shaded}

By convention, Inf is expressed as 0 if we consider \(1/\text{geodesic distance}\), also called \textbf{reciprocal distance}:

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# \# 1/geodesic distance}
\CommentTok{\# [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8]}
\CommentTok{\# [1,] Inf 1.0000000 1.0 0.5 0.3333333 0 0.0 0.0}
\CommentTok{\# [2,] 1.0000000 Inf 1.0 0.5 0.3333333 0 0.0 0.0}
\CommentTok{\# [3,] 1.0000000 1.0000000 Inf 1.0 0.5000000 0 0.0 0.0}
\CommentTok{\# [4,] 0.5000000 0.5000000 1.0 Inf 1.0000000 0 0.0 0.0}
\CommentTok{\# [5,] 0.3333333 0.3333333 0.5 1.0 Inf 0 0.0 0.0}
\CommentTok{\# [6,] 0.0000000 0.0000000 0.0 0.0 0.0000000 Inf 1.0 1.0}
\CommentTok{\# [7,] 0.0000000 0.0000000 0.0 0.0 0.0000000 1 Inf 0.5}
\CommentTok{\# [8,] 0.0000000 0.0000000 0.0 0.0 0.0000000 1 0.5 Inf}
\end{Highlighting}
\end{Shaded}

Excluding the diagonal, the \textbf{compactness} is expressed as the average of the reciprocal distance. \textbf{Breadth} is the complement of compactness (1-compactness).

\hypertarget{k-step-approach}{%
\subsection{K-step approach}\label{k-step-approach}}

The k-step approach tries to find \emph{what proportion of pairs of nodes can reach each other in k steps.} It is a distance-based measure of cohesion.

💡 \emph{For instance, given the geodesic distance, what is the proportion of nodes that can reach each other in less than 3 steps?}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Geodesic distance:}
\CommentTok{\# [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8]}
\CommentTok{\# [1,] 0 1 1 2 3 Inf Inf Inf}
\CommentTok{\# [2,] 1 0 1 2 3 Inf Inf Inf}
\CommentTok{\# [3,] 1 1 0 1 2 Inf Inf Inf}
\CommentTok{\# [4,] 2 2 1 0 1 Inf Inf Inf}
\CommentTok{\# [5,] 3 3 2 1 0 Inf Inf Inf}
\CommentTok{\# [6,] Inf Inf Inf Inf Inf 0 1 1}
\CommentTok{\# [7,] Inf Inf Inf Inf Inf 1 0 2}
\CommentTok{\# [8,] Inf Inf Inf Inf Inf 1 2 0}

\CommentTok{\# \# Less than 3 steps}
\CommentTok{\# 0.3928571 = (11)/(8*7/2) = 11/28}
\end{Highlighting}
\end{Shaded}

\hypertarget{exercises}{%
\section{Exercises}\label{exercises}}

\hypertarget{comment-on-the-results-obtained}{%
\subsection{Comment on the results obtained}\label{comment-on-the-results-obtained}}

\begin{itemize}
\item
  Density

  Density assumes the same value for all the networks.
\item
  Connectedness

  In networks composed of one single component, obviously, everyone is connected with everyone else, promoting easy information sharing.

  Within some components, for instance in network 6 there's a completely connected component between Stuart, Sheldon, Penny and Leonard, which reduces the cost of information sharing.
\item
  Compactness

  The difference between the two networks with one component, we notice that in terms of compactness the fourth takes fewer steps to reach every other node in the network. If we consider the 2 steps reach in fact, we notice that it is higher in network 4 than in 3.
\end{itemize}

\emph{Considering the money to spend on the process of information sharing. Which network would be more helpful?}

In this case, components play a key role in terms of reachability. So networks as 4 and 3 are preferable.

\emph{In terms of information sharing and studying for an exam to gain a certain competence?}

Direct connections are more helpful than greater components. It's hard to transfer knowledge from multiple people to one.

\emph{When thinking to find a resource online?}

It's probably better to request it from multiple people that suggest more courses as possible.

\hypertarget{centrality}{%
\chapter{Centrality}\label{centrality}}

\hypertarget{degree-centrality-1}{%
\section{Degree Centrality}\label{degree-centrality-1}}

The aim of degree centrality is to compute who's the node that reaches as many people as possible in one single step.

\hypertarget{closeness-centrality}{%
\section{Closeness Centrality}\label{closeness-centrality}}

\emph{How to discover who's the most central node in the network? If you have information that you want everyone in the group to have, and you can only give it to one person in the group, who would you give it to?}

Every extra step needed to reach someone decreases accuracy and increases costs. A \textbf{geodesic} is the shortest path between two actors. There may be more than one shortest path connecting any two vertices.

\hypertarget{freemans-closeness-centrality}{%
\subsection{Freeman's closeness centrality}\label{freemans-closeness-centrality}}

We start with a person that has the information and in one step we count how many of them have been reached starting from him/her.

\emph{Consider the following example where we start from Marge and try to reach for every other node in the network.}

Some nodes may be equivalent, especially when they're interchangeable.

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/04-Centrality/Untitled} 

}

\end{figure}

By considering the final table obtained by counting the necessary steps to reach any other node starting from a specific one, we obtain the table aside. We can notice how Homer and Krusty are equivalent since they reach in the same number of steps all the nodes in the network, but Lisa and Bart minimize the cost with equivalent connections. On the other side, Cecil maximizes the path cost to reach all the other nodes.

These values can be normalized by computing the reciprocal, multiply for the minimum value possible: \(n-1\), which equals 9 in the Simpsons' example.

The lower the closeness, the less central a node is; the higher the closeness, the more central a node. This can be computed through the following command on R:

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/04-Centrality/Untitled 1} 

}

\end{figure}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/04-Centrality/Untitled 2} 

}

\end{figure}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(sna)}
\NormalTok{Simpsons\_n }\OtherTok{=} \FunctionTok{as.network}\NormalTok{(}\FunctionTok{as.matrix}\NormalTok{(}\FunctionTok{read.csv}\NormalTok{(}\StringTok{"Datasets/simpsons.csv"}\NormalTok{, }
                                           \AttributeTok{row.names=}\DecValTok{1}\NormalTok{, }
                                           \AttributeTok{stringsAsFactors =}\NormalTok{ F)),}
                        \AttributeTok{directed=}\NormalTok{F)}
\NormalTok{sna}\SpecialCharTok{::}\FunctionTok{closeness}\NormalTok{(Simpsons\_n, }\AttributeTok{gmode=}\StringTok{"graph"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] 0.5294118 0.5294118 0.6000000 0.5000000 0.5000000 0.6428571 0.6428571
##  [8] 0.6000000 0.4285714 0.3103448
\end{verbatim}

\emph{What happens if we add multiple components?}

The other nodes will never be reached, therefore it is counted as Inf, but it shouldn't be summed up to other steps, or every node will be equivalently central. Considering the code, we would obtain:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Simpsons\_n2}\OtherTok{\textless{}{-}}\NormalTok{Simpsons\_n}
\NormalTok{Simpsons\_n2[}\DecValTok{9}\NormalTok{,}\DecValTok{10}\NormalTok{]}\OtherTok{\textless{}{-}}\DecValTok{0}
\NormalTok{Simpsons\_n2[}\DecValTok{10}\NormalTok{,}\DecValTok{9}\NormalTok{]}\OtherTok{\textless{}{-}}\DecValTok{0}
\NormalTok{sna}\SpecialCharTok{::}\FunctionTok{closeness}\NormalTok{(Simpsons\_n2, }\AttributeTok{gmode=}\StringTok{"graph"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] 0 0 0 0 0 0 0 0 0 0
\end{verbatim}

Whoever we choose, will never reach everyone. But suppose we set a maximum cost for reaching a node, despite they're not connected and cannot reach each other. In this case, we can normalize as before and choose the highest value, remembering that still we cannot reach everyone.

\hypertarget{reciprocal-closeness-centrality}{%
\subsection{Reciprocal closeness centrality}\label{reciprocal-closeness-centrality}}

To overcome the limitation of the previous centrality measure whenever we have more components, we change the aim.

\emph{If you have information that you want as many people as possible in the group to have, and you can only give it to one person in the group, who would you give it to?}

By using the reciprocal distances (1/geodesic distance), then unreachable nodes value \(1/\infty\), therefore 0.

Considering this centrality measure, the most central node is Homer, since there is not a single component anymore, but two separated ones and Lisa/Bart took advantage of the fact that they could have reached both sides of the network, while now they can't.

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/04-Centrality/Untitled 3} 

}

\end{figure}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Simpsons\_n2}\OtherTok{\textless{}{-}}\NormalTok{Simpsons\_n}
\NormalTok{Simpsons\_n2[}\DecValTok{9}\NormalTok{,}\DecValTok{10}\NormalTok{]}\OtherTok{\textless{}{-}}\DecValTok{0}
\CommentTok{\# Simpsons\_n2[10,9]\textless{}{-}0}
\NormalTok{sna}\SpecialCharTok{::}\FunctionTok{closeness}\NormalTok{(Simpsons\_n2, }\AttributeTok{gmode=}\StringTok{"graph"}\NormalTok{, }\AttributeTok{cmode=}\StringTok{"suminvundir"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] 0.6481481 0.6481481 0.7592593 0.5925926 0.5925926 0.7222222 0.7222222
##  [8] 0.6111111 0.4074074 0.0000000
\end{verbatim}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/04-Centrality/Untitled 4} 

}

\end{figure}

By changing the network structure, separating both Bob and Cecil, we get different interpretations of this centrality measure: Bob reduces its closeness, while Cecil augments it for being connected to someone. Other nodes increase their closeness since they're more connected to the people inside their component.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Simpsons\_n3}\OtherTok{\textless{}{-}}\NormalTok{Simpsons\_n}
\NormalTok{Simpsons\_n3[}\DecValTok{8}\NormalTok{,}\DecValTok{9}\NormalTok{]}\OtherTok{\textless{}{-}}\DecValTok{0}
\CommentTok{\#Simpsons\_n3[9,8]\textless{}{-}0}
\NormalTok{sna}\SpecialCharTok{::}\FunctionTok{closeness}\NormalTok{(Simpsons\_n3, }
               \AttributeTok{gmode=}\StringTok{"graph"}\NormalTok{, }
               \AttributeTok{cmode=}\StringTok{"suminvundir"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] 0.6111111 0.6111111 0.7222222 0.5555556 0.5555556 0.6666667 0.6666667
##  [8] 0.5000000 0.1111111 0.1111111
\end{verbatim}

\hypertarget{betweenness-centrality}{%
\section{Betweenness Centrality}\label{betweenness-centrality}}

\emph{Who is important as an ``in-between'' person to transfer information?}

This centrality is about the gatekeepers between two nodes that gain power from this situation. The more nodes in between, the more extra points are earned to connect other nodes.

\emph{Consider Lisa as the in-between person we're interested in. She's important whenever she connects all nodes except for Abe to the line composed of Krusty, Bob and Cecil.}

When there are alternative paths to get from A to B, then the importance of every node in-between diminishes, because it is split among all in-between nodes (alternatives). For non-unique shortest paths, each actor gets \(1/\text{number of shortest paths}\).

\emph{Related to the Simpsons' example, we can compute the betweenness centrality for each character and then find out that Krusty has the highest betweenness centrality since without him there are no alternative paths for reaching Bob and Cecil and vice-versa.}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/04-Centrality/Untitled 5} 

}

\end{figure}

💡 \emph{In the first example, there are these three nodes that can be used as alternatives. In the second example, there are three paths from A to B, which comprehend in between nodes C, D, E, F and G.}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/04-Centrality/Untitled 6} 

}

\end{figure}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sna}\SpecialCharTok{::}\FunctionTok{betweenness}\NormalTok{(Simpsons\_n, }\AttributeTok{gmode=}\StringTok{"graph"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1]  0.8333333  0.8333333  3.6666667  0.0000000  0.0000000  8.3333333
##  [7]  8.3333333 14.0000000  8.0000000  0.0000000
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#[1] 0.8333333 0.8333333 3.66666667 0.0000000 0.0000000}
\CommentTok{\#[6] 8.3333333 8.3333333 14.0000000 8.0000000 0.0000000}
\end{Highlighting}
\end{Shaded}

The minimum value we can get is 0, while the maximum is the number of possible links we could have in a network (\(n(n-1)/2\)), which equals \((9*8)/2 = 36\) in the Simpsons' case. Normally, betweenness centrality is normalized according to the maximum value possible.

\emph{In the case of Krusty, its betweenness centrality is \(14/36 = 0.389\) which means that he's between two nodes shortest path nearly 39\% of the time.}

\hypertarget{resource-dependence-theory}{%
\section{Resource Dependence Theory}\label{resource-dependence-theory}}

According to Emerson's power from a dependency framework work,

\begin{quote}
\emph{A has power over B to the extent that B is dependent on A:
(1) B needs specific resources from A, therefore can exert power over it until B needs the resources;
(2) there are no alternatives for B to A: the power disappears by increasing the number of alternatives.}
\end{quote}

According to Brass work about being in the right place, the dependent variable is influence. He looked at closeness and betweenness centrality when focusing on newspaper publishing company employees. In particular,

\begin{itemize}
\tightlist
\item
  closeness centrality is expressed as \textbf{access} or minimal distance between a focal actor and all other persons;
\item
  betweenness centrality is expressed as \textbf{control} or the relative extent to which a focal actor falls on the shortest path between any two other persons.
\end{itemize}

Also, there were three levels of analysis: workgroup, department and organization. According to the result:

\begin{itemize}
\tightlist
\item
  when it comes to a workgroup, access to the whole resources is important. When it came to controlling, it is not important;
\item
  control instead is more pivotal at the organizational level, whereas access to resources has no importance since it is strict.
\end{itemize}

\hypertarget{bonacich-beta-centrality}{%
\section{Bonacich Beta Centrality}\label{bonacich-beta-centrality}}

It is similar to closeness centrality because we worry about near connections with people that have a lot of connections.

Beta centrality not only refers to geodesic, as closeness does but also to all possible walks. Flowing of information can be repeated and changed, such as attitude and beliefs. Whenever we reinforce the same links over and over again, we may risk entering inside an echo chamber, so the repetition of connections (back and forward) may affect the centrality of a node.

Closeness is a binary situation of connection, while Bonacich Beta Centrality is more on continuity and consistent connection between nodes.

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/04-Centrality/Untitled 7} 

}

\end{figure}

\hypertarget{matrices-and-beta-centrality}{%
\chapter{Matrices and Beta centrality}\label{matrices-and-beta-centrality}}

\hypertarget{matrix-algebra}{%
\section{Matrix Algebra}\label{matrix-algebra}}

\hypertarget{adding-two-matrices}{%
\subsection{Adding two matrices}\label{adding-two-matrices}}

The matrices X and Y indicate the ties for 2 different network relations (e.g.~communication and friendship network) for the same set of 5 actors (a,b,c,d,e):

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/05-Matrices and Beta centrality/Untitled} 

}

\end{figure}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/05-Matrices and Beta centrality/Untitled 1} 

}

\end{figure}

Suppose we want to sum \(X+2Y\). Considering their adjacency matrix, we get:

\[
\left(  
\begin{array}{ccccc}
0 & 1 & 1 & 0 & 0\\
1 & 0 & 1 & 0 & 0 \\
1 & 1 & 0 & 1 & 0 \\
0 & 0 & 1 & 0 & 1 \\
0 & 0 & 0 & 1 & 0 \\
\end{array}
\right)+2
\left(  
\begin{array}{ccccc}
0 & 1 & 0 & 1 & 1\\
1 & 0 & 1 & 0 & 0 \\
0 & 1 & 0 & 1 & 0 \\
1 & 0 & 1 & 0 & 0 \\
1 & 0 & 0 & 0 & 0 \\
\end{array}
\right) = 
\left(  
\begin{array}{ccccc}
0 & 3 & 1 & 2 & 2\\
3 & 0 & 3 & 0 & 0 \\
1 & 3 & 0 & 3 & 0 \\
2 & 0 & 3 & 0 & 1 \\
2 & 0 & 0 & 1 & 0 \\
\end{array}
\right)
\]

\hypertarget{cell-multiplication}{%
\subsection{Cell Multiplication}\label{cell-multiplication}}

Suppose we want to compute \(XY\). Considering their adjacency matrix, we get:

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/05-Matrices and Beta centrality/Untitled 2} 

}

\end{figure}

\[
\left(  
\begin{array}{ccccc}
0 & 1 & 1 & 0 & 0\\
1 & 0 & 1 & 0 & 0 \\
1 & 1 & 0 & 1 & 0 \\
0 & 0 & 1 & 0 & 1 \\
0 & 0 & 0 & 1 & 0 \\
\end{array}
\right)\times
\left(  
\begin{array}{ccccc}
0 & 1 & 0 & 1 & 1\\
1 & 0 & 1 & 0 & 0 \\
0 & 1 & 0 & 1 & 0 \\
1 & 0 & 1 & 0 & 0 \\
1 & 0 & 0 & 0 & 0 \\
\end{array}
\right) = 
\left(  
\begin{array}{ccccc}
0 & 1 & 0 & 0 & 0\\
1 & 0 & 1 & 0 & 0 \\
0 & 1 & 0 & 1 & 0 \\
0 & 0 & 1 & 0 & 0 \\
0 & 0 & 0 & 0 & 0 \\
\end{array}
\right)
\]

\hypertarget{matrix-multiplication-of-different-matrices}{%
\subsection{Matrix Multiplication of different matrices}\label{matrix-multiplication-of-different-matrices}}

Suppose the two matrices represent the flights and trains from a place to another. Then we can imagine the next scenarios:

\begin{itemize}
\tightlist
\item
  From point A to point A
\item
  From point A to point B
\item
  From point B to point B
\end{itemize}

\hypertarget{bonacich-beta-centrality-1}{%
\section{Bonacich Beta Centrality}\label{bonacich-beta-centrality-1}}

Imagine there can be a repeated influence, such that it spreads on two or more steps. The image below represents some of the one, two, three and four steps paths inside the network:

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/05-Matrices and Beta centrality/Untitled 3} 

}

\end{figure}

\[
R = \sum^\infty_{k=1}(\beta^{k-1}X^k) = X+\beta X^2+\beta^2 X^3+\dots
\]

Imagine there can be a repeated influence and we want to capture popularity (i.e.~being connected to many popular people). By looking at one single step, we get that node \(d\) has beta centrality \(\beta*(1+1+1+3)\), which represent the number of nodes that neighbours can reach. We then add an additional term \(\beta^2\), multiplied for the number of nodes each neighbour can reach in two steps.

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/05-Matrices and Beta centrality/Untitled 4} 

}

\end{figure}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/05-Matrices and Beta centrality/Untitled 5} 

}

\end{figure}

Given the matrix \(X\), we have the adjacency matrix of nodes A, B, C and D. We can compute all the two-steps adjacency paths and so on (i.e.~\(X^2, X^3, X^4,\dots\)). We could compute the centrality by summing them up:

\[
c_B(A) = 2+5+10+23+48+\dots
\]

Instead of just summing them, we could insert the beta \(\beta\) term which reduces the importance of the paths that necessitate of multiple steps:

\[
c_B(i) = XI+\beta X^2I+\beta^2X^3I+\dots
\]

By choosing, for example, \(\beta = 0.1\), the beta centrality of \(A\) becomes:

\[
c_B(A) = 1*2+0.1*5+0.01*10+0.001*23+0.0001*48+\dots
\]

In the end, we get for each node:

\begin{table}[h]
\centering
\begin{tabular}{@{}lll@{}}
\toprule
\textbf{Node} & \textbf{Beta Centrality} & \textbf{Norm} \\ \midrule
A             & 3.7096                   & 0.26          \\
B             & 3.7096                   & 0.26          \\
C             & 4.8706                   & 0.342         \\
D             & 1.9706                   & 0.138         \\ \bottomrule
\end{tabular}
\caption{}
\label{tab:my-table}
\end{table}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(igraph)}
\NormalTok{MAT4}\OtherTok{\textless{}{-}}\FunctionTok{matrix}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{,}
               \DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{,}
               \DecValTok{1}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{,}
               \DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{),}\DecValTok{4}\NormalTok{,}\DecValTok{4}\NormalTok{)}
\NormalTok{MAT4i}\OtherTok{\textless{}{-}}\FunctionTok{graph\_from\_adjacency\_matrix}\NormalTok{(MAT4,}
                                   \AttributeTok{mode=}\FunctionTok{c}\NormalTok{(}\StringTok{"undirected"}\NormalTok{),}
                                   \AttributeTok{diag=}\NormalTok{F)}
\CommentTok{\# Beta value = 0.1}
\FunctionTok{bonpow}\NormalTok{(MAT4i, }\AttributeTok{exponent=}\FloatTok{0.1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0.9746799 0.9746799 1.3577419 0.5064930
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Beta value = 0.1, with normalized values}
\FunctionTok{bonpow}\NormalTok{(MAT4i, }\AttributeTok{exponent=}\FloatTok{0.1}\NormalTok{)}\SpecialCharTok{/}\FunctionTok{sum}\NormalTok{(}\FunctionTok{bonpow}\NormalTok{(MAT4i, }\AttributeTok{exponent=}\FloatTok{0.1}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0.2555804 0.2555804 0.3560268 0.1328125
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Beta value = 0.2}
\FunctionTok{bonpow}\NormalTok{(MAT4i, }\AttributeTok{exponent=}\FloatTok{0.2}\NormalTok{)}\SpecialCharTok{/}\FunctionTok{sum}\NormalTok{(}\FunctionTok{bonpow}\NormalTok{(MAT4i, }\AttributeTok{exponent=}\FloatTok{0.2}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0.2601626 0.2601626 0.3414634 0.1382114
\end{verbatim}

We could change the beta value to 0.2 and obtain:

\begin{table}[h]
\centering
\begin{tabular}{@{}lll@{}}
\toprule
\textbf{Node} & \textbf{Beta Centrality} & \textbf{Norm} \\ \midrule
A             & 2.6291                   & 0.256         \\
B             & 2.6291                   & 0.256         \\
C             & 3.6624                   & 0.356         \\
D             & 1.3662                   & 0.132         \\ \bottomrule
\end{tabular}
\caption{}
\label{tab:my-table}
\end{table}

\hypertarget{graph-exercise}{%
\section{Graph exercise}\label{graph-exercise}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{MAT11}\OtherTok{\textless{}{-}}\FunctionTok{matrix}\NormalTok{(}\FunctionTok{c}\NormalTok{(}
\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{,}
\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{,}
\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{,}
\DecValTok{1}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{,}
\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{,}
\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{,}
\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{,}
\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{,}
\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{,}
\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{,}
\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{),}\DecValTok{11}\NormalTok{,}\DecValTok{11}\NormalTok{)}

\CommentTok{\# Creation of the graph}
\NormalTok{GRAPH11}\OtherTok{\textless{}{-}}\FunctionTok{graph\_from\_adjacency\_matrix}\NormalTok{(MAT11,}\AttributeTok{mode=}\FunctionTok{c}\NormalTok{(}\StringTok{"undirected"}\NormalTok{),}\AttributeTok{diag=} \ConstantTok{FALSE}\NormalTok{)}

\FunctionTok{bonpow}\NormalTok{(GRAPH11, }\AttributeTok{exponent=}\NormalTok{.}\DecValTok{1}\NormalTok{)}\SpecialCharTok{/}\FunctionTok{sum}\NormalTok{(}\FunctionTok{bonpow}\NormalTok{(GRAPH11, }\AttributeTok{exponent=}\NormalTok{.}\DecValTok{1}\NormalTok{)) }\CommentTok{\# Beta value = 0.1}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] 0.05570762 0.05570762 0.05570762 0.18241829 0.05570762 0.05570762
##  [7] 0.05570762 0.18241829 0.15842859 0.09547577 0.04701336
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{bonpow}\NormalTok{(GRAPH11, }\AttributeTok{exponent=}\NormalTok{.}\DecValTok{2}\NormalTok{)}\SpecialCharTok{/}\FunctionTok{sum}\NormalTok{(}\FunctionTok{bonpow}\NormalTok{(GRAPH11, }\AttributeTok{exponent=}\NormalTok{.}\DecValTok{2}\NormalTok{)) }\CommentTok{\# Beta value = 0.2}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] 0.05970982 0.05970982 0.05970982 0.17075893 0.05970982 0.05970982
##  [7] 0.05970982 0.17075893 0.16350446 0.09263393 0.04408482
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{bonpow}\NormalTok{(GRAPH11, }\AttributeTok{exponent=}\NormalTok{.}\DecValTok{3}\NormalTok{)}\SpecialCharTok{/}\FunctionTok{sum}\NormalTok{(}\FunctionTok{bonpow}\NormalTok{(GRAPH11, }\AttributeTok{exponent=}\NormalTok{.}\DecValTok{3}\NormalTok{)) }\CommentTok{\# Beta value = 0.3}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] 0.06278200 0.06278200 0.06278200 0.16256285 0.06278200 0.06278200
##  [7] 0.06278200 0.16256285 0.16668815 0.09036999 0.04112415
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{bonpow}\NormalTok{(GRAPH11, }\AttributeTok{exponent=}\NormalTok{.}\DecValTok{4}\NormalTok{)}\SpecialCharTok{/}\FunctionTok{sum}\NormalTok{(}\FunctionTok{bonpow}\NormalTok{(GRAPH11, }\AttributeTok{exponent=}\NormalTok{.}\DecValTok{4}\NormalTok{)) }\CommentTok{\# Beta value = 0.4}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] 0.06536114 0.06536114 0.06536114 0.15666328 0.06536114 0.06536114
##  [7] 0.06536114 0.15666328 0.16861648 0.08799593 0.03789420
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{bonpow}\NormalTok{(GRAPH11, }\AttributeTok{exponent=}\NormalTok{.}\DecValTok{5}\NormalTok{)}\SpecialCharTok{/}\FunctionTok{sum}\NormalTok{(}\FunctionTok{bonpow}\NormalTok{(GRAPH11, }\AttributeTok{exponent=}\NormalTok{.}\DecValTok{5}\NormalTok{)) }\CommentTok{\# Beta value = 0.5}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] 0.06779661 0.06779661 0.06779661 0.15254237 0.06779661 0.06779661
##  [7] 0.06779661 0.15254237 0.16949153 0.08474576 0.03389831
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{bonpow}\NormalTok{(GRAPH11, }\AttributeTok{exponent=}\DecValTok{0}\NormalTok{)}\SpecialCharTok{/}\FunctionTok{sum}\NormalTok{(}\FunctionTok{bonpow}\NormalTok{(GRAPH11, }\AttributeTok{exponent=}\DecValTok{0}\NormalTok{)) }\CommentTok{\# Beta value = 0}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] 0.05 0.05 0.05 0.20 0.05 0.05 0.05 0.20 0.15 0.10 0.05
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{bonpow}\NormalTok{(GRAPH11, }\AttributeTok{exponent=}\SpecialCharTok{{-}}\NormalTok{.}\DecValTok{1}\NormalTok{)}\SpecialCharTok{/}\FunctionTok{sum}\NormalTok{(}\FunctionTok{bonpow}\NormalTok{(GRAPH11, }\AttributeTok{exponent=}\SpecialCharTok{{-}}\NormalTok{.}\DecValTok{1}\NormalTok{)) }\CommentTok{\# Beta value = {-}0.1}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] 0.0408331 0.0408331 0.0408331 0.2293779 0.0408331 0.0408331 0.0408331
##  [8] 0.2293779 0.1345574 0.1087969 0.0528912
\end{verbatim}

\hypertarget{attributes-based-measures}{%
\chapter{Attributes based measures}\label{attributes-based-measures}}

\hypertarget{resourcefulness}{%
\section{Resourcefulness}\label{resourcefulness}}

Resource generator relates to people with more resources. Resourcefulness usually establishes the measures of zero (nothing) and total (everything).

💡 \emph{It is not only related to money but for instance to happiness: the more happy people we're related with, the more good vibes we will gather.}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/06-Attributes based measures/Untitled} 

}

\end{figure}

The resourceful alter can be computed through the total or the average:

\begin{itemize}
\item
  total:

  \[
    sum \ R_i = \sum_j x_{ij}r_j
    \]
\item
  average

  \[
    avg \ R_i = \frac{ \sum_j x_{ij}r_j}{\sum_j x_{ij}}
    \]
\end{itemize}

\begin{table}[]
\centering
\begin{tabular}{@{}llll@{}}
\toprule
\textbf{Node} & \textbf{Neighbours} & \textbf{Total R} & \textbf{Average R} \\ \midrule
a             & b, d, e             & 45+25+21 = 91    & 91/3 = 30.3333     \\
b             & c                   & 32               & 32                 \\
c             & a, b                & 19+45 = 64       & 64/2 = 32          \\
d             & a, c                & 19+32 = 51       & 51/2 = 25.5        \\
e             & a, c, d             & 19+32+25 = 76    & 76/3 = 25.333      \\ \bottomrule
\end{tabular}
\caption{}
\label{tab:my-table}
\end{table}

Consider the adjacency matrix beside, where the green table indicates the number of resources held by nodes and the blue one is the adjacency matrix. We could then compute the resourcefulness of each node, both in terms of sum and average, as shown in the table.

\begin{figure}[h!]

{\centering \includegraphics[width=0.3\linewidth]{images/06-Attributes based measures/Untitled 1} 

}

\end{figure}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/06-Attributes based measures/08-graph} 

}

\end{figure}

\hypertarget{homophily}{%
\section{Homophily}\label{homophily}}

Which of the two networks is a good situation?

\begin{itemize}
\tightlist
\item
  it's good to be connected to similar people because they will get along, they understand each other, there's a common ground and they emphasize with each other;
\item
  on the other side, to spread knowledge, exit from our echo chamber it is important also to face different realities.
\end{itemize}

We could simply compute \textbf{homophily} by computing the percentage of neighbours of the central node that belongs to the same category.

💡 \emph{Suppose we talk about males and females ego networks. In the first example, there's 80\% of homophily, followed by 40 and 60\%.}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/06-Attributes based measures/Untitled 2} 

}

\end{figure}

To properly define homophily in ego networks, we recur to:

\[
EI_i = \frac{E_i-I_i}{E_i+I_i}
\]

Whenever we change our perspective considering a global network, as the example on the right, also our interpretation may change. For instance, by considering a, b and d as in the previous example, their connections change if we extend their ego networks.

We could build a matrix by considering:

\begin{itemize}
\tightlist
\item
  nodes who are the same or different type as ego;
\item
  whether these nodes are directly connected or not to an ego.
\end{itemize}

In complete networks as the one on the right, the homophily is computed as:

\[
Q_i = \frac{ad-bc}{ad+bc}
\]

\begin{figure}[h!]

{\centering \includegraphics[width=0.3\linewidth]{images/06-Attributes based measures/Untitled 3} 

}

\end{figure}

\begin{figure}[h!]

{\centering \includegraphics[width=0.8\linewidth]{images/06-Attributes based measures/Untitled 4} 

}

\end{figure}

Whenever we have high b and c, we have atrophy, tendency to choose different people from us; whenever a and d are high, homophily increases.

💡 \emph{In the second network, b tends to prefer women to men, since she excludes most of the men from her connections. There's a high tendency to homophily.
In the third network, says that he builds more connections with females than random chance. Also, he did not connect to a lot of males that were available.}

The odds ratio divides ad over bc. It causes problems whenever bc is zero since it tends to infinity.

\[
odds = \frac{ad}{bc}
\]

\hypertarget{diversity}{%
\section{Diversity}\label{diversity}}

Differences in characteristics imply differences in resources, so when we connect with different people, we have access to different types of resources.

The \textbf{index of quality variation} looks at one person and we care about other people categories (i.e.~to what resources they can access):

\begin{itemize}
\tightlist
\item
  if all neighbours belong to the same category, the index values 0;
\item
  if we consider an ego network, in particular, the proportion of nodes per each category and sum their squared value, we get our value.
\item
  if every alter belongs to a different category, the index equals 1.
\end{itemize}

All values are normalized by the maximum value that the index can assume.

\begin{figure}[h!]

{\centering \includegraphics[width=0.3\linewidth]{images/06-Attributes based measures/Untitled 5} 

}

\end{figure}

\begin{figure}[h!]

{\centering \includegraphics[width=0.8\linewidth]{images/06-Attributes based measures/Untitled 6} 

}

\end{figure}

💡 \textbf{Remember}:
heterophily among alters;
homogeneity when all connections are the same category;
homophily among alters;
atrophy within an ego network (people different from me that challenge me).

\hypertarget{triads-and-structural-holes}{%
\chapter{Triads and structural holes}\label{triads-and-structural-holes}}

\emph{Aim: Focus on the individual level, in particular on triads (groups of three people).}

\hypertarget{social-capital}{%
\section{Social Capital}\label{social-capital}}

\begin{quote}
\emph{Social structure is a kind of \textbf{capital} that can create for certain individuals or groups a competitive advantage in pursuing their ends. Better connected people enjoy higher returns.
---- Burt, 2000}
\end{quote}

\begin{quote}
\begin{itemize}
\tightlist
\item
  \textbf{Social capital:} seen as social relations and networks;
\item
  Capital: can be financial, human, cultural etc. We can define also who owns it;
\item
  \textbf{Competitive Advantage}: it means that who detains it has some benefits; whenever there are no more benefits related to a relationship, we talk about social liabilities. Benefits tend to have a positive effect on the entire network (i.e.~tautology).
\end{itemize}
\end{quote}

\begin{itemize}
\item
  Individuals benefits from social capital

  \begin{quote}
  \emph{friends, colleagues, and more general contacts through whom you
  receive opportunities to use your financial capital and human capital
  ---- Burt, 1992}
  \end{quote}
\item
  Groups benefit from social capital, where shared goals include the sharing of beliefs and norms;

  \begin{quote}
  \emph{Social capital flows from the endowment of mutually respecting and
  trusting relationships which enable a group to pursue its shared goals
  more effectively than would otherwise be possible
  ---- Szreter, 2000}
  \end{quote}
\item
  Better connected: Social Network Analysis
\item
  Higher returns do not necessarily involve an active investment:

  \begin{itemize}
  \item
    Unintentional results

    \begin{quote}
    \emph{social capital depends on being a byproduct of activities
    engaged in for other purposes
    ---- Coleman, 1990}
    \end{quote}
  \item
    Actively created social relations

    \begin{quote}
    \emph{Becker supposes that people choose social networks in ways
    that will maximize their utility
    ---- Fine and Green, 2000}
    \end{quote}
  \end{itemize}
\end{itemize}

\hypertarget{general-balance-theory}{%
\section{General Balance Theory}\label{general-balance-theory}}

\emph{Imagine two people, Stan and Kyle, supposing that the first is into Trump and the second into Biden. Suppose they're friends but they have opposite opinions about politics. What could happen next? Try to convince each other and maintain the friendship or End the relationship;}

In case relationships are ended whenever we meet differences, we talk about \textbf{social selection}. The issue here is that echo chambers may rise, leading to groups of people that share the same knowledge over and over again.

Instead, whenever we change our minds by interacting with others and dialoguing pacifically, we talk about \textbf{social influence or contagion}.

\hypertarget{heiders-balance-theory}{%
\section{Heider's Balance Theory}\label{heiders-balance-theory}}

It's about the attitude of people in groups of three. This theory considers triads instead of dyads, as in the previous general theory.

💡 \emph{Suppose we're friends with someone that hates one of our friends. It may happen in one of the following cases to bring everything into balance:
- End the relationship with one of the two;
- Make them get along.}

According to this theory is both possible social selection and social influence, such that opposition groups are more strongly differentiated from each other.

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/07-Triads and structural holes/Untitled} 

}

\end{figure}

\hypertarget{granovetters-strength-of-weak-ties}{%
\section{Granovetter's Strength of Weak Ties}\label{granovetters-strength-of-weak-ties}}

\begin{quote}
\emph{Weak ties provide people with access to information and resources
beyond those available in their own social circle; but strong ties have
greater motivation to be of assistance and are typically more easily
available.
---- Granovetter, 1983}
\end{quote}

In this theory, we do not focus on positive/negative ties, but on their strength. Let's think about forbidden triads, defined as those triads where there's a person that is strongly related to two people.

💁️ Proposition: If there are 2 strong ties between 3 people, then there will also be at least a weak tie between the others. Therefore, they know each other, despite not being good friends. This theory is based on a probabilistic assumption, therefore it may not happen all the time.

A \textbf{forbidden triad} is defined as a combination of two strong ties and a missing tie that links the missing two nodes.

Consider the following example, we can detect three communities, with no structural bridge with strong ties. Weak ties are important because of the cross social circles to get unique information. This means that information is spread between social circles via weak ties.

About the importance of acquaintances in social networks:

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/07-Triads and structural holes/Untitled 1} 

}

\end{figure}

\begin{quote}
\emph{these clumps / {[}strong ties networks{]} could not,
in fact, being connected to one another at all were
it not for the existence of weak ties.
---- Granovetter, 1973}
\end{quote}

\hypertarget{simmel-and-triads}{%
\section{Simmel and triads}\label{simmel-and-triads}}

A relation between people in a dyad is of limited interest since it refers to two people. The social dynamics becomes evident when referring to three people: assuming equal individual power of (A, B and C), two actors (A and C) can join forces against a third party (B) and therefore build coalitions to force the third party (Simmel Theory).

\hypertarget{coleman-and-closure}{%
\section{Coleman and closure}\label{coleman-and-closure}}

According to \textbf{Coleman's closure theory}, high density among people creates group pressure. Closure ensures that group norms are reinforced (joined control against freeriding, anti-social behaviour, etc.). This enforces trust and reduces costs of monitoring and transaction costs (tacit knowledge). In general, closure is a broader normative order within which the individual can optimise performance.

\hypertarget{burts-structural-holes}{%
\section{Burt's Structural Holes}\label{burts-structural-holes}}

Under a selfish and individualistic perspective, Burt's Structural Holes theory is applied.

💡 \emph{By considering the three networks and nodes A, B and C, Coleman's closure theory states that A is in a better position because of the trust enabled by nodes in the network. Whereas Burt's theory prefers C since we maximize the relationships and resources received by nodes that must pass through C to communicate.}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/07-Triads and structural holes/Untitled 2} 

}

\end{figure}

Betweenness centrality is relevant because it is about the flow of resources between people we're connected to. In this case, C has the highest betweenness centrality, while A has the lowest. We can summarize previous theories through:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Simmel: No control over ego by others;
\item
  Betweenness: power overflow of information and resources;
\item
  Granovetter: access to unique information.
\end{enumerate}

\hypertarget{gould-and-fernandezs-brokerage-positions}{%
\subsection{Gould and Fernandez's Brokerage Positions}\label{gould-and-fernandezs-brokerage-positions}}

In this example, we look at gatekeepers, by focusing on different inputs and outputs. According to Gould and Fernandez, there are different brokerage positions:

\begin{itemize}
\tightlist
\item
  coordinator: interaction between members of the same group;
\item
  gatekeeper: from an external group, it passes information to its group;
\item
  representative: diffuses knowledge from its group to another;
\item
  cosmopolitan: mediates as outsider members of the same group;
\item
  liaison: interaction between different groups.
\end{itemize}

\hypertarget{krackhardts-simmelian-ties}{%
\section{Krackhardt's Simmelian Ties}\label{krackhardts-simmelian-ties}}

Krackhardt's disagrees with both Coleman and Burt's theories. According to Krackhardt's, the node in the middle has to satisfy expectations of both groups, which brings node B in the previous networks in a difficult situation. This means that B is in the worst position possible because of the social tension it may encapsulate.

💡 \emph{In his example of a Silicon Valley company, he created a friendship network, establishing work position according to the color: manager, pro-union, anti-union and silent positions. In the example, Chris is the most central person and everybody will listen to him. Why? Because he belongs to the pro-union position community, but all the anti-union position workers are his friends. Instead of being at the centre of the attention, Chris became silent because of the closeness to two different groups.}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/07-Triads and structural holes/Untitled 3} 

}

\end{figure}

\hypertarget{small-worlds-and-key-players}{%
\section{Small worlds and key players}\label{small-worlds-and-key-players}}

\hypertarget{six-degrees-of-separation}{%
\subsection{Six degrees of separation}\label{six-degrees-of-separation}}

According to Milgram's experiment in 1967, some people were randomly selected in Nebraska and they should send a letter or a package to someone they know in Boston. They can only use people they know on a first-name basis. The average path for the received package was 5.5, but only a few were actually reached, that's why they choose the average and not the actual value.

\hypertarget{small-world-effect}{%
\subsection{Small World Effect}\label{small-world-effect}}

In society, there's a high level of clustering, especially when the degrees of separation is that low. Whenever we have a lower geodesic distance within the same cluster, with few nodes, we may want to connect these small communities with some ties: in this case, the average distance reduces.

A few changes in where we place ties makes some connected clusters into a small world where anybody can reach anybody else in a few steps.

\begin{figure}[h!]

{\centering \includegraphics[width=0.6\linewidth]{images/07-Triads and structural holes/Untitled 4} 

}

\end{figure}

\hypertarget{keyplayers}{%
\subsection{Keyplayers}\label{keyplayers}}

Information only reaches the direct contacts of a person.

💡 We want to reach as many people as possible and we can choose the persons to which we can communicate the information. Who would we choose?
1 person: 7
2 persons: 9, 4
3 persons: 12, 2, 16, to reach everyone except for 18
4 persons: 12, 42 16, 18
We're trying to choose non redundant links to reach as many nodes as possible.
What if we remove these nodes? Will we still be able to reach them all? Without 9, 7 and 4, we will have three clusters, guided by 12, 2 and 16.

\hypertarget{metrics-for-structural-holes}{%
\chapter{Metrics for structural holes}\label{metrics-for-structural-holes}}

\hypertarget{ego-density}{%
\section{Ego density}\label{ego-density}}

Consider the Medici family, which has 6 alters. The number of ties between these alters is 1, while the maximum is \(6*5/2 = 15\). This means that the ego density is the ratio between the first value and the maximum: \(1/15 = 0.067\):

\[
\text{ego density} = \frac{ \text{\# ties between alters }}{\text{\# maximum links between alters}}
\]

We could repeat the computation for the remaining families:

💡 \emph{For instance, the Peruzzi family has 3 alters, between which there are 2 ties, while the maximum is \(3/2/2 = 3\). Therefore the ego density equals \(2/3 = 0.667\).}

💡 \emph{For instance, the Tornabuoni family has 3 neighbours and between them, there's a link, while the maximum is 3. The ego density equals \(1/3 = 0.33\). Same happens to Bischeri, Castellani, Ridolfi and Strozzi.}

\hypertarget{ego-betweenness}{%
\section{Ego betweenness}\label{ego-betweenness}}

The ego betweenness measures whether a node is within the shortest path between couples of nodes.

💡 Consider the \textbf{Medici} Family. It has:
- 5 from Salviati to any other node;
- 5 from Acciaiuoli to any other;
- 5 from Albizzi to any other;
- 5 from Barbadori to any other;
- 4 from Tornabuoni to any other but Ridolfi;
- 4 from Ridolfi to any other but Tornabuoni.
In total, its ego betweenness is 28.

💡 Consider the \textbf{Guadagni} family. They have 4 alters:
- from Lamberteschi to any other: 3;
- from Bischeri: 3;
- from Albizzi: 3;
- from Tornabuoni: 3;
In total, its ego betweenness is 12.

💡 Consider the \textbf{Peruzzi} Family. They are NOT in the shortest path from Bischeri to Strozzi, neither from Castellani and Strozzi, but since there are two possible paths from Bischeni to Castellani and vice versa, the ego betweenness is 0.5 (1 if we sum up both versus).

💡 Consider the \textbf{Strozzi} Family. It has:
- 0.5 from Bischeri to Castellani and vice versa (1)
- 1 from Bischeri/Castellani/Peruzzi to Ridolfi (3) and vice versa (3);
In total, its ego betweenness is 7.

\emph{By summing the betweenness for every possible path we get the ego-betweenness of the single node.}

In Florence's scenario, De Medici is the structural hole, while Pazzi, Pucci, Ginori and Acciaiuoli are the most closed families.

\hypertarget{constraint-index}{%
\section{Constraint index}\label{constraint-index}}

The constraint index is the opposite of structural holes, which indicate that we're limited by our network. With no constraint, nodes are free to do whatever they want.

\[
c_{i}=\sum_{j=1}^{n}\left[c_{i j}\right]=\sum_{j=1}^{n}\left[p_{i j}+\sum_{k=1}^{n} p_{i k} p_{k j}\right]^{2} \quad \text { with } \quad k \neq j \neq i
\]

Suppose \(a\) is the ego, in four different situations:

\begin{itemize}
\tightlist
\item
  all alters are connected with each other: if a truncates the relationship, there is no affection to theirs;
\item
  same as the previous case, but lower number of alters: higher constraint index;
\item
  no alter is connected to any other alter of a;
\item
  same as the previous case, but lower number of alters, which reduces the constraint index;
\end{itemize}

A lower value for the constraint index indicates a higher presence of structural holes. With lower connections, each of them is dangerous, since their loss implies the closure of nodes. If there are fewer friends that are connected with each other there's a higher constraint. Whenever \(a\) becomes central and regulates relationships between nodes, there's a structural node and the constraint falls.

\hypertarget{pilot-example}{%
\subsection{Pilot Example}\label{pilot-example}}

For each direct link starting from \(a\), compute the probability of choosing that link plus the two-step paths that link a to the related node.

\begin{itemize}
\item
  Example 1: 1/4 probability per each node with within links

  \[
    \begin{aligned}
    ab &= (p_{ab}+p_{ac}p_{cb}+p_{ad}p_{db}+p_{ae}p_{eb})
    \\&= (1/4+1/4*1/3+1/4*1/3+1/4*1/3)^2 =(1/2)^2 \\
    & = ac = ad = ae\\
    &\text{Constraint index} = ab+ac+ad+ae = 1
    \end{aligned}
    \]
\end{itemize}

\begin{figure}[h!]

{\centering \includegraphics[width=0.4\linewidth]{images/08-Metrics for structural holes/Untitled} 

}

\end{figure}

\begin{itemize}
\item
  Example 2: 1/4 probability per each node with no link

  \[
    \begin{aligned}
    ab &= (p_{ab}+p_{ac}p_{cb}+p_{ad}p_{db}+p_{ae}p_{eb})
    \\&= (1/4+1/4*0+1/4*0+1/4*0)^2 =(1/4)^2 \\
    & = ac = ad = ae\\
    &\text{Constraint index} = ab+ac+ad+ae = 1/4
    \end{aligned}
    \]
\end{itemize}

\begin{figure}[h!]

{\centering \includegraphics[width=0.4\linewidth]{images/08-Metrics for structural holes/Untitled 1} 

}

\end{figure}

\begin{itemize}
\item
  Example 3: 1/2 probability per each node with link

  \[
    \begin{aligned}
    ab &= (p_{ab}+p_{ac}p_{cb})
    \\&= (1/2+1/2*1)=1\\
    & = ac\\
    &\text{Constraint index} = ab+ac= 2
    \end{aligned}
    \]
\end{itemize}

\begin{figure}[h!]

{\centering \includegraphics[width=0.4\linewidth]{images/08-Metrics for structural holes/Untitled 2} 

}

\end{figure}

\begin{itemize}
\item
  Example 3: 1/2 probability per each node with no link

  \[
    \begin{aligned}
    ab &= (p_{ab}+p_{ac}p_{cb})
    \\&= (1/2+1/2*0)=1/2\\
    & = ac\\
    &\text{Constraint index} = ab+ac= 1
    \end{aligned}
    \]
\end{itemize}

\begin{figure}[h!]

{\centering \includegraphics[width=0.4\linewidth]{images/08-Metrics for structural holes/Untitled 3} 

}

\end{figure}

\hypertarget{florencian-families-example}{%
\subsection{Florencian Families Example}\label{florencian-families-example}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{igraph}\SpecialCharTok{::}\FunctionTok{constraint}\NormalTok{(graph, }\AttributeTok{nodes =} \FunctionTok{V}\NormalTok{(graph), }\AttributeTok{weights =} \ConstantTok{NULL}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(igraph)}
\NormalTok{PFM}\OtherTok{\textless{}{-}}\FunctionTok{read.csv}\NormalTok{(}\StringTok{"datasets/Padgett\_FlorentineFamilies\_Marriage.csv"}\NormalTok{,}
                            \AttributeTok{stringsAsFactors=}\ConstantTok{FALSE}\NormalTok{,}
                            \AttributeTok{row.names=}\DecValTok{1}\NormalTok{)}
\NormalTok{PFM\_i}\OtherTok{\textless{}{-}}\FunctionTok{graph\_from\_adjacency\_matrix}\NormalTok{(}\FunctionTok{as.matrix}\NormalTok{(PFM),}
                                   \AttributeTok{mode=}\StringTok{"undirected"}\NormalTok{,}
                                   \AttributeTok{diag=}\NormalTok{F)}
\FunctionTok{constraint}\NormalTok{(PFM\_i)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##   ACCIAIUOLI      ALBIZZI    BARBADORI     BISCHERI   CASTELLANI       GINORI 
##    1.0000000    0.3333333    0.5000000    0.4822531    0.4822531    1.0000000 
##     GUADAGNI LAMBERTESCHI       MEDICI        PAZZI      PERUZZI        PUCCI 
##    0.2500000    1.0000000    0.2098765    1.0000000    0.6558642          NaN 
##      RIDOLFI     SALVIATI      STROZZI   TORNABUONI 
##    0.4598765    0.5000000    0.4583333    0.4598765
\end{verbatim}

💡 \emph{To know whether \(a\) spends the same amount of time between all of its neighbours, the strength of the relationship may be necessary. Otherwise, we will assume that its attention will be equally split among all alters.}

Let's try to compute the index with some families:

\begin{itemize}
\item
  Pazzi

  Pazzi only has 1 alter: Salviati. Therefore the constraint index will be equal to the term that counts the probability of going from Pazzi to Salviati (which equals 1\^{}2 = 1).
\end{itemize}

\begin{figure}[h!]

{\centering \includegraphics[width=0.2\linewidth]{images/08-Metrics for structural holes/Untitled 4} 

}

\end{figure}

\begin{itemize}
\item
  Barbadori

  Barbadori only has two alters: Medici and Castellani:

  \[
    \begin{aligned}
    BM = (p_{BM}+p_{BC}*p_{CM})^2 = (1/2+1/2*0)^2 = 1/4 \\
    BC = (p_{BC}+p_{BM}*p_{MC})^2 = (1/2+1/2*0)^2 = 1/4\\
    \text{Constraint index} = BM+BC = 1/2 = 0.5
    \end{aligned}
    \]
\end{itemize}

\begin{figure}[h!]

{\centering \includegraphics[width=0.2\linewidth]{images/08-Metrics for structural holes/Untitled 5} 

}

\end{figure}

\begin{itemize}
\item
  Bischeri

  Bischeri has three neighbours: Guadagni, Strozzi and Peruzzi:

  \[
    \begin{aligned}
    BG &= (p_{BG}+p_{BP}*p_{PG}+p_{BS}*p_{SG})^2\\
    &=(1/3+1/3*0+1/3*0)^2 = 0.1111\\
    BS &= (p_{BS}+p_{BP}*p_{PS}+p_{BG}*p_{GS})^2\\
    &= (1/3+1/3*1/3+1/3*0)^2 = 0.1975\\
    BP &= (p_{BP}+p_{BG}*p_{GP}+p_{BS}*p_{SP})^2 \\&= (1/3+1/3*0+1/3*1/4)^2 = 0.1736\\
    \text{Constraint index} = BG+BS+BP = 0.4823
    \end{aligned}
    \]
\end{itemize}

\begin{figure}[h!]

{\centering \includegraphics[width=0.2\linewidth]{images/08-Metrics for structural holes/Untitled 6} 

}

\end{figure}

💡 \emph{Note that this method of computing the constraint index is graph one, while UCINET automatically removes the starting edge that links the intermediary node to the starting ego node, leading to a greater or equal value for CI.}

\hypertarget{exercise}{%
\section{Exercise}\label{exercise}}

\begin{figure}[h!]

{\centering \includegraphics[width=0.35\linewidth]{images/08-Metrics for structural holes/08-constraint_index_example} 

}

\end{figure}

Given node \(a\) as ego, compute the constraint index:

\begin{itemize}
\item
  ab

  \[
    ab = (p_{ab}+p_{ac}* p_{cb})^2 =  (2/11)^2 = (14/77)^2
    \]
\item
  ac

  \[
    \begin{aligned}
    ac &= p_{ab}*p_{bc}+p_{ac}+p_{ad}*p_{dc}+p_{ae}*p_{ec}+p_{af}*p_{fc} =\\
    &= (2/11*0+5+1/11*5/7+1/11*0+2/11*0)^2= \\
    &= (5/11+5/77)^2 = (40/77)^2
    \end{aligned}
    \]
\item
  ad

  \[
    \begin{aligned}
    ad &= p_{ab}*p_{bd}+p_{ac}*p_{cd}+p_{ad}+p_{ae}*p_{ed}+p_{af}*p_{fd} =\\
    &= (2/11*0+5/11*0+1/11+1/11*0+2/11*0 )^2= (1/11)^2 = (7/77)^2
    \end{aligned}
    \]
\item
  ae

  \[
    \begin{aligned}
    ad &= p_{ab}*p_{be}+p_{ac}*p_{ce}+p_{ad}*p_{de}+p_{ae}+p_{af}*p_{fe} =\\
    &= (2/11*0+5/11*0+1/11*2/7+1/11+2/11*2/2)^2=\\
    &= (2/77+1/11+2/11) ^2 = (23/77)^2
    \end{aligned}
    \]
\item
  af

  \[
    \begin{aligned}
    af &= p_{ab}*p_{bf}+p_{ac}*p_{cf}+p_{ad}*p_{df}+p_{ae}*p_{ef}+p_{af}=\\
    &= (2*0+5*0+1*0+1*0+2/11)^2 = (2/11)^2 = (14/77)^2
    \end{aligned}
    \]
\end{itemize}

Seems like \(af\) and \(ab\) have the same constraint index, which is higher for \(ac\) and \(ae\) and lower for \(ad\).

\hypertarget{statistical-tests-on-nodal-level}{%
\chapter{Statistical Tests on Nodal Level}\label{statistical-tests-on-nodal-level}}

\hypertarget{classic-approach}{%
\section{Classic Approach}\label{classic-approach}}

\hypertarget{correlation}{%
\subsection{Correlation}\label{correlation}}

The correlation coefficient measures the association between two interval or ratio variables.

Consider two variables \(x_i\) and \(y_i\). How are two continuous variables related? The correlation could be positive if increases, null if there is none and negative if decreases:

\[
r_{xy} = \frac{1}{n-1}\sum^n_{i=1} \frac{(x_i-\bar{x})(y_i-\bar{y})}{s_xs_y}
\]

where \(\bar{x}, \bar{y}\) are the means and \(s_x,s_y\) are the standard deviations.

\hypertarget{significance-test}{%
\section{Significance test}\label{significance-test}}

It is based on the idea that a feature or variable provides some useful information about data.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Sample: make a statement about the relation between two variables for a well defined and finite population. Since it is difficult to collect information for the whole population, \textbf{randomly sampling} is a solution.
\item
  Hypothesis: Before looking at data, make a statement about the population \(H_0\) that we will reject in favour of an alternative statement about the population \(H_A\). What we aspire to do is to prove that \(H_0\) is very unlikely.
\item
  Probabilities: Look at sample results. Assuming that the null hypothesis \(H_0\) is true, how much chance do we have of obtaining a sample that has a correlation that is that extreme or more extreme (than we observed with the sample).
\item
  Conclusion: reject the null hypothesis \(H_0\) in favour of the alternative hypothesis \(H_a\) if the probability of such an extreme or more extreme outcome is lower than 5\% (\(\rho<0.05\)).
\end{enumerate}

\hypertarget{permutation-based-approach}{%
\section{Permutation Based Approach}\label{permutation-based-approach}}

💡 \emph{Imagine we have data about five people, knowing their age. We want to explore eventual correlations between outdegree and age.}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{OD }\OtherTok{=} \FunctionTok{c}\NormalTok{(}\DecValTok{3}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{) }\CommentTok{\# Out degree}
\NormalTok{age }\OtherTok{=} \FunctionTok{c}\NormalTok{(}\DecValTok{19}\NormalTok{,}\DecValTok{45}\NormalTok{,}\DecValTok{32}\NormalTok{,}\DecValTok{25}\NormalTok{,}\DecValTok{21}\NormalTok{) }\CommentTok{\# Ages}
\FunctionTok{cor.test}\NormalTok{(OD,age) }\CommentTok{\# Correlation test}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
##  Pearson's product-moment correlation
## 
## data:  OD and age
## t = -5.166, df = 3, p-value = 0.01407
## alternative hypothesis: true correlation is not equal to 0
## 95 percent confidence interval:
##  -0.9966747 -0.4028377
## sample estimates:
##        cor 
## -0.9481293
\end{verbatim}

According to this test, with a p-value below 0.05, there is a negative correlation that explains that, by increasing the age, the number of out links decreases.

\emph{What happens if we permute nodes position?}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{OD }\OtherTok{=} \FunctionTok{c}\NormalTok{(}\DecValTok{3}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{) }\CommentTok{\# Out degree still the same}
\NormalTok{age }\OtherTok{=} \FunctionTok{c}\NormalTok{(}\DecValTok{45}\NormalTok{,}\DecValTok{32}\NormalTok{,}\DecValTok{25}\NormalTok{,}\DecValTok{21}\NormalTok{,}\DecValTok{19}\NormalTok{) }\CommentTok{\# Ages permuted}
\FunctionTok{cor.test}\NormalTok{(OD,age)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
##  Pearson's product-moment correlation
## 
## data:  OD and age
## t = 0.17794, df = 3, p-value = 0.8701
## alternative hypothesis: true correlation is not equal to 0
## 95 percent confidence interval:
##  -0.8573755  0.9030401
## sample estimates:
##       cor 
## 0.1021936
\end{verbatim}

If we permute ages, then the p-value rises, to reject our alternative hypothesis and accept the null one. A \textbf{permutation test} (also called re-randomization test) is an exact test, a type of statistical significance test in which the distribution of the test statistic under the null hypothesis is obtained by calculating all possible values of the test statistic under all possible rearrangements of the observed data points.

It's interesting to notice that by permuting ages, we will in the end get a normal distribution for our correlation.

\hypertarget{two-mode-networks}{%
\chapter{Two mode networks}\label{two-mode-networks}}

\hypertarget{two-mode-data}{%
\section{Two-mode data}\label{two-mode-data}}

Whenever we focus on two-mode networks, we put effort on ties, not on actors, where there are two types of actors. As with 1-mode networks, we need to specify the boundary of the network:

\begin{itemize}
\tightlist
\item
  defined by events to which actors participate, missing other events to which those actors attended;
\item
  by actors, to include some events, missing the other actors that attended those events.
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(sna)}
\NormalTok{DSAm }\OtherTok{\textless{}{-}} \FunctionTok{as.matrix}\NormalTok{(}\FunctionTok{read.csv}\NormalTok{(}
  \StringTok{"datasets/Davis\_SouthernWomen\_Attendance.csv"}\NormalTok{,}
  \AttributeTok{stringsAsFactors =} \ConstantTok{FALSE}\NormalTok{, }\AttributeTok{row.names=}\DecValTok{1}\NormalTok{))}
\NormalTok{DSAm}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##           E01 E02 E03 E04 E05 E06 E07 E08 E09 E10 E11 E12 E13 E14
## EVELYN      1   1   1   1   1   1   0   1   1   0   0   0   0   0
## LAURA       1   1   1   0   1   1   1   1   0   0   0   0   0   0
## THERESA     0   1   1   1   1   1   1   1   1   0   0   0   0   0
## BRENDA      1   0   1   1   1   1   1   1   0   0   0   0   0   0
## CHARLOTTE   0   0   1   1   1   0   1   0   0   0   0   0   0   0
## FRANCES     0   0   1   0   1   1   0   1   0   0   0   0   0   0
## ELEANOR     0   0   0   0   1   1   1   1   0   0   0   0   0   0
## PEARL       0   0   0   0   0   1   0   1   1   0   0   0   0   0
## RUTH        0   0   0   0   1   0   1   1   1   0   0   0   0   0
## VERNE       0   0   0   0   0   0   1   1   1   0   0   1   0   0
## MYRNA       0   0   0   0   0   0   0   1   1   1   0   1   0   0
## KATHERINE   0   0   0   0   0   0   0   1   1   1   0   1   1   1
## SYLVIA      0   0   0   0   0   0   1   1   1   1   0   1   1   1
## NORA        0   0   0   0   0   1   1   0   1   1   1   1   1   1
## HELEN       0   0   0   0   0   0   1   1   0   1   1   1   0   0
## DOROTHY     0   0   0   0   0   0   0   1   1   0   0   0   0   0
## OLIVIA      0   0   0   0   0   0   0   0   1   0   1   0   0   0
## FLORA       0   0   0   0   0   0   0   0   1   0   1   0   0   0
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#if you want to limit the names to the first }
\CommentTok{\#two letters, us the following:}
\CommentTok{\#Copy object}
\NormalTok{DSAmS}\OtherTok{\textless{}{-}}\NormalTok{DSAm}
\CommentTok{\#Change names in new object}
\FunctionTok{rownames}\NormalTok{(DSAmS)}\OtherTok{\textless{}{-}}\FunctionTok{substring}\NormalTok{(}\FunctionTok{rownames}\NormalTok{(DSAm),}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{)}
\NormalTok{DSAmS}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##    E01 E02 E03 E04 E05 E06 E07 E08 E09 E10 E11 E12 E13 E14
## EV   1   1   1   1   1   1   0   1   1   0   0   0   0   0
## LA   1   1   1   0   1   1   1   1   0   0   0   0   0   0
## TH   0   1   1   1   1   1   1   1   1   0   0   0   0   0
## BR   1   0   1   1   1   1   1   1   0   0   0   0   0   0
## CH   0   0   1   1   1   0   1   0   0   0   0   0   0   0
## FR   0   0   1   0   1   1   0   1   0   0   0   0   0   0
## EL   0   0   0   0   1   1   1   1   0   0   0   0   0   0
## PE   0   0   0   0   0   1   0   1   1   0   0   0   0   0
## RU   0   0   0   0   1   0   1   1   1   0   0   0   0   0
## VE   0   0   0   0   0   0   1   1   1   0   0   1   0   0
## MY   0   0   0   0   0   0   0   1   1   1   0   1   0   0
## KA   0   0   0   0   0   0   0   1   1   1   0   1   1   1
## SY   0   0   0   0   0   0   1   1   1   1   0   1   1   1
## NO   0   0   0   0   0   1   1   0   1   1   1   1   1   1
## HE   0   0   0   0   0   0   1   1   0   1   1   1   0   0
## DO   0   0   0   0   0   0   0   1   1   0   0   0   0   0
## OL   0   0   0   0   0   0   0   0   1   0   1   0   0   0
## FL   0   0   0   0   0   0   0   0   1   0   1   0   0   0
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#Now draw the network}
\FunctionTok{gplot}\NormalTok{(DSAmS, }\AttributeTok{displaylabels=}\ConstantTok{TRUE}\NormalTok{, }
      \AttributeTok{usearrows=}\ConstantTok{FALSE}\NormalTok{, }\AttributeTok{gmode=}\StringTok{"twomode"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-57-1.pdf}

\hypertarget{one-mode-projections}{%
\section{One-mode projections}\label{one-mode-projections}}

A one-mode projection is another way of representing two-mode projections by inserting links between nodes if they share a common link toward a node. In order to compute it:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Get the adjacency matrix;
\item
  Compute the transpose of this matrix;
\item
  Multiply the first matrix with the second one to compute two steps paths from a node to another.
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# One{-}mode projection}
\NormalTok{DSAmS}\SpecialCharTok{\%*\%}\FunctionTok{t}\NormalTok{(DSAmS) }\CommentTok{\# Matrix multiplication}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##    EV LA TH BR CH FR EL PE RU VE MY KA SY NO HE DO OL FL
## EV  8  6  7  6  3  4  3  3  3  2  2  2  2  2  1  2  1  1
## LA  6  7  6  6  3  4  4  2  3  2  1  1  2  2  2  1  0  0
## TH  7  6  8  6  4  4  4  3  4  3  2  2  3  3  2  2  1  1
## BR  6  6  6  7  4  4  4  2  3  2  1  1  2  2  2  1  0  0
## CH  3  3  4  4  4  2  2  0  2  1  0  0  1  1  1  0  0  0
## FR  4  4  4  4  2  4  3  2  2  1  1  1  1  1  1  1  0  0
## EL  3  4  4  4  2  3  4  2  3  2  1  1  2  2  2  1  0  0
## PE  3  2  3  2  0  2  2  3  2  2  2  2  2  2  1  2  1  1
## RU  3  3  4  3  2  2  3  2  4  3  2  2  3  2  2  2  1  1
## VE  2  2  3  2  1  1  2  2  3  4  3  3  4  3  3  2  1  1
## MY  2  1  2  1  0  1  1  2  2  3  4  4  4  3  3  2  1  1
## KA  2  1  2  1  0  1  1  2  2  3  4  6  6  5  3  2  1  1
## SY  2  2  3  2  1  1  2  2  3  4  4  6  7  6  4  2  1  1
## NO  2  2  3  2  1  1  2  2  2  3  3  5  6  8  4  1  2  2
## HE  1  2  2  2  1  1  2  1  2  3  3  3  4  4  5  1  1  1
## DO  2  1  2  1  0  1  1  2  2  2  2  2  2  1  1  2  1  1
## OL  1  0  1  0  0  0  0  1  1  1  1  1  1  2  1  1  2  2
## FL  1  0  1  0  0  0  0  1  1  1  1  1  1  2  1  1  2  2
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{t}\NormalTok{(DSAmS)}\SpecialCharTok{\%*\%}\NormalTok{DSAmS }\CommentTok{\# on the other verse}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##     E01 E02 E03 E04 E05 E06 E07 E08 E09 E10 E11 E12 E13 E14
## E01   3   2   3   2   3   3   2   3   1   0   0   0   0   0
## E02   2   3   3   2   3   3   2   3   2   0   0   0   0   0
## E03   3   3   6   4   6   5   4   5   2   0   0   0   0   0
## E04   2   2   4   4   4   3   3   3   2   0   0   0   0   0
## E05   3   3   6   4   8   6   6   7   3   0   0   0   0   0
## E06   3   3   5   3   6   8   5   7   4   1   1   1   1   1
## E07   2   2   4   3   6   5  10   8   5   3   2   4   2   2
## E08   3   3   5   3   7   7   8  14   9   4   1   5   2   2
## E09   1   2   2   2   3   4   5   9  12   4   3   5   3   3
## E10   0   0   0   0   0   1   3   4   4   5   2   5   3   3
## E11   0   0   0   0   0   1   2   1   3   2   4   2   1   1
## E12   0   0   0   0   0   1   4   5   5   5   2   6   3   3
## E13   0   0   0   0   0   1   2   2   3   3   1   3   3   3
## E14   0   0   0   0   0   1   2   2   3   3   1   3   3   3
\end{verbatim}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/10-Two mode networks/Untitled} 

}

\end{figure}

💡 \emph{What is the best approach to represent the level of overlapping?
- Sum of unique events shared by all actors over the total number of events;
- Unique events shared over the sum of degrees of all actors;
- Unique events shared over the minimum degree of all actors;
- Unique events shared over the maximum degree of all actors;}

💡 \emph{With One-mode projections, we lose data. Check the example below.}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/10-Two mode networks/Untitled 1} 

}

\end{figure}

\hypertarget{bipartite}{%
\section{Bipartite}\label{bipartite}}

It is possible to compute a two-mode network centrality using bipartite one-mode: according to this modality, we put together actors and events.

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/10-Two mode networks/Untitled 2} 

}

\end{figure}

\hypertarget{density-1}{%
\section{Density}\label{density-1}}

To compute the density of a two-mode network, compute the total number of edges and divide it for the maximum number of edges there could be.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Getting the degree of a two{-}mode network}
\FunctionTok{mean}\NormalTok{(DSAmS)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0.3531746
\end{verbatim}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/10-Two mode networks/Untitled 3} 

}

\end{figure}

\hypertarget{degree-centrality-2}{%
\section{Degree Centrality}\label{degree-centrality-2}}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/10-Two mode networks/Untitled 4} 

}

\end{figure}

Consider a network with scientists and papers, where \(n_a\) defines the number of scientists and \(n_e\) defines the number of papers. It is possible to compute:

\begin{itemize}
\item
  \emph{How many publications (\(E\)) does each person (\(A\)) have?}

  \[
    \begin{aligned}
    A_1 = 1 \\
    A_2 = A_3 = A_6 = 2 \\
    A_4 = 3 \\
    A_5 = 6
    \end{aligned}
    \]

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{scientists\_papers}\OtherTok{\textless{}{-}}\FunctionTok{matrix}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
                            \DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
                            \DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
                            \DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
                            \DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}
                            \DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{),}
                            \DecValTok{6}\NormalTok{,}\DecValTok{8}\NormalTok{,}\AttributeTok{byrow=}\ConstantTok{TRUE}\NormalTok{)}
\FunctionTok{rownames}\NormalTok{(scientists\_papers)}\OtherTok{\textless{}{-}}\FunctionTok{c}\NormalTok{(}\StringTok{"a1"}\NormalTok{,}\StringTok{"a2"}\NormalTok{,}\StringTok{"a3"}\NormalTok{,}\StringTok{"a4"}\NormalTok{,}\StringTok{"a5"}\NormalTok{,}\StringTok{"a6"}\NormalTok{)}
\FunctionTok{colnames}\NormalTok{(scientists\_papers)}\OtherTok{\textless{}{-}}\FunctionTok{c}\NormalTok{(}\StringTok{"e1"}\NormalTok{,}\StringTok{"e2"}\NormalTok{,}\StringTok{"e3"}\NormalTok{,}\StringTok{"e4"}\NormalTok{,}\StringTok{"e5"}\NormalTok{,}\StringTok{"e6"}\NormalTok{,}\StringTok{"e7"}\NormalTok{,}\StringTok{"e8"}\NormalTok{)}
\FunctionTok{gplot}\NormalTok{(scientists\_papers, }\AttributeTok{displaylabels=}\ConstantTok{TRUE}\NormalTok{, }\AttributeTok{usearrows=}\ConstantTok{FALSE}\NormalTok{, }\AttributeTok{gmode=}\StringTok{"twomode"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

  \includegraphics{_main_files/figure-latex/unnamed-chunk-65-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{rowSums}\NormalTok{(scientists\_papers) }\CommentTok{\# Scientists Degree}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## a1 a2 a3 a4 a5 a6 
##  1  2  2  3  6  2
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{colSums}\NormalTok{(scientists\_papers) }\CommentTok{\# Papers Degree}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## e1 e2 e3 e4 e5 e6 e7 e8 
##  4  2  2  2  1  1  2  2
\end{verbatim}
\item
  \emph{In what proportion of all publications (\(E\)) was a person (\(A\)) involved?}

  Divide the previous number for the total number of publications \(n_e\) to obtain the proportion of collaboration in all papers.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Proportion of scientists participation in papers}
\FunctionTok{rowSums}\NormalTok{(scientists\_papers)}\SpecialCharTok{/}\FunctionTok{NCOL}\NormalTok{(scientists\_papers)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##    a1    a2    a3    a4    a5    a6 
## 0.125 0.250 0.250 0.375 0.750 0.250
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Proportion of papers collaboration in scientific community }
\FunctionTok{colSums}\NormalTok{(scientists\_papers)}\SpecialCharTok{/}\FunctionTok{NROW}\NormalTok{(scientists\_papers)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##        e1        e2        e3        e4        e5        e6        e7        e8 
## 0.6666667 0.3333333 0.3333333 0.3333333 0.1666667 0.1666667 0.3333333 0.3333333
\end{verbatim}
\item
  \emph{What is \(A\)'s total contribution to all publications (\(E\)) taking into account the contribution of co-authors?}

  When computing the proportion, we consider the number of colleagues that collaborate on a specific paper. If a scientist works on more papers at a time (suppose \(A_2)\), we just sum up that proportion. In a short way, compute the proportion of people that worked in a paper and then compute row sums of those proportions.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Get column sum = 1 and row sum equal }
\CommentTok{\# the total contribution considering coauthors}
\FunctionTok{t}\NormalTok{(}\FunctionTok{t}\NormalTok{(scientists\_papers)}\SpecialCharTok{/}\FunctionTok{colSums}\NormalTok{(scientists\_papers))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##      e1  e2  e3  e4 e5 e6  e7  e8
## a1 0.25 0.0 0.0 0.0  0  0 0.0 0.0
## a2 0.25 0.0 0.0 0.5  0  0 0.0 0.0
## a3 0.25 0.5 0.0 0.0  0  0 0.0 0.0
## a4 0.25 0.5 0.5 0.0  0  0 0.0 0.0
## a5 0.00 0.0 0.5 0.5  1  1 0.5 0.5
## a6 0.00 0.0 0.0 0.0  0  0 0.5 0.5
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Total contribution to all papers by author}
\FunctionTok{rowSums}\NormalTok{(}\FunctionTok{t}\NormalTok{(}\FunctionTok{t}\NormalTok{(scientists\_papers)}\SpecialCharTok{/}\FunctionTok{colSums}\NormalTok{(scientists\_papers)))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##   a1   a2   a3   a4   a5   a6 
## 0.25 0.75 0.75 1.25 4.00 1.00
\end{verbatim}
\item
  \emph{What is \(A\)'s average contribution to all publications (\(E\)) taking into account the contribution of co-authors?}

  Take the previous value and divide it for the total number of papers in which he/she collaborated (which was the first column).

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{(}\FunctionTok{rowSums}\NormalTok{(}\FunctionTok{t}\NormalTok{(}\FunctionTok{t}\NormalTok{(scientists\_papers)}\SpecialCharTok{/}
             \FunctionTok{colSums}\NormalTok{(scientists\_papers))))}\SpecialCharTok{/}
  \FunctionTok{rowSums}\NormalTok{(scientists\_papers) }\CommentTok{\# Scientists Degree}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##        a1        a2        a3        a4        a5        a6 
## 0.2500000 0.3750000 0.3750000 0.4166667 0.6666667 0.5000000
\end{verbatim}
\end{itemize}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/10-Two mode networks/Untitled 5} 

}

\end{figure}

\begin{itemize}
\tightlist
\item
  \emph{In total how many unique co-authors does \(A\) have?}

  \begin{enumerate}
  \def\labelenumi{\arabic{enumi}.}
  \item
    Number of co-authors

    Just count the neighbours of the authors, independently from the event \(E\), so just consider the one-way projection of the network. We will get the numbers below, noticing that \(A_2\) and \(A_4\) are the most central nodes in the network.

    \(A_1 \quad 3\\  A_2 \quad 4\\  A_3 \quad 3\\  A_4 \quad 4\\  A_5 \quad 3\\  A_6 \quad 1\)
  \item
    Proportion of all authors

    Divide the number of co-authors by the maximum number obtainable (\(N_a -1\)).

    \(A \quad N\quad P\\  A_1 \quad 3 \quad 0.60\\  A_2 \quad 4 \quad 0.80\\  A_3 \quad 3\quad 0.60\\  A_4 \quad 4\quad 0.80\\  A_5 \quad 3\quad 0.60\\  A_6 \quad 1 \quad 0.20\)
  \item
    Number of multiple co-authors

    \emph{In total how many co-authors does \(A\) have on all papers (irrespective of whether they are the same or not, so counting multiple times same people if authors had multiple collaborations)?}

    \(A \quad N\quad P \quad NM\\  A_1 \quad 3 \quad 0.60\quad 3\\  A_2 \quad 4 \quad 0.80\quad 4\\  A_3 \quad 3\quad 0.60\quad 4\\  A_4 \quad 4\quad 0.80\quad 5\\  A_5 \quad 3\quad 0.60\quad 4\\  A_6 \quad 1 \quad 0.20\quad 2\)
  \item
    The average number of co-authors on a paper

    Divide the number of co-authors (point 1) by the number of papers per author (first column in the original table).

    \(A \quad N\quad P \quad Nm\quad NP\\  A_1 \quad 3 \quad 0.60\quad 3\quad 3\\  A_2 \quad 4 \quad 0.80\quad 4\quad 2\\  A_3 \quad 3\quad 0.60\quad 4\quad 2\\  A_4 \quad 4\quad 0.80\quad 5\quad 1.33\\  A_5 \quad 3\quad 0.60\quad 4\quad 0.67\\  A_6 \quad 1 \quad 0.20\quad 2\quad 1\)

    The last column may indicate that \(A_1, A_2, A_3\) collaborate more, while \(A_5\) tends to produce its own ideas.
  \end{enumerate}
\end{itemize}

\hypertarget{exercise-1}{%
\section{Exercise}\label{exercise-1}}

\hypertarget{exploration}{%
\subsection{Exploration}\label{exploration}}

\begin{figure}[h!]

{\centering \includegraphics[width=0.4\linewidth]{images/10-Two mode networks/Untitled 6} 

}

\end{figure}

\emph{Density: \(31/(n_a\cdot n_e) = 31/130 = 0.24\)}

\emph{Which person has attended most parties? \(A_2\)}

\emph{Which person has had the possibility to meet the most different people through parties? \(A_8\)}

\emph{Which event is attended by the most people? \(E_1, E_4, E_5\)}

\hypertarget{projections}{%
\subsection{Projections}\label{projections}}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/10-Two mode networks/Untitled 7} 

}

\end{figure}

\hypertarget{closeness-centrality-1}{%
\section{Closeness centrality}\label{closeness-centrality-1}}

The closeness centrality is computed as the sum of closenesses from actors to other actors and from actors to events, considering all edges in between.

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/10-Two mode networks/Untitled 8} 

}

\end{figure}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/10-Two mode networks/Untitled 9} 

}

\end{figure}

The minimum distance in the first case (other) is \(n_e\), while in the second case (own) is \(2n_a-2 = 2(n_a-1)\). In total, by summing them, the minimum distance is \(n_e+2(n_a-1)\).

\hypertarget{betweenness-centrality-1}{%
\section{Betweenness Centrality}\label{betweenness-centrality-1}}

We can focus on:

\begin{itemize}
\tightlist
\item
  how many times an actor is between two events;
\item
  how many times an event is between two actors;
\item
  how many times an actor is between two events/actors, mixing them;
\item
  their sum, which is the total betweenness centrality.
\end{itemize}

It can be compared with the maximum of each term:

\begin{itemize}
\tightlist
\item
  \(n_e(n_e-1)/2\)
\item
  \((n_a-1)(n_a-2)/2\)
\item
  \((n_a-1)(n_e-1)\)
\item
  \(n_e(n_e-1)/2+(n_a-1)(n_a-2)/2+(n_a-1)(n_e-1)\)
\end{itemize}

💡 \emph{In a bipartite graph, the only way that a node can achieve the theoretical maximum is if it is the only member of its vertex set.}

\hypertarget{structural-holes}{%
\section{Structural Holes}\label{structural-holes}}

It is about being between other people in a structural way such that without that bridge there would be a hole.

\emph{In a two-mode network, with a closed triadic structure, how should structural holes be defined?}

Structural holes can be defined through \textbf{closure}, which is computed by the ratio of a number of co-authors with multiple counts over unique co-authors.

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/10-Two mode networks/Untitled 10} 

}

\end{figure}

If we consider the problem of measuring closure/openness in a one-mode projection, we should consider the proportion between the actual edges from an alter to another over the maximum number of edges between a node's alters.

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/10-Two mode networks/Untitled 11} 

}

\end{figure}

💡 \emph{For instance, in this example, we would have the projection above, highlighting:
\(A_5 \rightarrow 1/3, A_2=A_3, =A_3=A_4= A_1\rightarrow 1\) .}

\hypertarget{attribute-based-measures}{%
\section{Attribute-based measures}\label{attribute-based-measures}}

\begin{figure}[h!]

{\centering \includegraphics[width=0.4\linewidth]{images/10-Two mode networks/Untitled 12} 

}

\end{figure}

\begin{figure}[h!]

{\centering \includegraphics[width=0.4\linewidth]{images/10-Two mode networks/Untitled 13} 

}

\end{figure}

Suppose we work with a network of academics that published papers. Some attribute measures could be the total citations of papers and the average citations of papers, starting from the number of times a paper is cited and author gender.

💡 \emph{What proportion of authors if female?}

Seems like \(A_6\) is connected only with females (i.e.~\(A_5\)), while \(A_4\) and \(A_1\) are the authors that are mostly connected to men.

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/10-Two mode networks/Untitled 14} 

}

\end{figure}

\hypertarget{subgroups-and-structural-equivalence}{%
\chapter{Subgroups and Structural Equivalence}\label{subgroups-and-structural-equivalence}}

\hypertarget{subgroups}{%
\section{Subgroups}\label{subgroups}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Network creation}
\FunctionTok{library}\NormalTok{(sna)}
\CommentTok{\# cliques}

\NormalTok{network}\OtherTok{\textless{}{-}}\FunctionTok{matrix}\NormalTok{(}\FunctionTok{c}\NormalTok{(}
\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}
\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}
\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}
\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{),}\DecValTok{19}\NormalTok{,}\DecValTok{19}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{components-1}{%
\subsection{Components}\label{components-1}}

\emph{Who would be able to ``eventually'' share information with each other?}

A subset where everyone is directly or indirectly connected to everyone else is said \textbf{component}.

💡 \emph{Note that if actors \(a\) and \(b\) are at least indirectly connected, and actor \(c\) is at least indirectly connected to \(b\), then actor \(c\) is at least indirectly connected to a. Hence all actors belong to one and only one component.}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/11-Subgroups and Structural Equivalence/Untitled} 

}

\end{figure}

\hypertarget{cliques}{%
\subsection{Cliques}\label{cliques}}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/11-Subgroups and Structural Equivalence/Untitled 1} 

}

\end{figure}

A subset where everyone is directly connected to everyone else in the subset is called a \textbf{clique}.

💡 \emph{Note that both an actor and a dyad might belong to more than one clique.}

\hypertarget{k-cliques}{%
\subsection{K-cliques}\label{k-cliques}}

A subset where everyone is connected to everyone else in the subset by at most \(K\) steps is called \(K\)-cliques.

By considering the previous network, the \(2\)-cliques are:

\begin{itemize}
\tightlist
\item
  \(14, 15, 17, 18, 19\);
\item
  \(14, 15, 16, 17, 18\);
\item
  \(9, 10, 11, 12\);
\item
  \(1, 2, 3, 6, 7\);
\item
  \(1, 2, 3, 6, 4, 5\);
\end{itemize}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/11-Subgroups and Structural Equivalence/12-network} 

}

\end{figure}

💡 Note that actors might become cliques through others that are not members themselves. For instance, if we consider the 2-clique composed by \(K_2 = \{14,15,17,18,19\}\) thanks to 16.

By considering instead 3-cliques, we obtain:

\begin{itemize}
\tightlist
\item
  14, 15, 16, 17, 18, 19;
\item
  1, 2, 3, 4, 5, 6, 7;
\item
  9, 10, 11, 12.
\end{itemize}

If \(K = N-1\), then we get a component, while if \(K=1\), we get a normal clique.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Compute the cliques}
\CommentTok{\# Returns number of cliques per each node}
\FunctionTok{clique.census}\NormalTok{(network, }\AttributeTok{mode =} \StringTok{"graph"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## $clique.count
##   Agg v1 v2 v3 v4 v5 v6 v7 v8 v9 v10 v11 v12 v13 v14 v15 v16 v17 v18 v19
## 1   2  0  0  0  0  0  0  0  1  0   0   0   0   1   0   0   0   0   0   0
## 2   7  0  0  0  0  0  0  0  0  1   1   3   1   0   1   2   2   2   1   0
## 3   3  1  0  1  1  1  1  1  0  0   0   0   0   0   1   0   0   0   1   1
## 4   1  1  1  1  0  0  1  0  0  0   0   0   0   0   0   0   0   0   0   0
## 
## $cliques
## $cliques[[1]]
## $cliques[[1]][[1]]
## [1] 13
## 
## $cliques[[1]][[2]]
## [1] 8
## 
## 
## $cliques[[2]]
## $cliques[[2]][[1]]
## [1] 17 18
## 
## $cliques[[2]][[2]]
## [1] 16 17
## 
## $cliques[[2]][[3]]
## [1] 15 16
## 
## $cliques[[2]][[4]]
## [1] 14 15
## 
## $cliques[[2]][[5]]
## [1] 11 12
## 
## $cliques[[2]][[6]]
## [1] 10 11
## 
## $cliques[[2]][[7]]
## [1]  9 11
## 
## 
## $cliques[[3]]
## $cliques[[3]][[1]]
## [1] 14 18 19
## 
## $cliques[[3]][[2]]
## [1] 1 6 7
## 
## $cliques[[3]][[3]]
## [1] 3 4 5
## 
## 
## $cliques[[4]]
## $cliques[[4]][[1]]
## [1] 1 2 3 6
\end{verbatim}

\hypertarget{k-clans}{%
\subsection{K-clans}\label{k-clans}}

A \(K\)-clique where everyone is connected to everyone else in the subset by at most K steps through its own members is called \(K\)-clan. This means that actors become cliques only through cliques members.

Some 2-clans in the network are:

\begin{itemize}
\tightlist
\item
  14, 15, 18, 19;
\item
  14, 17, 18, 19;
\item
  9, 10, 11, 12;
\item
  1, 2, 3, 6, 7;
\item
  1, 2, 3, 6, 4, 5.
\end{itemize}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/11-Subgroups and Structural Equivalence/Untitled 2} 

}

\end{figure}

\hypertarget{equivalence}{%
\section{Equivalence}\label{equivalence}}

\hypertarget{core-periphery}{%
\subsection{Core periphery}\label{core-periphery}}

If we try to represent the network with an adjacency matrix, we would notice that cliques are evident by 1s zones. In order to get a completely filled by 1s zone, there should be a direct path between all nodes. Based on the size of these blocks, we can distinguish the core from the periphery. In fact, the periphery will have zeros zones, if not connected to anyone, or 1 and 0s zones, while the core will have 1s zones.

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/11-Subgroups and Structural Equivalence/Untitled 3} 

}

\end{figure}

\hypertarget{structural-equivalence}{%
\subsection{Structural equivalence}\label{structural-equivalence}}

In social network analysis, two nodes are considered \textbf{structurally equivalent} if they have the same neighbourhoods -- that is, they are connected to the same others.

💡 \emph{For instance, in the network below, we know that there are some nodes that have the same behaviours: \(\{f, g\}, \{c, d\}, \{i, j\}\).}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/11-Subgroups and Structural Equivalence/Untitled 4} 

}

\end{figure}

\hypertarget{regular-equivalence}{%
\subsection{Regular equivalence}\label{regular-equivalence}}

Two actors are \textbf{regular equivalent} if they are equally related to equivalent others. Two nodes are said to play the same role (i.e., are regularly equivalent) if they have ties to the same roles.

💡 \emph{For instance, we can distinguish two types of nodes: \(\{b,c,d,e\}, \{f,g,h,i,j\}\).}

\hypertarget{blockmodeling}{%
\subsection{Blockmodeling}\label{blockmodeling}}

\textbf{Blockmodel} (sometimes also \textbf{block model}) in blockmodeling (part of network science) is defined as a multitude of structures, which are obtained with:

\begin{itemize}
\tightlist
\item
  \textbf{identification of all vertices} (e.g., units, nodes) within a cluster and at the same time representing each cluster as a vertex, from which vertices for another graph can be constructed;
\item
  \textbf{combination of all the links} (ties), represented in a block as a single link between positions, while at the same time constructing one tie for each block. In a case, when there are no ties in a block, there will be no ties between the two positions, that define the block.
\end{itemize}

Some types of blocks can be:

\begin{itemize}
\tightlist
\item
  complete: filled with 1s;
\item
  null: filled with 0s;
\item
  regular: one covered rows and columns;
\item
  row-dominant or col-dominant, whenever we can distinguish a block of nodes and links as a cluster (there exists at least one row/column with all 1s);
\item
  row-functional or col-functional: all starting nodes link to some other nodes and vice-versa, if there is just one 1 in each row/column;
\item
  row-regular or col-regular: each row/column is covered;
\end{itemize}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/11-Subgroups and Structural Equivalence/Untitled 5} 

}

\end{figure}

\hypertarget{structural-equivalence-on-r}{%
\section{Structural Equivalence on R}\label{structural-equivalence-on-r}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# equivalence}
\NormalTok{network\_2}\OtherTok{\textless{}{-}}\FunctionTok{matrix}\NormalTok{(}\FunctionTok{c}\NormalTok{(}
  \DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
  \DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
  \DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
  \DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
  \DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
  \DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
  \DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
  \DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{),}\DecValTok{8}\NormalTok{,}\DecValTok{8}\NormalTok{,}\AttributeTok{byrow=}\NormalTok{T)}
\end{Highlighting}
\end{Shaded}

\hypertarget{hamming-structural-equivalence}{%
\subsection{Hamming Structural Equivalence}\label{hamming-structural-equivalence}}

\[
\text { Hamming }_{i j}=\sum_{k}^{N}\left(\left|x_{i k}-x_{j k}\right|+\left|x_{k i}-x_{k j}\right|\right)
\]

Suppose there are two nodes \(i,j\) and we want to compute the Hamming distance between the link of these two nodes with \(k\):

\begin{itemize}
\tightlist
\item
  if both \(i,j\) are linked to \(k\), then \(|1-1| = 0\);
\item
  if both \(i,j\) are not linked to \(k\), then \(|0-0| = 0\);
\item
  if only one of them is linked to \(k\), then \(|1-0| = 1\).
\end{itemize}

💡 \emph{Note that this example covers only the situations with direct links from \(i,j\) to \(k\), but also the vice-versa must be considered.}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/11-Subgroups and Structural Equivalence/Untitled 6} 

}

\end{figure}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Constructing the distance matrix with the Hamming distance}
\NormalTok{network\_2\_SEH}\OtherTok{\textless{}{-}}\FunctionTok{sedist}\NormalTok{(network\_2, }\AttributeTok{method=}\StringTok{"hamming"}\NormalTok{)}
\NormalTok{network\_2\_SEH }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8]
## [1,]    0    4    2    4    4    4    1    1
## [2,]    4    0    6    4    2    2    3    3
## [3,]    2    6    0    2    4    4    3    3
## [4,]    4    4    2    0    2    2    3    3
## [5,]    4    2    4    2    0    0    5    5
## [6,]    4    2    4    2    0    0    5    5
## [7,]    1    3    3    3    5    5    0    0
## [8,]    1    3    3    3    5    5    0    0
\end{verbatim}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/11-Subgroups and Structural Equivalence/Untitled 7} 

}

\end{figure}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Clustering}
\NormalTok{network\_2\_SEHD}\OtherTok{\textless{}{-}}\FunctionTok{as.dist}\NormalTok{(network\_2\_SEH)}
\NormalTok{network\_2\_SEHD\_HC}\OtherTok{\textless{}{-}}\FunctionTok{hclust}\NormalTok{(network\_2\_SEHD,}\AttributeTok{method=}\StringTok{"complete"}\NormalTok{)}
\FunctionTok{plot}\NormalTok{(network\_2\_SEHD\_HC)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-92-1.pdf}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/11-Subgroups and Structural Equivalence/Untitled 8} 

}

\end{figure}

\hypertarget{euclidean-structural-equivalence}{%
\subsection{Euclidean Structural Equivalence}\label{euclidean-structural-equivalence}}

\[
Euclidean_{ij} = \sqrt{\sum_k^N \Big((x_{ik}-x{jk})^2+(x_{ki}-x_{kj})^2\Big)}
\]

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{network\_2\_SEE}\OtherTok{\textless{}{-}}\FunctionTok{sedist}\NormalTok{(network\_2, }\AttributeTok{method=}\StringTok{"euclidean"}\NormalTok{)}
\NormalTok{network\_2\_SEE}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##          [,1]     [,2]     [,3]     [,4]     [,5]     [,6]     [,7]     [,8]
## [1,] 0.000000 2.000000 1.414214 2.000000 2.000000 2.000000 1.000000 1.000000
## [2,] 2.000000 0.000000 2.449490 2.000000 1.414214 1.414214 1.732051 1.732051
## [3,] 1.414214 2.449490 0.000000 1.414214 2.000000 2.000000 1.732051 1.732051
## [4,] 2.000000 2.000000 1.414214 0.000000 1.414214 1.414214 1.732051 1.732051
## [5,] 2.000000 1.414214 2.000000 1.414214 0.000000 0.000000 2.236068 2.236068
## [6,] 2.000000 1.414214 2.000000 1.414214 0.000000 0.000000 2.236068 2.236068
## [7,] 1.000000 1.732051 1.732051 1.732051 2.236068 2.236068 0.000000 0.000000
## [8,] 1.000000 1.732051 1.732051 1.732051 2.236068 2.236068 0.000000 0.000000
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{network\_2\_SEED}\OtherTok{\textless{}{-}}\FunctionTok{as.dist}\NormalTok{(network\_2\_SEE)}
\NormalTok{network\_2\_SEED\_HC}\OtherTok{\textless{}{-}}\FunctionTok{hclust}\NormalTok{(network\_2\_SEED,}\AttributeTok{method=}\StringTok{"complete"}\NormalTok{)}
\FunctionTok{plot}\NormalTok{(network\_2\_SEED\_HC)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-94-1.pdf}

Suppose having two nodes \(i,j\) pointing to \(k\). We aim to compute the euclidean distance between \(x_{ik}\) and \(x_{jk}\).

\begin{figure}[h!]

{\centering \includegraphics[width=0.8\linewidth]{images/11-Subgroups and Structural Equivalence/Untitled 9} 

}

\end{figure}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Euclidean Structural Equivalence}
\NormalTok{network\_2\_SEE}\OtherTok{\textless{}{-}}\FunctionTok{sedist}\NormalTok{(network\_2, }\AttributeTok{method=}\StringTok{"euclidean"}\NormalTok{)}
\NormalTok{network\_2\_SEE}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##          [,1]     [,2]     [,3]     [,4]     [,5]     [,6]     [,7]     [,8]
## [1,] 0.000000 2.000000 1.414214 2.000000 2.000000 2.000000 1.000000 1.000000
## [2,] 2.000000 0.000000 2.449490 2.000000 1.414214 1.414214 1.732051 1.732051
## [3,] 1.414214 2.449490 0.000000 1.414214 2.000000 2.000000 1.732051 1.732051
## [4,] 2.000000 2.000000 1.414214 0.000000 1.414214 1.414214 1.732051 1.732051
## [5,] 2.000000 1.414214 2.000000 1.414214 0.000000 0.000000 2.236068 2.236068
## [6,] 2.000000 1.414214 2.000000 1.414214 0.000000 0.000000 2.236068 2.236068
## [7,] 1.000000 1.732051 1.732051 1.732051 2.236068 2.236068 0.000000 0.000000
## [8,] 1.000000 1.732051 1.732051 1.732051 2.236068 2.236068 0.000000 0.000000
\end{verbatim}

\begin{figure}[h!]

{\centering \includegraphics[width=0.7\linewidth]{images/11-Subgroups and Structural Equivalence/Untitled 10} 

}

\end{figure}

\begin{Shaded}
\begin{Highlighting}[]
\DocumentationTok{\#\# Clustering on euclidean distance}
\NormalTok{network\_2\_SEED}\OtherTok{\textless{}{-}}\FunctionTok{as.dist}\NormalTok{(network\_2\_SEE)}
\NormalTok{network\_2\_SEED\_HC}\OtherTok{\textless{}{-}}\FunctionTok{hclust}\NormalTok{(network\_2\_SEED,}\AttributeTok{method=}\StringTok{"complete"}\NormalTok{)}
\FunctionTok{plot}\NormalTok{(network\_2\_SEED\_HC)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-98-1.pdf}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/11-Subgroups and Structural Equivalence/Untitled 11} 

}

\end{figure}

\hypertarget{reciprocity-and-transitivity}{%
\chapter{Reciprocity and transitivity}\label{reciprocity-and-transitivity}}

\hypertarget{dyads}{%
\section{Dyads}\label{dyads}}

\hypertarget{dyad-census}{%
\subsection{Dyad census}\label{dyad-census}}

With \textbf{dyad census}, we count how many mutual, asymmetric and null dyads there are in the network.

By looking at this network, there are:

\begin{itemize}
\tightlist
\item
  mutual dyads: \(4\);
\item
  asymmetric dyads: \(4\);
\item
  null dyads: \(6*5/2 - 8 = 7\) (removing all links, counting mutual dyads one time).
\end{itemize}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/12-Reciprocity and transitivity/Untitled} 

}

\caption{Example of directed network}\label{fig:unnamed-chunk-100}
\end{figure}

💡 \emph{Get the total dyads available as \(n(n-1)/2\) and then remove the total amount of dyads actually existing (sum mutual and asymmetric's).}

\emph{Given the density, what would be the expected dyad census?}

\begin{itemize}
\tightlist
\item
  Mutual dyads: \(d*d\);
\item
  Asymmetric dyads: \(2d*(1-d)\);
\item
  Null dyads: \((1-d)(1-d)\);
\end{itemize}

In total, if all dyads existed in the network, the density would be:

\[
\begin{aligned}
d*d+2d*(1-d)+(1-d)(1-d) \\
= d*(d+1-d)+(1-d)*(d+1-d) \\
= d+1-d = 1
\end{aligned}
\]

\hypertarget{reciprocity}{%
\subsection{Reciprocity}\label{reciprocity}}

\emph{Is there more reciprocity in the network than by chance?}

There are two indexes for computing reciprocity:

\begin{itemize}
\item
  Compute the number of mutual dyads in the network and compare it for the total amount of possible mutual dyads (\(2 * mutual + asymmetric\)):

  \[
    \frac{2*M}{2*M+A}
    \]

  💡 \emph{In the previous example, we would get \(2*4/(2*4+4) = 8/12 = 0.667\).}

  💡 \emph{Suppose that the previous network doesn't have reciprocal edges, then reciprocity would be \(0/(0+8) = 0\), because the index of reciprocity would be \(2*0/(2*0+A) = 0\).
  If instead all edges are mutual, then the highest reachable value is 1, because \(2*M/(2*M+A) = 2M/(2M) = 1\).}
\item
  Considering the density, we would obtain the reciprocity index by:

  \[
    \frac{2*M}{2*M+A} = \frac{2d*d}{2 d*d+2d*(1-d)} = \frac{d}{d+(1-d)} = d
    \]
\end{itemize}

\hypertarget{on-r}{%
\subsection{On R}\label{on-r}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mat6}\OtherTok{\textless{}{-}}\FunctionTok{matrix}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
               \DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
               \DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
               \DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}
               \DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}
               \DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{),}\DecValTok{6}\NormalTok{,}\DecValTok{6}\NormalTok{, }\AttributeTok{byrow=}\NormalTok{T)}

\CommentTok{\# Dyad Census}
\NormalTok{sna}\SpecialCharTok{::}\FunctionTok{dyad.census}\NormalTok{(mat6, }\AttributeTok{g=}\ConstantTok{NULL}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##      Mut Asym Null
## [1,]   4    4    7
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Like edgewise but multiplied for m/(m+a)}
\NormalTok{sna}\SpecialCharTok{::}\FunctionTok{grecip}\NormalTok{(mat6,}\AttributeTok{measure=}\StringTok{"dyadic"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##       Mut 
## 0.7333333
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Edgewise (like we have seen before)}
\NormalTok{sna}\SpecialCharTok{::}\FunctionTok{grecip}\NormalTok{(mat6,}\AttributeTok{measure=}\StringTok{"edgewise"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##       Mut 
## 0.6666667
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Density}
\NormalTok{sna}\SpecialCharTok{::}\FunctionTok{gden}\NormalTok{(mat6)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0.4
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# With igraph}
\NormalTok{mat6i}\OtherTok{\textless{}{-}}\FunctionTok{graph\_from\_adjacency\_matrix}\NormalTok{(mat6,}\AttributeTok{mode=}\FunctionTok{c}\NormalTok{(}\StringTok{"directed"}\NormalTok{),}\AttributeTok{diag=}\NormalTok{F)}
\NormalTok{igraph}\SpecialCharTok{::}\FunctionTok{reciprocity}\NormalTok{(mat6i)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0.6666667
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{igraph}\SpecialCharTok{::}\FunctionTok{edge\_density}\NormalTok{(mat6i)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0.4
\end{verbatim}

\hypertarget{triads}{%
\section{Triads}\label{triads}}

\begin{figure}[h!]

{\centering \includegraphics[width=0.3\linewidth]{images/12-Reciprocity and transitivity/Untitled 1} 

}

\end{figure}

\begin{figure}[h!]

{\centering \includegraphics[width=0.35\linewidth]{images/12-Reciprocity and transitivity/Untitled 2} 

}

\end{figure}

\hypertarget{triad-census}{%
\subsection{Triad Census}\label{triad-census}}

According to the Davis and Leinhardt triad census, there are 16 ways to arrange a triad. The \texttt{sna} library on R helps to count how many of them there are in a network.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mat6}\OtherTok{\textless{}{-}}\FunctionTok{matrix}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
               \DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
               \DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}
               \DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}
               \DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}
               \DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{),}\DecValTok{6}\NormalTok{,}\DecValTok{6}\NormalTok{, }\AttributeTok{byrow=}\NormalTok{T)}

\CommentTok{\# Triad census}
\NormalTok{sna}\SpecialCharTok{::}\FunctionTok{triad.census}\NormalTok{(mat6)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##      003 012 102 021D 021U 021C 111D 111U 030T 030C 201 120D 120U 120C 210 300
## [1,]   3   1   4    2    0    0    1    5    0    0   1    1    1    0   1   0
\end{verbatim}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/12-Reciprocity and transitivity/Untitled 3} 

}

\end{figure}

By considering the code output and the triad census legend, we could focus for instance on 111U triad and try to detect them:

\begin{itemize}
\tightlist
\item
  \(a_1, a_4, a_6\)
\item
  \(a_1, a_4, a_2\)
\item
  \(a_1, a_4, a_3\)
\item
  \(a_2, a_4, a_5\)
\item
  \(a_3, a_5, a_6\)
\end{itemize}

\hypertarget{transitivity}{%
\subsection{Transitivity}\label{transitivity}}

In order to know whether a network is transitive, we can compare the transitivity computed through \texttt{gtrans()} with the density of the network. Transitivity is computed as the ratio between a dyad and the number of dyads between these two nodes plus the number of tryads there are.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sna}\SpecialCharTok{::}\FunctionTok{gtrans}\NormalTok{(mat6)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0.4375
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sna}\SpecialCharTok{::}\FunctionTok{gden}\NormalTok{(mat6)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0.4
\end{verbatim}

\hypertarget{ergms}{%
\chapter{ERGMs}\label{ergms}}

\hypertarget{introduction-1}{%
\section{Introduction}\label{introduction-1}}

Suppose we collect data about 7 females and 6 males. Why should we end up observing a specific network instead of another?

The probability of observing the network \(x\) equals:

\[
P(X=x) = \frac{exp(\theta'z(x))}{\kappa(\theta)}
\]

Consider the network as the aggregated result of \textbf{tie-based decisions} among pairs of nodes. Everyone behaviours according to the same set of rules, constructing a network with a specific structure (i.e.~\textbf{homophily effect}).

These tie-based decisions are driven by a \textbf{combination of social forces} which are not directly observable, therefore the observed network is useful to get an idea of how they're made. We only observe the aggregated outcome of the combination of hidden forces. The aggregation of these dyadic outcomes will contain some randomness.

\[
\begin{aligned}
\operatorname{Pr}\left(X_{i j}=1 \mid \mathbf{X}_{i j}^{c}\right) &=\frac{\operatorname{Pr}\left(\mathbf{X}=\mathbf{x}_{i j}^{+}\right)}{\operatorname{Pr}\left(\mathbf{X}=\mathbf{x}_{i j}^{+}\right)+\operatorname{Pr}\left(\mathbf{X}=\mathbf{x}_{i j}^{-}\right)} \\&=\frac{\exp \left\{\boldsymbol{\theta}^{\prime} \mathbf{z}\left(\mathbf{x}_{i j}^{+}\right)\right\}}{\exp \left\{\boldsymbol{\theta}^{\prime} \mathbf{z}\left(\mathbf{x}_{i j}^{+}\right)\right\}+\exp \left\{\boldsymbol{\theta}^{\prime} \mathbf{z}\left(\mathbf{x}_{i j}^{-}\right)\right\}}
\end{aligned}
\]

\hypertarget{density---is-there-an-overall-tendency-to-build-or-refrain-from-building-ties}{%
\subsection{Density - Is there an overall tendency to build or refrain from building ties?}\label{density---is-there-an-overall-tendency-to-build-or-refrain-from-building-ties}}

We could refer to this question with the density. Consider that connections may require time and energy, but also provide positive benefits.

💡 \emph{By looking at the following networks, we can see three different networks. The number of ties is respectively \(25, 13\) and \(20\). The density is computed as the number of ties over the total number of ties there could be (i.e.~\(78\)). Therefore, the density equals \(0.32, 0.167, 0.256\).}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/13-ERGMs/Untitled} 

}

\end{figure}

If we observe a low number of ties in our network (given network size), then the underlying force was probably one that tended not to build ties, rather than build ties. However, there also might be a high tendency to build ties in a network and nevertheless we might still end up with a low number of realized ties.

\hypertarget{centralization---is-there-a-tendency-for-popular-people-to-obtain-more-ties}{%
\subsection{Centralization - Is there a tendency for popular people to obtain more ties?}\label{centralization---is-there-a-tendency-for-popular-people-to-obtain-more-ties}}

If so, popular nodes might be more attractive, otherwise, there are limits to the level of variation in degree. According to the \textbf{Matthew effect}, the rich get richer and the poor get poorer.

In order to answer this question, we should focus on the number of 2-stars as a measure of centralization. Consider two networks that have roughly the same density and the same number of nodes.

💡 \emph{For instance, by considering the two networks below, despite both networks having similar density, the 2-stars is very different.}

If we observe a high number of two-stars in our network given the number of ties, then the underlying force was probably one that tended to prefer to build ties to nodes with a high degree.

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/13-ERGMs/Untitled 1} 

}

\end{figure}

💡 \emph{In the previous 3 networks, the 2-stars measure is \(77, 40\) and \(43\).}

\hypertarget{clustering---is-there-a-tendency-for-triadic-closure}{%
\subsection{Clustering - Is there a tendency for triadic closure?}\label{clustering---is-there-a-tendency-for-triadic-closure}}

If not, open structures provide access to unique alters; au contraire, triadic closure is easy and provides a feeling of safety. By looking at the number of closed triads, we could answer this question.

💡 \emph{In the previous 3 networks, the number of closed triads is \(17, 1\) and \(1\).}

If we observe a large number of closed triads in our network, given the number of ties and 2-stars, then the underlying force was probably one that tended to prefer to build ties between nodes that have common connections.

\hypertarget{how-to-get-values-for-these-forces}{%
\section{How to get values for these forces}\label{how-to-get-values-for-these-forces}}

In order to figure out the values above, count specific properties in the observed network to provide information about local social forces that determines the structure of the network.

\hypertarget{introduction-2}{%
\subsection{Introduction}\label{introduction-2}}

Logit models are expressed in the following form:

\[
Pr(X=x) = \frac{exp(\theta'z(x))}{\kappa(\theta)}
\]

\begin{itemize}
\tightlist
\item
  \(\theta\) is a vector of model parameters;
\item
  \(z(x)\) is a vector of network statistics.
\end{itemize}

They come from the exponential form, in which the probability function depends on an exponential function of a linear combination of network statistics.

💡 \emph{Suppose we want to know whether a tie emerges because of an indirect connection based on two other ties. We cannot simply perform a logit regression because this reasoning could be applied to all the ties in the triad. That's why MCMC (Markov Chain Monte Carlo) are necessary.}

\hypertarget{notal-attributes}{%
\section{Notal attributes}\label{notal-attributes}}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/13-ERGMs/Untitled 2} 

}

\end{figure}

Suppose we detain a network whose nodes have attributes (e.g.~gender-based):

\begin{itemize}
\item
  \emph{Is there a tendency for red to be connected to red and blue to blue?}

  We could compute it by looking at the number of \textbf{homophilous} ties. It's the tendency to be connected to nodes similar to us. If there's high homophily, the same types are easier to connect to, otherwise, different types hold complementary resources. By looking at the three networks, we know that homophilous ties are:

  \begin{itemize}
  \tightlist
  \item
    \(\# H = 21\) homophily
  \item
    \(\# H = 6\) neutrality
  \item
    \(\# H = 1\) heterophily
  \end{itemize}
\item
  \emph{Is there a tendency for males (red nodes) to have more ties than females (blue nodes)?}

  Being of different types may change the behaviour of nodes? In the three examples, we know that:

  \begin{itemize}
  \tightlist
  \item
    red is slightly more connected;
  \item
    red nodes are more connected;
  \item
    all nodes are almost equally connected.
  \end{itemize}

  The difference can be detected through the \textbf{difference in average degree}s \textbf{for red and blue:}

  \begin{itemize}
  \tightlist
  \item
    reds: \(26/5\), blues: \(24/6\);
  \item
    reds: \(19/5\), blues: \(7/6\);
  \item
    reds: \(19/5\), blues: \(21/6\).
  \end{itemize}
\end{itemize}

\hypertarget{example-with-mpnet}{%
\subsection{Example with MPNet}\label{example-with-mpnet}}

Through MPNet it's possible to run ERGMs to test the multiple effects at the same time. It provides edges, 2-star, triangles (closed triads), gender activity (i.e.~the distinction between males and females) and gender interaction (whether the gender difference can be also found on the number of ties):

\begin{itemize}
\tightlist
\item
  the first network has particular significance for the 2-stars, triangles and gender interaction;
\item
  the second network has particular significance just for stars and triangles;
\item
  the third one is just for the 2-stars.
\end{itemize}

\hypertarget{pseudolikelihood}{%
\section{Pseudolikelihood}\label{pseudolikelihood}}

Rather than consider the probability of observing the graph, the pseudo-likelihood:

\[
P\left(X=X_{\text {obs }}\right) = \frac{e^{\theta_{L}\ \# L_{\text {obs}}+\theta_{S} \ \# S_{\text {obs}}+\theta_{T}\ \# T_{\text {obs}}}}{\sum_{k=1}^{\text {All }}[e^{\theta_{L} \#L_{k}+\theta_{S} \ \# S_{k}+\theta_{T} \ \#T_{k}}]}
\]

Consider the presence or absence of a tie between actors \(i\) and \(j\) as a function of the rest of the graph. Given the rest of the graph, what is the likelihood of \(x_{ij}\) being present?

\[
\begin{aligned}
P(x_{ij} &=1 \mid X_{ij}^{C})=\frac{P\left(X=X_{obs}^{i}=1\right)}{{P}\left({X}={X}_{{obs}}^{{i}=0}\right)+{P}\left({X}={X}_{{obs}}^{{i}=1}\right)}\\
&= \frac{\frac{e^{\theta_{L}\ \# L_{\text {obs}}^{ij=1}+\theta_{S} \ \# S_{\text {obs}}^{ij=1}+\theta_{T}\ \# T_{\text {obs}}^{ij=1}}}{\sum_{k=1}^{\text {All }}[e^{\theta_{L} \#L_{k}+\theta_{S} \ \# S_{k}+\theta_{T} \ \#T_{k}}]}}{\frac{e^{\theta_{L}\ \# L_{\text {obs}}^{ij=0}+\theta_{S} \ \# S_{\text {obs}}^{ij=0}+\theta_{T}\ \# T_{\text {obs}}^{ij=0}}}{\sum_{k=1}^{\text {All }}[e^{\theta_{L} \#L_{k}+\theta_{S} \ \# S_{k}+\theta_{T} \ \#T_{k}}]}+\frac{e^{\theta_{L}\ \# L_{\text {obs}}^{ij=1}+\theta_{S} \ \# S_{\text {obs}}^{ij=1}+\theta_{T}\ \# T_{\text {obs}}^{ij=1}}}{\sum_{k=1}^{\text {All }}[e^{\theta_{L} \#L_{k}+\theta_{S} \ \# S_{k}+\theta_{T} \ \#T_{k}}]}}
\end{aligned}
\]

\[
P(X_{ij}=1|X_{ij}^c) = 
\frac{e^{\theta_{L}\ \# L_{\text {obs}}^{ij=1}+\theta_{S} \ \# S_{\text {obs}}^{ij=1}+\theta_{T}\ \# T_{\text {obs}}^{ij=1}}}
{e^{\theta_{L}\ \# L_{\text {obs}}^{ij=0}+\theta_{S} \ \# S_{\text {obs}}^{ij=0}+\theta_{T}\ \# T_{\text {obs}}^{ij=0}}+
e^{\theta_{L}\ \# L_{\text {obs}}^{ij=1}+\theta_{S} \ \# S_{\text {obs}}^{ij=1}+\theta_{T}\ \# T_{\text {obs}}^{ij=1}}}
\]

The same formula can be defined for \(X_{ij} = 0\).

\[
\frac{{P}\left({X}_{i,j}=1 \mid {X}_{i,j}^{{c}}\right)}{{P}\left({X}_{i,j}=0 \mid {X}_{i,j}^{{c}}\right)}=\frac{{e}^{\theta_{{L}}} \ \# {~L}_{{obs}}^{{ij}=1}+\theta_{{S}} \ \# {~S}_{{obs}}^{{ij}=1}+\theta_{T} \ \# {~T}_{{obs}}^{{ij}=1}}{e^{\theta_{{L}}} \ \# {~L}_{\text {obs }}^{{ij}=0}+\theta_{{S}} \ \# {~S}_{\text {obs}}^{{ij}=0}+\theta_{T} \ \# {~T}_{\text {obs}}^{{ij}=0}} \\
= e^{\left[\theta_{L} \ \# L_{\text {obs }}^{i j=1}+\theta_{S} \ \# S_{\text {obs }}^{i j=1}+\theta_{T} \ \# T_{\text {obs }}^{i j=1}\right]-\left[\theta_{L}\ \# L_{\text {obs}}^{i j=0}+\theta_{S} \ \# S_{\text {obs}}^{i j=0}+\theta_{T} \ \# T_{\text {obs }}^{i j=0}\right]} \\
= e^{\theta_L\left[\#L_{obs}^{ij=1}- \#L_{obs}^{ij=0}\right]+
\theta_S\left[\#S_{obs}^{ij=1}- \#S_{obs}^{ij=0}\right]+
\theta_T\left[\#T_{obs}^{ij=1}- \#T_{obs}^{ij=0}\right]}
\]

By considering the logarithm, we get a simple logistic regression equation. Does the local surrounding predict the presence or absence of a tie between \(i\) and \(j\)?

\begin{itemize}
\tightlist
\item
  \(\theta_L\): what is the overall chance of a tie? Through density
\item
  \(\theta_S\): if actors \(i\) and \(j\) have more connections, does this increase the chance of a tie between \(i\) and \(j\)? Through 2-star
\item
  \(\theta_T\): if actors \(i\) and \(j\) share the same others, does this increase or decrease the chance of a tie between \(i\) and \(j\)? Triangle
\end{itemize}

\hypertarget{problems}{%
\subsection{Problems}\label{problems}}

Classic regression assumes independent cases. Pseudolikelihood estimates are known to be wrong:

\begin{itemize}
\tightlist
\item
  Overestimation of significance;
\item
  Often overestimation of effects and sometimes completely wrong.
\end{itemize}

The alternative is to approximate MLE through the MCMC algorithm.

\hypertarget{mcmc}{%
\section{MCMC}\label{mcmc}}

\hypertarget{introduction-3}{%
\subsection{Introduction}\label{introduction-3}}

We observed a network, and assume that it is the result of a combination of forces, e.g.:

\begin{itemize}
\tightlist
\item
  an overall tendency to build ties (or not);
\item
  a preference to build ties to others with high degree (or not);
\item
  and a tendency for closure (or not).
\end{itemize}

These forces are captured by the parameters \(\theta_L, \theta_S, \theta_T\):

\[
P(X=X_{\text{obs}}) = \frac{e^{\theta_{L} \# L_{\text {obs}}+\theta_{S} \# S_{\text {obs}}+\theta_{T} \# T_{\text{obs}}}}{\sum_{k=1}^{\text{All }}[e^{\theta_{L} \#L_{k}+\theta_{S} \# S_{k}+\theta_{T} \#T_{k}}]}
\]

Any values for these parameters could lead to a particular network, but some are more likely to generate it. We aim to find those that maximize the chance of observing the graph. To approximate the MLE values for these three parameters, Markov Chain Monte Carlo will be used.

\hypertarget{logic}{%
\subsection{Logic}\label{logic}}

This approach is based on the Markov Chains. We can simulate a network through random graphs:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Start with any network with a specific number of nodes;
\item
  Select a random dyad at a time;
\item
  Update the selected dyad using a formula, based on the current state in the surrounding only:
\end{enumerate}

\[
P\left(X_{ij}^{t+1}=1 \mid x_{ij}^{C, t}\right)= \frac{e^{\theta_{L}\left[\# ~L_{t}^{ij=1}-\# ~L_{t}^{ij=0}\right]+\theta_{S}\left[\# ~S_{t}^{ij=1}-\# ~S_{t}^{ij=0}\right]+\theta_{T}\left[\# ~T_{t}^{ij=1}-\# {~T}_{t}^{ij=0}\right]}}{1+e^{\theta_{L}\left[\# ~L_{t}^{ij=1}-\# ~L_{t}^{ij=0}\right]+\theta_{S}\left[\# ~S_{t}^{ij=1}-\# ~s_{t}^{ij=0}\right]+\theta_{T} \left[\# T_{t}^{ij=1}-\# T_{t}^{ij=0}\right]}}
\]

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{3}
\tightlist
\item
  If we use the same rules for a long enough time, the Markov chain forgets about history
  (forgets the starting network), i.e., only takes into account the rules of the process/game ad the networks generated will tend to go towards a stable ``equilibrium'' (i.e.~similar networks). Time after time, the algorithm will show a different characteristic of the network.
\item
  If we use the estimates that truly reflect the forces which are most likely to have led to our observed network, then the process will generate networks that are similar to our observed
  network. That is provided we run this long enough so it forgets about the start = burn-in. Of course in reality we do not know the values for the estimates but we can search for them in this way.
\end{enumerate}

\hypertarget{christakis-and-valente}{%
\chapter{Christakis and Valente}\label{christakis-and-valente}}

\hypertarget{christakis}{%
\section{Christakis}\label{christakis}}

\hypertarget{what-is-clustering-for-christakis}{%
\subsection{What is clustering for Christakis?}\label{what-is-clustering-for-christakis}}

A cluster is a group of people who are connected and are similar in characteristics.

🌐 \emph{For instance, Christakis detects obese and non-obese people.}

\hypertarget{what-are-3-potential-types-of-reasons-for-finding-clustering-of-obese-and-non-obese-people}{%
\subsection{What are 3 potential types of reasons for finding clustering of obese and non-obese people?}\label{what-are-3-potential-types-of-reasons-for-finding-clustering-of-obese-and-non-obese-people}}

\begin{itemize}
\item
  Induction effect or Social Contagion: spread from a person to a person

  🌐 \emph{if your friends gain weight, you gain weight, and you then, in turn, impact other friends. Because we conform and we change our idea about what acceptable body size is.}

  🚬 \emph{if your friends smoke, you might start smoking.}
\item
  Homophily effect: birds of a feather flock together

  🌐 \emph{form a tie because we have a similar body size, to begin with, or similar interest in exercise (etc.) that might predict our body size.}

  🚬 \emph{Friendship emerging as a result of smoking behaviour.}
\item
  Confounding factor: it confounds our ability to figure out what's going on

  🌐 \emph{something happening in a cluster's environment (e.g.~a gym opening, which makes all members of the cluster lose weight, or a fast-food restaurant opening, which makes all members gain weight).}

  🚬 \emph{Environment makes both of us start/stop smoking (like an anti-smoking advertisement, or new laws that impacts one group but not another).}
\end{itemize}

Some examples that can be applied to these three reasons are:

\begin{itemize}
\tightlist
\item
  movies preferences
\item
  happiness
\item
  smiling
\item
  eating fast food
\item
  \ldots{}
\end{itemize}

\hypertarget{what-is-the-meaning-of-3-degrees-of-separation}{%
\subsection{What is the meaning of 3 degrees of separation?}\label{what-is-the-meaning-of-3-degrees-of-separation}}

This here shows, on the Y-axis, the increase in the probability that a person is obese given that a social contact of theirs is obese and, on the X-axis, the degrees of separation between the two people. According to Christakis, there are three degrees of separation that hold for many traits, in particular, obesity:

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/14-Christakis and Valente/Untitled} 

}

\end{figure}

\begin{itemize}
\tightlist
\item
  If your friends are obese you have about a 45\% higher likelihood of being obese yourself;
\item
  if your friend's friends are obese you have about a 25\% higher likelihood;
\item
  if your friend's friend's friends are obese you have about a 10\% higher likelihood;
\item
  up to 3 degrees of separation is there a real relation between your body size and that person's body size (not really any more at 4 degrees away).
\end{itemize}

\hypertarget{what-is-a-multi-centric-epidemic}{%
\subsection{What is a multi-centric epidemic?}\label{what-is-a-multi-centric-epidemic}}

Obesity is a \textbf{multicentric epidemic} since there is no patient zero of this epidemic. In general, lots of people are doing things at the same time and if we focus on a certain phenomenon, we may notice that there may be a key player, but no central node that indicates the starting node.

🏦 \emph{For instance, the 2008 crash was due to a single bank, therefore it was a uni-centric epidemic.}

💼 \emph{For instance, the unemployment crisis is instead a multicentric epidemic, since there is no starting node for this phenomenon.}

🦠 \emph{Also, the coronavirus had a patient zero that started to diffuse the pandemic. However, inside each new country, there's a single patient zero, therefore it is a multi-centric epidemic.}

\hypertarget{what-might-be-potential-mechanisms-for-the-spread-of-behaviour}{%
\subsection{What might be potential mechanisms for the spread of behaviour?}\label{what-might-be-potential-mechanisms-for-the-spread-of-behaviour}}

Alter's appearance or behaviour changes:

\begin{itemize}
\item
  ego's behaviour

  🚬 \emph{For instance, related to smoking, seeing other people smoke makes us smoke.}

  😷 \emph{Related to mask-wearing, we notice other people wearing masks, friends specifically, and we change our behaviour accordingly.}
\item
  ego's expectations or perceptions of norms.

  🚬 \emph{For instance, related to smoking, we are convinced by arguments from others about what is normal and expected. Life is short and there are so many other dangers, you should worry about smoking.}

  😷 \emph{Related to mask-wearing, we notice contagion graphs, indications in shops and public places and people may tell us to wear the mask and that we can enter only if we wear it. That's how our behaviour changes.}
\end{itemize}

\hypertarget{valente}{%
\section{Valente}\label{valente}}

This speak is about the adoption of new ideas or practices that flows through interpersonal contacts. In particular, he speaks about:

\begin{itemize}
\tightlist
\item
  models of the diffusion of innovations;
\item
  network models for diffusion (Network models of change);
\item
  network interventions (Network models for a change).
\end{itemize}

\hypertarget{what-is-the-classic-idea-of-diffusion}{%
\subsection{What is the classic idea of diffusion?}\label{what-is-the-classic-idea-of-diffusion}}

Studying how networks influence behaviour moves us from theories about networks to network theory. New ideas and practices originate enter communities from some external source (e.g.~mass media, labour exchanges, cosmopolitan contact, technical shifts). Adoption of the new idea or practice then flows through \textbf{interpersonal contact networks}.

Diffusion happens out of interpersonal contact, persuasion and communication modelling. Diffusion occurs over time, usually following a trend studied in the Economy about the adoption of new products or technology, where there are nearly adopters, then diffusion and in the end the large common use/adoption of a behaviour.

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/14-Christakis and Valente/Untitled 1} 

}

\end{figure}

Valente created mathematical models of the diffusion of innovations in different situations: for external and internal influence and when the external communications are mixed with person-to-person contact. However, it is far more interesting to study the processes that occur amongst people in the network.

Therefore, Valente created a hypothetical community of people and the percentage of diffusion when adopters persuade non-adopters at a rate of one per cent. When this happens, we get the S-shape curve described above. But this is wrong since there's no network in this. Once we start to see there's clustering in the network, we notice that it all goes in a different way. In a random way, we get the S-shape, in a real network, there are some moments where the diffusion speeds up or slows down, deviating from the model.

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/14-Christakis and Valente/Untitled 2} 

}

\end{figure}

\hypertarget{what-types-of-network-influence-weights-are-there-according-to-valente}{%
\subsection{What types of network influence weights are there according to Valente?}\label{what-types-of-network-influence-weights-are-there-according-to-valente}}

Valente also describes the generative engine for understanding how networks influence behaviour.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \textbf{Direct influence}

  When you're exposed to people with different behaviours, you are more likely to change your behaviour. Not only actual use but also perceived use influences behaviour.

  🌐 \emph{For instance, if in a network of people there are non-users and users and they interact with each other it is likely that all of them become users.}
\end{enumerate}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/14-Christakis and Valente/Untitled 3} 

}

\end{figure}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\item
  \textbf{Indirect ties}

  Indirect exposures may matter in influencing others, but there's kinda debate if there's really an effect and how does it work. It varies by network and behaviour type. We need some quality data study to make any statement about the role of indirect influences.
\item
  \textbf{Structural equivalent ties}

  On the other hand, structural equivalence can matter according to Burt. We might be influenced by other people too who we're not connected, but occupy the same position in the network and therefore we tend to monitor their behaviour and situation. In some cases, competition might be there (e.g.~compete for the attention of a friend) or not (e.g.~occupy friendship positions and be influenced one another through direct communication).
\item
  \textbf{Tie strength}

  Stronger ties exert a stronger influence on ego than weaker ties. They have more influence on the ego's behaviour than those he/she sees less frequently since they have a less emotional relationship with them.

  Weak ties are important for information spread and rumours, but when it comes to behavioural change, strong ties make the difference.
\item
  \textbf{Simmelian ties}

  Empirically, simmelian ties also affect people. Suppose A and B are connected together and they have a stronger influence on the ego with respect to C or F which are not connected to any other node in the ego network. Therefore, the social environment matters a lot in terms of the amount of influence that alters can exert on egos.

  If all my friends are friends with each other, their behaviours are more likely to influence me than if my friends are not friends with one another, because their decisions, behaviours and communications are all reinforcing one another rather than being disparate.
\item
  \textbf{Density weighted or Centrality Measures}

  We can weigh our influences by using centrality measures, which also allows us to understand who's the ego in the network and if this fact is associated with his/her traits. The most used centrality measures are degree (in and out), closest and between centrality. There are over 100 centrality measures to use.
\item
  \textbf{Degree weighted}
\item
  \textbf{Joint participation}

  Whenever two or more nodes in the network participate jointly in an event, the influence on one another on its behavioural change is stronger than if they participate individually in the event.
\end{enumerate}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/14-Christakis and Valente/Untitled 4} 

}

\end{figure}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{8}
\item
  \textbf{Attribute weighted}

  In diffusion theory there's the thought that homophily is associated with a greater social influence: if we're similar, the flow of information and communication is easier and more frequent.

  There may be some behaviours that are actually attribute specific, therefore it is more likely that the influence would occur when people are similar on the attribute.
\item
  \textbf{Thresholds}

  Some people are willing to adopt a new behavior when a minority or none of their network partners are willing to (e.g.~early adopters that discover all the new features and they communicate interesting facts inside the network). Other people wait until their network is filled with users before they're willing to try something (e.g.~late adopters that need to adapt inside the network in order to homologate and gain benefits).

  People late in the diffusion process are late because of their position in the network, which gives them access to the behaviour or the information very late in the process. It still may happen to be connected to early adopters despite being late adopters.
\end{enumerate}

\hypertarget{network-diffusion}{%
\subsection{Network Diffusion}\label{network-diffusion}}

It is possible to use a \texttt{NetdiffuseR} package to track the diffusion of information. In particular, as shown in the image below, in red there are new adopters, while in blue continuing users and in grey users that do not use or have a behaviour.

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/14-Christakis and Valente/Untitled 5} 

}

\end{figure}

\textbf{What happens over time during the diffusion process?}

\begin{itemize}
\tightlist
\item
  external influence (e.g.~media, advertisement, travel), whose effect decreases over time. As more people adopt, we do not worry about external influence;
\item
  selection, which is very high in the beginning , because in the beginning nobody does nothing in my network. Over time, as the community fills with adopters, we don't need to make changes in the network in order to have people being consistent with the ego's behaviour;
\item
  influence should increase over time: as the behaviour becomes normative, as there are more adopters, I'm more likely to change my behaviour;
\item
  opinion leaders, whose trend varies, when the behaviour is normative and compatible with the community. When it is not culturally compatible, opinion leaders delay their adoption.
\end{itemize}

\begin{figure}[h!]

{\centering \includegraphics[width=0.5\linewidth]{images/14-Christakis and Valente/Untitled 6} 

}

\end{figure}

\hypertarget{egos-network}{%
\chapter{Ego's Network}\label{egos-network}}

We will go through the process of designing and conducting a social network study.

\hypertarget{finding-a-research-topic}{%
\section{Finding a research topic}\label{finding-a-research-topic}}

A research topic can be considered good if interesting, relevant, has not been answered or researched before or is measurable.

❓ \emph{For instance, we could focus on people who live abroad.}

\hypertarget{identify-a-research-question}{%
\section{Identify a research question}\label{identify-a-research-question}}

❓ Related to people who live abroad, some research questions could be \emph{How do people experience moving home and why? what factors make it good or bad for them? How do Hungarian returning migrants experience their return and what are the
main factors that affect their experiences?}

\hypertarget{think-about-relevant-theories}{%
\section{Think about relevant theories}\label{think-about-relevant-theories}}

Is there a theory that directly adresses or answers our question?

❓ \emph{Are there any sociological theories or concepts that help us think about why some people are happier in general or cope better in certain situations? Maybe something you learnt in class?}

\hypertarget{coleman---closure}{%
\subsection{Coleman - Closure}\label{coleman---closure}}

Let's consider the social capital theories. James Coleman in 1988 focuses on the function of social capital, which according to the economic sociology is based on a rational choice approach: it attempts to introduce social structure into his analysis by employing social capital and social norms to explain how individual rational actions translate into systematic collective action.

It is not a single entity, but a variety of entities, having two characteristics in common: they all consist of some aspect of social structure, and they facilitate certain actions of individuals who are within the structure. There are three forms of social capital: obligations and expectations; information channels; social norms.

A key concept is about \textbf{closure or bonding capital}, which facilitates obligations and expectations and social norms and takes the form of trust, social norms of reciprocity and cooperation.

\hypertarget{burt-and-granovetter---bridging}{%
\subsection{Burt and Granovetter - Bridging}\label{burt-and-granovetter---bridging}}

According to Burt and Granovetter, Social capital is is a resource that is embedded in social networks and is accessible to individuals through their social connections. Information is the key resource in social networks.

People with strong ties come from the same social circle thus have access to the same information. However, weakly related ties are members of other social groups and have access to different, non-redundant information. The key concept is bridging or the presence of weak ties.

\hypertarget{nan-lin}{%
\subsection{Nan Lin}\label{nan-lin}}

According to Nan Lin, social capital can be defined as resources embedded in a social structure which are accessed and/or mobilised in purposive action.

It cuts through the debate of bridging vs closure: differentiates two different kinds of returns to social capital, that result from different mechanisms:

\begin{itemize}
\tightlist
\item
  Instrumental returns to social capital, which arises from bridging capital and enables individuals to access resources they previous did not have (e.g.~money, wealth, reputation, power);
\item
  Expressive returns to social capital, which arises from bonding capital (closure) and enables individuals to preserve previously existing resources (e.g.~physical health, mental health, life satisfaction).
\end{itemize}

\hypertarget{social-support}{%
\subsection{Social Support}\label{social-support}}

Social Support is closely related to Social Capital, being an inherently relationship-based concept. It highlights the assistive nature of personal relationships. It can be defined as people are surrounded by a variety of social ties, which provide them with different supportive resources.

Different forms of social support (to capture the diversity) are:

\begin{itemize}
\tightlist
\item
  Emotional support: someone you can talk to when you have a problem;
\item
  Instrumental or practical support: someone can help you with your groceries when you brake your leg. Can also include information;
\item
  Financial support: someone can lend you some money when you are bankrupt;
\item
  Social companion: someone you can spend your free-time with, for example grab a beer with after class.
\end{itemize}

\hypertarget{data-collection}{%
\section{Data collection}\label{data-collection}}

There are two major kinds of network research designs:

\begin{itemize}
\item
  \textbf{Socio-centric or whole network design}

  It starts with a set of all the actors. Then we collect all the connection between all the actors. We get a single and complete network.

  It captures the position of individuals within the social structure. It can measure indirect or absent ties.
\item
  \textbf{Ego-centric or personal network design}

  It starts with a sample of actors from a population. Each of them provides information about the members of their own network. We get a set of separate networks.

  It also captures the position of individuals within the social structure but its limited to direct ties.
\end{itemize}

\hypertarget{from-theory-to-practice}{%
\section{From theory to practice}\label{from-theory-to-practice}}

\begin{itemize}
\item
  \textbf{Socio centric}

  \textbf{Requirements}:

  It requires the identification of a boundary inside a population. It's important for individuals' position within the network. As a result, it is focused on a social domain. It requires the collection of all ties of all nodes within the population to every other node within the population.

  \textbf{Privacy}:

  There are however ethical concerns due to the lack of anonymity, otherwise it is not possible to construct the whole network.

  \textbf{External validity}:

  We cannot generalize our assumptions for all networks, but just for the whole one we're studying, since each one of them may have different dynamics.

  ❓ \emph{Let's say we make a network study of your network class here and conclude that the tallest person has the most central position. Does it hold for your other classes too? And for other universities? Also for undergraduate students? For other network classes at other universities? Since we didn't sample students from all Italian (or European) universities, we cannot generalise}
\item
  \textbf{Ego centric}

  \textbf{Requirements}:

  Each person lives in a personal community that's unique to them (i.e.~social context). This social context affects individuals in multiple ways. We want to collect data from the individual's (ego) perspective to understand their social context.

  We don't have to artifically define the boundaries of the network -- not restricted to a group. It can also span multiple social domains. It's typically easier to collect these data instead of the whole network. Each person nominated by default has a connection to the interviewed individual. Connection between nominated individuals may or may not be collected.

  \textbf{Privacy}:

  Respondents' identity can be kept anonymous and also the nominated people (they can use pseudonyms).

  \textbf{External validity:}

  When egos are randomly selected from a wider population we may be able to generalise our findings.

  ❓ \emph{For instance, a random selection of MA students from all italian universities are interviewed about their friends both within and outside their university.}
\end{itemize}

\hypertarget{select-the-right-network-approach}{%
\section{Select the right network approach}\label{select-the-right-network-approach}}

In order to choose between the socio or the ego-centric approach we must consider 2 main criteria:

\begin{itemize}
\tightlist
\item
  which one suits better for assessing our theoretical approach or answering our research question?
\item
  practical considerations involved in data collection.
\end{itemize}

\hypertarget{ego-centric-network}{%
\subsection{Ego-centric network}\label{ego-centric-network}}

The ego-centric network, also called ego-networks, is a network where the person whose network is collected is called ego. The person who are nominated by the ego are called alters.

In order to collect data for ego-networks:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Name generator: who are the members of the network? who are the ego alters? Remember to set a time frame and to limit the size of the network;
\item
  Name interrelator: how do we define who knows whom in the network? is it weighted or not?
\item
  Name interpreter: what alter attributes are relevant?
\end{enumerate}

\hypertarget{generating-names-of-ego-networks}{%
\subsection{Generating names of ego-networks}\label{generating-names-of-ego-networks}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Exchange based name generators: elicit ties to provide access to particular resources;
\item
  Content based name generators: interaction between partners with particular attributes, roles or shared experience;
\item
  Affect based name generators: elicit intimate alters that are mostly influential;
\item
  Interaction based name generators: measure the sociability or social isolation.
\end{enumerate}

\hypertarget{how-to-collect-data}{%
\subsection{How to collect data?}\label{how-to-collect-data}}

\begin{itemize}
\tightlist
\item
  Questionnaires
\item
  Interviews
\item
  Participant-aided sociograms;
\item
  Target method.
\end{itemize}

\hypertarget{visualization}{%
\chapter{Visualization}\label{visualization}}

\hypertarget{prerequisites}{%
\section{Prerequisites}\label{prerequisites}}

Before starting to visualize networks, it is necessary to install the package for Social Network Analysis, called \texttt{sna}:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(sna)}
\end{Highlighting}
\end{Shaded}

\hypertarget{modifying-the-layout-on-khf-network}{%
\section{Modifying the layout on KHF network}\label{modifying-the-layout-on-khf-network}}

\hypertarget{random-layout}{%
\subsection{Random layout}\label{random-layout}}

Let's plot the nodes randomly in the two-dimensional space, with the KHF dataset.

Notice that in order to build a network, we need an adjacency matrix, that's why the csv is converted into a matrix structure. Then, in order to symmetrize it and make it undirected, it is multiplied for its transpose, to make a self-multiplication, in order to get an undirected network from a directed one (remember that if there's a link going in both sides, we can insert an undirected link between these two vertices).

\emph{For instance, consider the following directed adjacency matrix:}

\[
\left( \begin{array}{ccc}
0 & 1 & 1 \\
1 & 0 & 0 \\
0 & 0 & 1 \end{array} \right)
\]
By computing its transpose and perform the self multiplication we obtain the undirected network (symmetric and with links only whenever the link goes on both sides in the original directed network):

\[
\left( \begin{array}{ccc}
0 & 1 & 1 \\
1 & 0 & 0 \\
0 & 0 & 1 \end{array} \right) \times 
\left( \begin{array}{ccc}
0 & 1 & 0 \\
1 & 0 & 0 \\
1 & 0 & 1 \end{array} \right) = 
\left( \begin{array}{ccc}
0 & 1 & 0 \\
1 & 0 & 0 \\
0 & 0 & 1 \end{array} \right)
\]

In the end it is turned into a network object.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 1. Read in the friendship network for Krackhardt\textquotesingle{}s high{-}tech managers:}
\NormalTok{KHF }\OtherTok{\textless{}{-}} \FunctionTok{as.matrix}\NormalTok{(}\FunctionTok{read.csv}\NormalTok{(}\StringTok{"./Datasets/Krackhardt\_HighTech\_Friendship.csv"}\NormalTok{,}
                          \AttributeTok{stringsAsFactors=}\ConstantTok{FALSE}\NormalTok{, }\AttributeTok{row.names=}\DecValTok{1}\NormalTok{))}


\CommentTok{\# 2. Symmetrize the matrix using the minimum approach, so a friendship tie}
\CommentTok{\# is only considered if both agree they are friends:}
\NormalTok{KHFS }\OtherTok{\textless{}{-}}\NormalTok{ KHF}\SpecialCharTok{*}\FunctionTok{t}\NormalTok{(KHF)}

\CommentTok{\# 3. Turn this into a "network" object:}
\NormalTok{KHFSn}\OtherTok{\textless{}{-}}\FunctionTok{as.network}\NormalTok{(KHFS, }\AttributeTok{directed=}\NormalTok{F)}
\end{Highlighting}
\end{Shaded}

To save the plot as a tiff file (in the default folder) use the \texttt{tiff()} function, which opens an image file,
and finish with \texttt{dev.off()}, which closes the image file for changes.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 4. Create and save visualization}
\CommentTok{\# tiff(file="images/Fig\_01\_KHFS\_Random.tiff", width=7, height=5, units="in", res=900)}

\FunctionTok{par}\NormalTok{(}\AttributeTok{mar=}\FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{)) }\CommentTok{\# Margin deletion}
\FunctionTok{gplot}\NormalTok{(KHFSn,}
      \AttributeTok{gmode=}\StringTok{"graph"}\NormalTok{,      }\CommentTok{\# undirected network}
      \AttributeTok{mode=}\StringTok{"random"}\NormalTok{,      }\CommentTok{\# random plotting of nodes}
      \AttributeTok{jitter=}\NormalTok{F,           }\CommentTok{\# do not allow nodes to be "jittered"}
      \AttributeTok{edge.col=}\StringTok{"grey70"}\NormalTok{,  }\CommentTok{\# set color of ties}
      \AttributeTok{vertex.col=}\StringTok{"cornflowerblue"}\NormalTok{,   }\CommentTok{\# set color of nodes}
      \AttributeTok{displaylabels=}\NormalTok{T,    }\CommentTok{\# indicate that labels should be included}
      \AttributeTok{label.pos=}\DecValTok{1}\NormalTok{,        }\CommentTok{\# indicate that labels should be given below points}
      \AttributeTok{label.cex=}\NormalTok{.}\DecValTok{7}\NormalTok{)       }\CommentTok{\# indicate the size of the labels (1 is default)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-119-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# dev.off()}
\end{Highlighting}
\end{Shaded}

\emph{\texttt{gmode="graph"} is used for \textbf{undirected} networks, while \texttt{gmode="digraph} is used for \textbf{directed} networks. If the input graph is undirected but the selected gmode is for directed networks, then arrows on both sides will be visualized. Also, most of the times the margin deletion is not necessary.}

The use of random position may be risky because of links overlapping and too close nodes.

\hypertarget{circle-layout}{%
\subsection{Circle Layout}\label{circle-layout}}

For a circle layout, it is necessary to change \texttt{mode} into \texttt{"cirlce"}.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# tiff(file="images/Fig\_02\_KHFS\_Circle.tiff", width=7, height=5, units="in", res=900)}
\FunctionTok{par}\NormalTok{(}\AttributeTok{mar=}\FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{))}
\FunctionTok{gplot}\NormalTok{(KHFSn, }
      \AttributeTok{gmode=}\StringTok{"digraph"}\NormalTok{,}
      \AttributeTok{mode=}\StringTok{"circle"}\NormalTok{,}
      \AttributeTok{jitter=}\NormalTok{F,}
      \AttributeTok{edge.col=}\StringTok{"grey70"}\NormalTok{,}
      \AttributeTok{vertex.col=}\StringTok{"cornflowerblue"}\NormalTok{,}
      \AttributeTok{displaylabels=}\NormalTok{T,}
      \AttributeTok{label.pos=}\DecValTok{1}\NormalTok{,}
      \AttributeTok{label.cex=}\NormalTok{.}\DecValTok{7}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-120-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# dev.off()}
\end{Highlighting}
\end{Shaded}

\hypertarget{fr-layout}{%
\subsection{FR Layout}\label{fr-layout}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# tiff(file="images/Fig\_03\_KHFS\_FR.tiff", width=7, height=5, units="in", res=900)}
\FunctionTok{par}\NormalTok{(}\AttributeTok{mar=}\FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{))}
\FunctionTok{gplot}\NormalTok{(KHFSn, }
      \AttributeTok{gmode=}\StringTok{"graph"}\NormalTok{,}
      \CommentTok{\#layout}
      \AttributeTok{mode=}\StringTok{"fruchtermanreingold"}\NormalTok{,}
      \AttributeTok{jitter=}\ConstantTok{FALSE}\NormalTok{,}
      \CommentTok{\#ties}
      \AttributeTok{edge.col=}\StringTok{"grey80"}\NormalTok{,}
      \CommentTok{\#nodes}
      \AttributeTok{vertex.col=}\StringTok{"cornflowerblue"}\NormalTok{,}
      \CommentTok{\#labels}
      \AttributeTok{displaylabels=}\NormalTok{T,}
      \AttributeTok{label.pos=}\DecValTok{1}\NormalTok{,}
      \AttributeTok{label.cex=}\NormalTok{.}\DecValTok{7}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-121-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# dev.off()}
\end{Highlighting}
\end{Shaded}

\hypertarget{kha-network}{%
\subsection{KHA Network}\label{kha-network}}

The following network is more dense than the previous.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Read in the advice network for Krackhardt\textquotesingle{}s high{-}tech managers:}
\NormalTok{KHA}\OtherTok{\textless{}{-}}\FunctionTok{as.matrix}\NormalTok{(}\FunctionTok{read.csv}\NormalTok{(}\StringTok{"Datasets/Krackhardt\_HighTech\_Advice.csv"}\NormalTok{,}
                        \AttributeTok{stringsAsFactors=}\ConstantTok{FALSE}\NormalTok{, }\AttributeTok{row.names=}\DecValTok{1}\NormalTok{))}
\CommentTok{\# Symmetrize the matrix using the minimum approach, so an advice tie}
\CommentTok{\# is only considered if both ask each other for advice:}
\NormalTok{KHAS}\OtherTok{\textless{}{-}}\NormalTok{KHA}\SpecialCharTok{*}\FunctionTok{t}\NormalTok{(KHA)}

\CommentTok{\# Turn this into a "network" object:}
\NormalTok{KHASn}\OtherTok{\textless{}{-}}\FunctionTok{as.network}\NormalTok{(KHAS, }\AttributeTok{directed=}\NormalTok{F)}

\CommentTok{\#tiff(file="images/Fig\_04\_KHAS\_FR.tiff", width=7, height=5, units="in", res=900)}
\FunctionTok{par}\NormalTok{(}\AttributeTok{mar=}\FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{))}
\FunctionTok{gplot}\NormalTok{(KHASn, }
      \AttributeTok{gmode=}\StringTok{"graph"}\NormalTok{,}
      \CommentTok{\#layout}
      \AttributeTok{mode=}\StringTok{"fruchtermanreingold"}\NormalTok{,}
      \AttributeTok{jitter=}\NormalTok{F,}
      \CommentTok{\#ties}
      \AttributeTok{edge.col=}\StringTok{"grey70"}\NormalTok{,}
      \CommentTok{\#nodes}
      \AttributeTok{vertex.col=}\StringTok{"cornflowerblue"}\NormalTok{,}
      \CommentTok{\#labels}
      \AttributeTok{displaylabels=}\NormalTok{T,}
      \AttributeTok{label.pos=}\DecValTok{1}\NormalTok{,}
      \AttributeTok{label.cex=}\NormalTok{.}\DecValTok{7}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-122-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#dev.off()}
\end{Highlighting}
\end{Shaded}

We could also build a function to plot a network:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plot\_network }\OtherTok{=} \ControlFlowTok{function}\NormalTok{(network)\{}
    \FunctionTok{gplot}\NormalTok{(network, }
      \AttributeTok{gmode=}\StringTok{"graph"}\NormalTok{,}
      \CommentTok{\#layout}
      \AttributeTok{mode=}\StringTok{"fruchtermanreingold"}\NormalTok{,}
      \AttributeTok{jitter=}\NormalTok{F,}
      \CommentTok{\#ties}
      \AttributeTok{edge.col=}\StringTok{"grey70"}\NormalTok{,}
      \CommentTok{\#nodes}
      \AttributeTok{vertex.col=}\StringTok{"cornflowerblue"}\NormalTok{,}
      \CommentTok{\#labels}
      \AttributeTok{displaylabels=}\NormalTok{T,}
      \AttributeTok{label.pos=}\DecValTok{1}\NormalTok{,}
      \AttributeTok{label.cex=}\NormalTok{.}\DecValTok{7}\NormalTok{)}
\NormalTok{\}}

\CommentTok{\# Example of use}
\FunctionTok{plot\_network}\NormalTok{(KHASn)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-123-1.pdf}

\hypertarget{layout-based-on-2-continuous-attributes}{%
\section{Layout based on 2 continuous attributes}\label{layout-based-on-2-continuous-attributes}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Read data and convert it into matrix}
\NormalTok{WPJ }\OtherTok{\textless{}{-}} \FunctionTok{as.matrix}\NormalTok{(}\FunctionTok{read.csv}\NormalTok{(}\StringTok{"Datasets/Wolfe\_Primates\_JointPresence.csv"}\NormalTok{,}
                          \AttributeTok{stringsAsFactors=}\ConstantTok{FALSE}\NormalTok{, }\AttributeTok{row.names=}\DecValTok{1}\NormalTok{))}

\CommentTok{\# Read attributes}
\NormalTok{WPAttr }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"Datasets/Wolfe\_Primates\_Attributes.csv"}\NormalTok{,}
                   \AttributeTok{stringsAsFactors=}\ConstantTok{FALSE}\NormalTok{, }\AttributeTok{row.names=}\DecValTok{1}\NormalTok{)}

\CommentTok{\# Rescale attributes so they range from 0 to 1}
\NormalTok{WP.AGE }\OtherTok{\textless{}{-}}\NormalTok{ (WPAttr}\SpecialCharTok{$}\NormalTok{AGE}\SpecialCharTok{{-}}\FunctionTok{min}\NormalTok{(WPAttr}\SpecialCharTok{$}\NormalTok{AGE))}\SpecialCharTok{/}\NormalTok{(}\FunctionTok{max}\NormalTok{(WPAttr}\SpecialCharTok{$}\NormalTok{AGE)}\SpecialCharTok{{-}}\FunctionTok{min}\NormalTok{(WPAttr}\SpecialCharTok{$}\NormalTok{AGE))}
\NormalTok{WP.RANK }\OtherTok{\textless{}{-}}\NormalTok{ (}\FunctionTok{max}\NormalTok{(WPAttr}\SpecialCharTok{$}\NormalTok{RANK)}\SpecialCharTok{{-}}\NormalTok{WPAttr}\SpecialCharTok{$}\NormalTok{RANK)}\SpecialCharTok{/}\NormalTok{(}\FunctionTok{max}\NormalTok{(WPAttr}\SpecialCharTok{$}\NormalTok{RANK)}\SpecialCharTok{{-}}\FunctionTok{min}\NormalTok{(WPAttr}\SpecialCharTok{$}\NormalTok{RANK))}

\CommentTok{\# Turn the 2 continuous variables into coordinates}
\NormalTok{WPCOORD }\OtherTok{\textless{}{-}} \FunctionTok{matrix}\NormalTok{(}\FunctionTok{c}\NormalTok{(WP.AGE,WP.RANK),}
                  \FunctionTok{dim}\NormalTok{(WPJ)[}\DecValTok{1}\NormalTok{],}\DecValTok{2}\NormalTok{)}

\CommentTok{\# Consider drawing only "relatively strong" ties}
\NormalTok{WPJ6W }\OtherTok{\textless{}{-}}\NormalTok{ (WPJ}\SpecialCharTok{\textgreater{}}\DecValTok{5}\NormalTok{)}\SpecialCharTok{*}\NormalTok{(WPJ}\DecValTok{{-}5}\NormalTok{) }\CommentTok{\# Only consider a tie in tie matrix, but only if major than 5 and then rescale it by removing 5}
\end{Highlighting}
\end{Shaded}

In the next step, we're going to make darker ties for those links where primates interacted more with each other (from grey40 to grey90).

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Create colors (greyscales) for ties}
\NormalTok{WPJ6W.Color}\OtherTok{\textless{}{-}}\NormalTok{WPJ6W}
\NormalTok{col.grey}\OtherTok{\textless{}{-}}\FunctionTok{colorRampPalette}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\StringTok{"grey90"}\NormalTok{, }\StringTok{"grey40"}\NormalTok{))}
\NormalTok{col.greyN}\OtherTok{\textless{}{-}}\FunctionTok{col.grey}\NormalTok{(}\FunctionTok{max}\NormalTok{(WPJ6W)}\SpecialCharTok{+}\DecValTok{1}\NormalTok{)}
\ControlFlowTok{for}\NormalTok{ (k }\ControlFlowTok{in}\NormalTok{ (}\DecValTok{1}\SpecialCharTok{:}\FunctionTok{max}\NormalTok{(WPJ6W)))}
\NormalTok{\{}
\NormalTok{    WPJ6W.Color[WPJ6W}\SpecialCharTok{==}\NormalTok{k]}\OtherTok{\textless{}{-}}\NormalTok{col.greyN[k}\SpecialCharTok{+}\DecValTok{1}\NormalTok{]}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Now let's start drawing, remembering that:

\begin{itemize}
\tightlist
\item
  coordinates of nodes are given by their rank and their age (attributes): \texttt{coord=WPCOORD};
\item
  the edge color is given by the mapping color based on their number of links: \texttt{edge.col=WPJ6W.Color};
\item
  the color of the vertex indicates the gender of the primate (white for females, black for males): \texttt{vertex.col=(WPAttr\$GENDER=="male")*9};
\item
  the added arrows allows us to visualize the cartesian plan.
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# tiff(file="images/Fig\_05\_WPJ\_coordAgeRank6W.tiff", width=5, height=6, units="in", res=900)}
\FunctionTok{par}\NormalTok{(}\AttributeTok{mar=}\FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{))}
\FunctionTok{gplot}\NormalTok{(WPJ6W}\SpecialCharTok{*}\FloatTok{1.1}\NormalTok{,}
      \AttributeTok{gmode=}\StringTok{"digraph"}\NormalTok{, }
      \CommentTok{\#layout}
      \AttributeTok{coord=}\NormalTok{WPCOORD, }\CommentTok{\# using the coordinates to place primates }
      \AttributeTok{jitter=}\NormalTok{F,}
      \CommentTok{\#ties}
      \AttributeTok{edge.col=}\NormalTok{WPJ6W.Color,}
      \AttributeTok{edge.lwd=}\NormalTok{.}\DecValTok{3}\NormalTok{,}
      \CommentTok{\#nodes}
      \AttributeTok{vertex.col=}\NormalTok{(WPAttr}\SpecialCharTok{$}\NormalTok{GENDER}\SpecialCharTok{==}\StringTok{"male"}\NormalTok{)}\SpecialCharTok{*}\DecValTok{9}\NormalTok{,}
      \AttributeTok{vertex.cex=}\FloatTok{0.5}\NormalTok{, }
      \CommentTok{\#labels}
      \AttributeTok{displaylabels=}\NormalTok{T, }
      \AttributeTok{label.pos=}\DecValTok{1}\NormalTok{,}
      \AttributeTok{label.cex=}\NormalTok{.}\DecValTok{7}\NormalTok{,}
      \AttributeTok{arrowhead.cex =} \FloatTok{0.4}\NormalTok{)}

\CommentTok{\# Add arrows}
\FunctionTok{arrows}\NormalTok{(}\SpecialCharTok{{-}}\NormalTok{.}\DecValTok{1}\NormalTok{, }\SpecialCharTok{{-}}\NormalTok{.}\DecValTok{1}\NormalTok{, }\FloatTok{1.1}\NormalTok{, }\SpecialCharTok{{-}}\NormalTok{.}\DecValTok{1}\NormalTok{, }\AttributeTok{length =} \FloatTok{0.1}\NormalTok{)}
\FunctionTok{arrows}\NormalTok{(}\SpecialCharTok{{-}}\NormalTok{.}\DecValTok{1}\NormalTok{, }\SpecialCharTok{{-}}\NormalTok{.}\DecValTok{1}\NormalTok{, }\SpecialCharTok{{-}}\NormalTok{.}\DecValTok{1}\NormalTok{, }\FloatTok{1.1}\NormalTok{, }\AttributeTok{length =} \FloatTok{0.1}\NormalTok{)}
\FunctionTok{text}\NormalTok{(}\SpecialCharTok{{-}}\NormalTok{.}\DecValTok{1}\NormalTok{, }\FloatTok{1.1}\NormalTok{, }\AttributeTok{labels=}\StringTok{"Rank"}\NormalTok{,}
     \AttributeTok{cex=}\FloatTok{0.8}\NormalTok{, }\AttributeTok{pos=}\DecValTok{4}\NormalTok{)}
\FunctionTok{text}\NormalTok{(}\FloatTok{1.1}\NormalTok{,}\SpecialCharTok{{-}}\NormalTok{.}\DecValTok{1}\NormalTok{, }\AttributeTok{labels=}\StringTok{"Age"}\NormalTok{,}
     \AttributeTok{cex=}\FloatTok{0.8}\NormalTok{, }\AttributeTok{pos=}\DecValTok{3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-126-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# dev.off()}
\end{Highlighting}
\end{Shaded}

\hypertarget{layout-where-points-are-grouped-based-on-nominal-attribute}{%
\section{Layout where points are grouped based on nominal attribute}\label{layout-where-points-are-grouped-based-on-nominal-attribute}}

First of all, we're going to import the datasets and convert them into networks as usual:

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 1. Convert datasets into networks}
\DocumentationTok{\#\# Convert the KHA dataset into a network}
\NormalTok{KHA}\OtherTok{\textless{}{-}}\FunctionTok{as.matrix}\NormalTok{(}\FunctionTok{read.csv}\NormalTok{(}\StringTok{"Datasets/Krackhardt\_HighTech\_Advice.csv"}\NormalTok{,}
                        \AttributeTok{stringsAsFactors=}\ConstantTok{FALSE}\NormalTok{, }\AttributeTok{row.names=}\DecValTok{1}\NormalTok{))}
\NormalTok{KHAS}\OtherTok{\textless{}{-}}\NormalTok{KHA}\SpecialCharTok{*}\FunctionTok{t}\NormalTok{(KHA)}
\NormalTok{KHASn}\OtherTok{\textless{}{-}}\FunctionTok{as.network}\NormalTok{(KHAS, }\AttributeTok{directed=}\NormalTok{F)}

\DocumentationTok{\#\# Convert the KHF dataset into a network}
\NormalTok{KHF}\OtherTok{\textless{}{-}}\FunctionTok{as.matrix}\NormalTok{(}\FunctionTok{read.csv}\NormalTok{(}\StringTok{"Datasets/Krackhardt\_HighTech\_Friendship.csv"}\NormalTok{,}
                        \AttributeTok{stringsAsFactors=}\ConstantTok{FALSE}\NormalTok{, }\AttributeTok{row.names=}\DecValTok{1}\NormalTok{))}
\NormalTok{KHFS}\OtherTok{\textless{}{-}}\NormalTok{KHF}\SpecialCharTok{*}\FunctionTok{t}\NormalTok{(KHF)}
\NormalTok{KHFSn}\OtherTok{\textless{}{-}}\FunctionTok{as.network}\NormalTok{(KHFS, }\AttributeTok{directed=}\NormalTok{F)}
\end{Highlighting}
\end{Shaded}

Then, we can create a network with ties within departments to define positions. By importing the KHA dataset and maintaining its attribute, we will maintain the departments and convert them to matrix. In the end, we maintain only those links where two subjects belong to the same department (\texttt{DEPS==t(DEPS)}).

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 2. Create a network with ties within department to define positions}
\NormalTok{KHAttr}\OtherTok{\textless{}{-}}\FunctionTok{read.csv}\NormalTok{(}\StringTok{"Datasets/Krackhardt\_HighTech\_Attributes.csv"}\NormalTok{,}
                 \AttributeTok{stringsAsFactors=}\ConstantTok{FALSE}\NormalTok{, }\AttributeTok{row.names=}\DecValTok{1}\NormalTok{)}
\NormalTok{DEPS}\OtherTok{\textless{}{-}}\FunctionTok{matrix}\NormalTok{(KHAttr}\SpecialCharTok{$}\NormalTok{DEPT,}\FunctionTok{nrow}\NormalTok{(KHA),}\FunctionTok{nrow}\NormalTok{(KHA))}
\NormalTok{DEPSIM}\OtherTok{\textless{}{-}}\NormalTok{DEPS}\SpecialCharTok{==}\FunctionTok{t}\NormalTok{(DEPS)}
\end{Highlighting}
\end{Shaded}

We can get nodes coordinates by plotting them based on their department similarity. Coords may change from an execution to another, but groupings will be the same. In this way, we will place similar nodes next to each other.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 3. Get coordinates}
\NormalTok{DEP\_COORD}\OtherTok{\textless{}{-}}\FunctionTok{gplot}\NormalTok{(DEPSIM, }
                 \AttributeTok{displaylabels=}\NormalTok{T)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-129-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 4. Draw the friendship network using the coordinates got from nominal friendship}
\CommentTok{\# tiff(file="images/Fig\_06\_KHFS\_Department1.tiff", width=5, height=7, units="in", res=900)}
\FunctionTok{par}\NormalTok{(}\AttributeTok{mar=}\FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{))}
\FunctionTok{gplot}\NormalTok{(KHFSn,}
      \AttributeTok{gmode=}\StringTok{"graph"}\NormalTok{,}
      \CommentTok{\#layout}
      \AttributeTok{coord=}\NormalTok{DEP\_COORD,}
      \AttributeTok{jitter=}\NormalTok{F,}
      \CommentTok{\#ties}
      \AttributeTok{edge.col=}\StringTok{"grey50"}\NormalTok{,}
      \AttributeTok{edge.lwd=}\NormalTok{.}\DecValTok{7}\NormalTok{,}
      \CommentTok{\#nodes}
      \AttributeTok{vertex.col=}\StringTok{"cornflowerblue"}\NormalTok{,}
      \CommentTok{\#labels}
      \AttributeTok{displaylabels=}\NormalTok{T, }
      \AttributeTok{label.pos=}\DecValTok{1}\NormalTok{, }
      \AttributeTok{label.cex=}\NormalTok{.}\DecValTok{7}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-130-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# dev.off()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# tiff(file="images/Fig\_06\_KHAS\_Department1.tiff", width=5, height=7, units="in", res=900)}
\FunctionTok{par}\NormalTok{(}\AttributeTok{mar=}\FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{))}
\FunctionTok{gplot}\NormalTok{(KHASn,}
      \AttributeTok{gmode=}\StringTok{"graph"}\NormalTok{,}
      \CommentTok{\#layout}
      \AttributeTok{coord=}\NormalTok{DEP\_COORD,}
      \AttributeTok{jitter=}\NormalTok{F,}
      \CommentTok{\#ties}
      \AttributeTok{edge.col=}\StringTok{"grey50"}\NormalTok{,}
      \AttributeTok{edge.lwd=}\NormalTok{.}\DecValTok{7}\NormalTok{,}
      \CommentTok{\#nodes}
      \AttributeTok{vertex.col=}\StringTok{"cornflowerblue"}\NormalTok{,}
      \CommentTok{\#labels}
      \AttributeTok{displaylabels=}\NormalTok{T, }
      \AttributeTok{label.pos=}\DecValTok{1}\NormalTok{, }
      \AttributeTok{label.cex=}\NormalTok{.}\DecValTok{7}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-131-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# dev.off()}
\end{Highlighting}
\end{Shaded}

\hypertarget{geography---international-trade-among-countries-in-1928}{%
\section{Geography - International trade among countries in 1928}\label{geography---international-trade-among-countries-in-1928}}

In this case, nodes are positioned based on the geographic location of their capitals. Canada and the US have been slightly moved to the West to make the trade between European countries more visible.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 1. Dataset conversion into network}
\NormalTok{STE}\OtherTok{\textless{}{-}}\FunctionTok{as.matrix}\NormalTok{(}\FunctionTok{read.csv}\NormalTok{(}\StringTok{"Datasets/Savage\_TransactionFlows\_ExportsPerc.csv"}\NormalTok{,}
                        \AttributeTok{stringsAsFactors=}\ConstantTok{FALSE}\NormalTok{, }\AttributeTok{row.names=}\DecValTok{1}\NormalTok{))}
\NormalTok{STAttr}\OtherTok{\textless{}{-}}\FunctionTok{read.csv}\NormalTok{(}\StringTok{"Datasets/Savage\_TransactionFlows\_Attributes.csv"}\NormalTok{,}
                 \AttributeTok{stringsAsFactors=}\ConstantTok{FALSE}\NormalTok{, }\AttributeTok{row.names=}\DecValTok{1}\NormalTok{)}

\CommentTok{\# 2. Consider Latitude and Longitude}
\NormalTok{LA}\OtherTok{\textless{}{-}}\NormalTok{STAttr}\SpecialCharTok{$}\NormalTok{Latitude}
\NormalTok{LO}\OtherTok{\textless{}{-}}\NormalTok{STAttr}\SpecialCharTok{$}\NormalTok{Longitude}

\CommentTok{\# 3. Move Canada and US to the west}
\NormalTok{LO[}\DecValTok{2}\SpecialCharTok{:}\DecValTok{3}\NormalTok{]}\OtherTok{\textless{}{-}}\NormalTok{LO[}\DecValTok{2}\SpecialCharTok{:}\DecValTok{3}\NormalTok{]}\SpecialCharTok{+}\DecValTok{40}

\CommentTok{\# 4. Symmetrized using product}
\NormalTok{STES}\OtherTok{\textless{}{-}}\NormalTok{(STE}\SpecialCharTok{*}\FunctionTok{t}\NormalTok{(STE))}
\DocumentationTok{\#\#  To plot only stronger trades (more than 19 trades)}
\NormalTok{STESGT20}\OtherTok{\textless{}{-}}\FunctionTok{round}\NormalTok{(((STES}\SpecialCharTok{\textgreater{}}\DecValTok{19}\NormalTok{)}\SpecialCharTok{*}\NormalTok{(STES}\DecValTok{{-}19}\NormalTok{))}\SpecialCharTok{\^{}}\NormalTok{.}\DecValTok{5}\NormalTok{)}

\CommentTok{\# 5. Create colors (greyscale) for ties}
\NormalTok{STESGT20.Color}\OtherTok{\textless{}{-}}\NormalTok{STESGT20}
\NormalTok{col.grey}\OtherTok{\textless{}{-}}\FunctionTok{colorRampPalette}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\StringTok{"grey80"}\NormalTok{, }\StringTok{"grey40"}\NormalTok{))}
\NormalTok{col.greyN}\OtherTok{\textless{}{-}}\FunctionTok{col.grey}\NormalTok{(}\FunctionTok{max}\NormalTok{(STESGT20)}\SpecialCharTok{+}\DecValTok{1}\NormalTok{)}
\ControlFlowTok{for}\NormalTok{ (k }\ControlFlowTok{in}\NormalTok{ (}\DecValTok{1}\SpecialCharTok{:}\FunctionTok{max}\NormalTok{(STESGT20)))}
\NormalTok{\{}
\NormalTok{    STESGT20.Color[STESGT20}\SpecialCharTok{==}\NormalTok{k]}\OtherTok{\textless{}{-}}\NormalTok{col.greyN[k}\SpecialCharTok{+}\DecValTok{1}\NormalTok{]}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 6. Visualizing the map}
\CommentTok{\#tiff(file="images/Fig\_07\_STE\_Trade1928\_Geogr.tiff", width=8, height=4, units="in", res=900)}
\FunctionTok{par}\NormalTok{(}\AttributeTok{mar=}\FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{))}
\FunctionTok{gplot}\NormalTok{(STESGT20, }
      \AttributeTok{gmode=}\StringTok{"graph"}\NormalTok{,}
      \AttributeTok{coord=}\FunctionTok{cbind}\NormalTok{(LO,LA), }\CommentTok{\# Using geographical coordinates to map cities}
      \AttributeTok{jitter=}\NormalTok{F,}
      \AttributeTok{edge.col=}\NormalTok{STESGT20.Color,}
      \AttributeTok{edge.lwd=}\FloatTok{0.4}\NormalTok{,}
      \AttributeTok{vertex.col=}\StringTok{"grey90"}\NormalTok{,}
      \AttributeTok{vertex.cex=}\FloatTok{0.3}\NormalTok{,}
      \AttributeTok{displaylabels=}\NormalTok{T, }
      \AttributeTok{label.cex=}\NormalTok{.}\DecValTok{5}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-133-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#dev.off()}
\end{Highlighting}
\end{Shaded}

\hypertarget{multidimensional-scaling}{%
\section{Multidimensional scaling}\label{multidimensional-scaling}}

\hypertarget{mds-on-primates}{%
\subsection{MDS on Primates}\label{mds-on-primates}}

We can apply the MDS in order to better plot nodes inside the network, by using the default function in R \texttt{cmdscale()}.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 1. Rescale values using MDS}
\NormalTok{WPJS}\OtherTok{\textless{}{-}}\FunctionTok{log}\NormalTok{(WPJ}\SpecialCharTok{+}\DecValTok{1}\NormalTok{)}
\NormalTok{WPJ\_CoordMDS}\OtherTok{\textless{}{-}}\FunctionTok{cmdscale}\NormalTok{(}\FunctionTok{max}\NormalTok{(WPJS)}\SpecialCharTok{*}\FloatTok{1.001}\SpecialCharTok{{-}}\NormalTok{WPJS, }\AttributeTok{eig=}\ConstantTok{TRUE}\NormalTok{, }\AttributeTok{k =} \DecValTok{2}\NormalTok{)}

\CommentTok{\# 2. Consider drawing only "relatively strong" ties}
\NormalTok{WPJ6W}\OtherTok{\textless{}{-}}\NormalTok{(WPJ}\SpecialCharTok{\textgreater{}}\DecValTok{5}\NormalTok{)}\SpecialCharTok{*}\NormalTok{(WPJ}\DecValTok{{-}5}\NormalTok{)}

\CommentTok{\# 3. Create color for ties}
\NormalTok{WPJ6W.Color}\OtherTok{\textless{}{-}}\NormalTok{WPJ6W}
\NormalTok{col.grey}\OtherTok{\textless{}{-}}\FunctionTok{colorRampPalette}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\StringTok{"grey80"}\NormalTok{, }\StringTok{"grey30"}\NormalTok{))}
\NormalTok{col.greyN}\OtherTok{\textless{}{-}}\FunctionTok{col.grey}\NormalTok{(}\FunctionTok{max}\NormalTok{(WPJ6W)}\SpecialCharTok{+}\DecValTok{1}\NormalTok{)}
\ControlFlowTok{for}\NormalTok{ (k }\ControlFlowTok{in}\NormalTok{ (}\DecValTok{1}\SpecialCharTok{:}\FunctionTok{max}\NormalTok{(WPJ6W)))}
\NormalTok{\{}
\NormalTok{    WPJ6W.Color[WPJ6W}\SpecialCharTok{==}\NormalTok{k]}\OtherTok{\textless{}{-}}\NormalTok{col.greyN[k}\SpecialCharTok{+}\DecValTok{1}\NormalTok{]}
\NormalTok{\}}

\CommentTok{\# 4. Draw}
\CommentTok{\# tiff(file="images/Fig\_08\_WPJ6W\_mds.tiff", width=6, height=5, units="in", res=900)}
\FunctionTok{par}\NormalTok{(}\AttributeTok{mar=}\FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{))}
\FunctionTok{gplot}\NormalTok{(WPJ6W}\SpecialCharTok{*}\FloatTok{1.1}\NormalTok{,}
      \AttributeTok{gmode=}\StringTok{"graph"}\NormalTok{, }
      \CommentTok{\#layout}
      \AttributeTok{coord=}\NormalTok{WPJ\_CoordMDS}\SpecialCharTok{$}\NormalTok{points,}
      \AttributeTok{jitter=}\NormalTok{F,}
      \AttributeTok{edge.col=}\NormalTok{WPJ6W.Color,}
      \AttributeTok{edge.lwd=}\FloatTok{0.5}\NormalTok{,}
      \CommentTok{\#nodes}
      \AttributeTok{vertex.col=}\FunctionTok{ifelse}\NormalTok{(WPAttr}\SpecialCharTok{$}\NormalTok{GENDER}\SpecialCharTok{==}\StringTok{"male"}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{2}\NormalTok{),}
      \AttributeTok{vertex.cex=}\FloatTok{0.8}\NormalTok{, }
      \CommentTok{\#labels}
      \AttributeTok{displaylabels=}\NormalTok{T, }
      \AttributeTok{label.pos=}\DecValTok{1}\NormalTok{,}
      \AttributeTok{label.cex=}\NormalTok{.}\DecValTok{7}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-134-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# dev.off()}
\end{Highlighting}
\end{Shaded}

\hypertarget{mds-on-valued-trade}{%
\subsection{MDS on valued trade}\label{mds-on-valued-trade}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{STE}\OtherTok{\textless{}{-}}\FunctionTok{as.matrix}\NormalTok{(}\FunctionTok{read.csv}\NormalTok{(}\StringTok{"Datasets/Savage\_TransactionFlows\_ExportsPerc.csv"}\NormalTok{,}
                        \AttributeTok{stringsAsFactors=}\ConstantTok{FALSE}\NormalTok{, }\AttributeTok{row.names=}\DecValTok{1}\NormalTok{))}
\CommentTok{\# Symmetrized using product}
\NormalTok{STES}\OtherTok{\textless{}{-}}\NormalTok{(STE}\SpecialCharTok{*}\FunctionTok{t}\NormalTok{(STE))}
\CommentTok{\# To plot only stronger trade }
\NormalTok{STESGT20}\OtherTok{\textless{}{-}}\FunctionTok{round}\NormalTok{(((STES}\SpecialCharTok{\textgreater{}}\DecValTok{19}\NormalTok{)}\SpecialCharTok{*}\NormalTok{(STES}\DecValTok{{-}19}\NormalTok{))}\SpecialCharTok{\^{}}\NormalTok{.}\DecValTok{5}\NormalTok{)}

\CommentTok{\# Create colors (greyscale) for ties}
\NormalTok{STESGT20.Color}\OtherTok{\textless{}{-}}\NormalTok{STESGT20}
\NormalTok{col.grey}\OtherTok{\textless{}{-}}\FunctionTok{colorRampPalette}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\StringTok{"grey80"}\NormalTok{, }\StringTok{"grey40"}\NormalTok{))}
\NormalTok{col.greyN}\OtherTok{\textless{}{-}}\FunctionTok{col.grey}\NormalTok{(}\FunctionTok{max}\NormalTok{(STESGT20)}\SpecialCharTok{+}\DecValTok{1}\NormalTok{)}
\ControlFlowTok{for}\NormalTok{ (k }\ControlFlowTok{in}\NormalTok{ (}\DecValTok{1}\SpecialCharTok{:}\FunctionTok{max}\NormalTok{(STESGT20)))}
\NormalTok{\{}
\NormalTok{    STESGT20.Color[STESGT20}\SpecialCharTok{==}\NormalTok{k]}\OtherTok{\textless{}{-}}\NormalTok{col.greyN[k}\SpecialCharTok{+}\DecValTok{1}\NormalTok{]}
\NormalTok{\}}

\NormalTok{STESGT20\_Coord}\OtherTok{\textless{}{-}}\FunctionTok{cmdscale}\NormalTok{((}\FunctionTok{max}\NormalTok{(STE)}\SpecialCharTok{*}\FloatTok{1.002}\SpecialCharTok{{-}}\NormalTok{STE)}\SpecialCharTok{\^{}}\DecValTok{2}\NormalTok{, }\AttributeTok{eig=}\ConstantTok{TRUE}\NormalTok{, }\AttributeTok{k =} \DecValTok{2}\NormalTok{)}
\CommentTok{\#STESGT20\_Coord\textless{}{-}cmdscale(STE{-}STE, eig=TRUE, k = 2)}
\CommentTok{\#tiff(file="images/Fig\_08\_STESGT20\_mds.tiff", width=6, height=5, units="in", res=900)}
\FunctionTok{par}\NormalTok{(}\AttributeTok{mar=}\FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{))}
\FunctionTok{gplot}\NormalTok{(STESGT20, }
      \AttributeTok{gmode=}\StringTok{"graph"}\NormalTok{,}
      \CommentTok{\#layout}
      \AttributeTok{coord=}\NormalTok{STESGT20\_Coord}\SpecialCharTok{$}\NormalTok{points,}
      \AttributeTok{jitter=}\NormalTok{F,}
      \CommentTok{\#ties}
      \AttributeTok{edge.col=}\NormalTok{STESGT20.Color,}
      \AttributeTok{edge.lwd=}\FloatTok{0.4}\NormalTok{,}
      \CommentTok{\#nodes}
      \AttributeTok{vertex.col=}\StringTok{"grey90"}\NormalTok{,}
      \AttributeTok{vertex.cex=}\FloatTok{0.8}\NormalTok{,}
      \CommentTok{\#labels}
      \AttributeTok{displaylabels=}\NormalTok{T, }
      \AttributeTok{label.pos=}\DecValTok{1}\NormalTok{, }
      \AttributeTok{label.cex=}\NormalTok{.}\DecValTok{7}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-135-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#dev.off()}
\end{Highlighting}
\end{Shaded}

\hypertarget{mds-on-geodesic-distances}{%
\subsection{MDS on geodesic distances}\label{mds-on-geodesic-distances}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{KHA}\OtherTok{\textless{}{-}}\FunctionTok{as.matrix}\NormalTok{(}\FunctionTok{read.csv}\NormalTok{(}\StringTok{"Datasets/Krackhardt\_HighTech\_Advice.csv"}\NormalTok{,}
                        \AttributeTok{stringsAsFactors=}\ConstantTok{FALSE}\NormalTok{, }\AttributeTok{row.names=}\DecValTok{1}\NormalTok{))}
\NormalTok{KHAS}\OtherTok{\textless{}{-}}\NormalTok{KHA}\SpecialCharTok{*}\FunctionTok{t}\NormalTok{(KHA)}
\NormalTok{KHASn}\OtherTok{\textless{}{-}}\FunctionTok{as.network}\NormalTok{(KHAS, }\AttributeTok{directed=}\NormalTok{F)}
\NormalTok{GeoD}\OtherTok{\textless{}{-}}\FunctionTok{geodist}\NormalTok{(KHASn)}
\FunctionTok{max}\NormalTok{(GeoD}\SpecialCharTok{$}\NormalTok{gdist)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 3
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#GeoD$gdist[GeoD$counts==0]\textless{}{-}{-}999}
\CommentTok{\#GeoD$gdist[GeoD$gdist=={-}999]\textless{}{-}max(GeoD$gdist)}
\NormalTok{GeoD\_Coord}\OtherTok{\textless{}{-}}\FunctionTok{cmdscale}\NormalTok{(GeoD}\SpecialCharTok{$}\NormalTok{gdist, }\AttributeTok{eig=}\ConstantTok{TRUE}\NormalTok{, }\AttributeTok{k=}\DecValTok{2}\NormalTok{)}
\NormalTok{GeoD\_Coord}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## $points
##              [,1]        [,2]
##  [1,]  0.76162888 -0.15192804
##  [2,] -1.51428017  0.01452473
##  [3,]  0.06243284 -0.53328907
##  [4,]  0.02556773 -0.89875609
##  [5,]  1.13565391  0.34041487
##  [6,] -1.25508843 -0.97588178
##  [7,] -0.74784913  0.81617695
##  [8,]  0.06471364 -0.77547617
##  [9,]  0.85297735  0.24843971
## [10,]  1.07052904 -0.29602193
## [11,] -1.29460998  1.71553243
## [12,] -1.51428017  0.01452473
## [13,]  0.95428481  0.34017104
## [14,] -0.29225683  0.53688623
## [15,]  1.05597933  0.13644745
## [16,]  1.01641735  0.12773099
## [17,] -1.23959938 -0.42884357
## [18,]  0.37975961  0.20110852
## [19,]  1.14398272  0.29717063
## [20,]  0.06113491 -0.41675189
## [21,] -0.72709801 -0.31217975
## 
## $eig
##  [1]  1.881496e+01  7.566499e+00  5.471410e+00  3.744726e+00  3.436953e+00
##  [6]  2.613479e+00  2.377477e+00  2.000000e+00  2.000000e+00  2.000000e+00
## [11]  1.109910e+00  7.348856e-01  5.306488e-01  1.185842e-01  2.664535e-15
## [16] -1.212696e-01 -2.706349e-01 -6.477894e-01 -1.307601e+00 -2.646835e+00
## [21] -3.715879e+00
## 
## $x
## NULL
## 
## $ac
## [1] 0
## 
## $GOF
## [1] 0.4308616 0.5023171
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#tiff(file="images/Fig\_09\_GeoDKHA\_MDS.tiff", width=7, height=5, units="in", res=900)}
\FunctionTok{par}\NormalTok{(}\AttributeTok{mar=}\FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{))}
\FunctionTok{gplot}\NormalTok{(KHASn,}
      \AttributeTok{gmode=}\StringTok{"graph"}\NormalTok{,}
      \CommentTok{\#layout}
      \AttributeTok{coord=}\NormalTok{GeoD\_Coord}\SpecialCharTok{$}\NormalTok{points,}
      \AttributeTok{jitter=}\NormalTok{T,}
      \CommentTok{\#ties}
      \AttributeTok{edge.col=}\StringTok{"grey50"}\NormalTok{,}
      \AttributeTok{edge.lwd=}\NormalTok{.}\DecValTok{7}\NormalTok{,}
      \CommentTok{\#nodes}
      \AttributeTok{vertex.col=}\StringTok{"cornflowerblue"}\NormalTok{,}
      \CommentTok{\#labels}
      \AttributeTok{displaylabels=}\NormalTok{T,}
      \AttributeTok{label.cex=}\NormalTok{.}\DecValTok{7}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-136-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#dev.off()}
\end{Highlighting}
\end{Shaded}

\hypertarget{kamadakawai-and-fr-layout-khfs}{%
\section{KamadaKawai and FR layout KHFS}\label{kamadakawai-and-fr-layout-khfs}}

\hypertarget{on-simulated-data}{%
\subsection{On Simulated data}\label{on-simulated-data}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mat8}\OtherTok{\textless{}{-}}\FunctionTok{matrix}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{),}\DecValTok{8}\NormalTok{,}\DecValTok{8}\NormalTok{)}
\NormalTok{mat8[}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{]}\OtherTok{\textless{}{-}}\DecValTok{1}
\NormalTok{mat8[}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{]}\OtherTok{\textless{}{-}}\DecValTok{1}
\NormalTok{mat8[}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{]}\OtherTok{\textless{}{-}}\DecValTok{1}
\NormalTok{mat8[}\DecValTok{3}\NormalTok{,}\DecValTok{5}\NormalTok{]}\OtherTok{\textless{}{-}}\DecValTok{1}
\NormalTok{mat8[}\DecValTok{3}\NormalTok{,}\DecValTok{6}\NormalTok{]}\OtherTok{\textless{}{-}}\DecValTok{1}
\NormalTok{mat8[}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{]}\OtherTok{\textless{}{-}}\DecValTok{1}
\NormalTok{mat8[}\DecValTok{4}\NormalTok{,}\DecValTok{6}\NormalTok{]}\OtherTok{\textless{}{-}}\DecValTok{1}
\NormalTok{mat8[}\DecValTok{5}\NormalTok{,}\DecValTok{6}\NormalTok{]}\OtherTok{\textless{}{-}}\DecValTok{1}
\NormalTok{mat8[}\DecValTok{6}\NormalTok{,}\DecValTok{7}\NormalTok{]}\OtherTok{\textless{}{-}}\DecValTok{1}
\NormalTok{mat8[}\DecValTok{7}\NormalTok{,}\DecValTok{8}\NormalTok{]}\OtherTok{\textless{}{-}}\DecValTok{1}
\NormalTok{mat8s}\OtherTok{\textless{}{-}}\NormalTok{(mat8}\SpecialCharTok{+}\FunctionTok{t}\NormalTok{(mat8))}\SpecialCharTok{\textgreater{}}\DecValTok{0}
\NormalTok{mat8s}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##       [,1]  [,2]  [,3]  [,4]  [,5]  [,6]  [,7]  [,8]
## [1,] FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE
## [2,]  TRUE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE
## [3,] FALSE  TRUE FALSE  TRUE  TRUE  TRUE FALSE FALSE
## [4,] FALSE FALSE  TRUE FALSE  TRUE  TRUE FALSE FALSE
## [5,] FALSE FALSE  TRUE  TRUE FALSE  TRUE FALSE FALSE
## [6,] FALSE FALSE  TRUE  TRUE  TRUE FALSE  TRUE FALSE
## [7,] FALSE FALSE FALSE FALSE FALSE  TRUE FALSE  TRUE
## [8,] FALSE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{gplot}\NormalTok{(mat8, }
      \AttributeTok{gmode=}\StringTok{"graph"}\NormalTok{,}
      \CommentTok{\#layout}
      \AttributeTok{mode=}\StringTok{"fruchtermanreingold"}\NormalTok{,}
      \AttributeTok{jitter=}\ConstantTok{FALSE}\NormalTok{,}
      \CommentTok{\#ties}
      \AttributeTok{edge.col=}\StringTok{"grey70"}\NormalTok{,}
      \CommentTok{\#nodes}
      \AttributeTok{vertex.col=}\StringTok{"cornflowerblue"}\NormalTok{,}
      \CommentTok{\#labels}
      \AttributeTok{displaylabels=}\NormalTok{T,}
      \AttributeTok{label.pos=}\DecValTok{1}\NormalTok{,}
      \AttributeTok{label.cex=}\NormalTok{.}\DecValTok{7}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-137-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{gplot}\NormalTok{(mat8, }
      \AttributeTok{gmode=}\StringTok{"graph"}\NormalTok{,}
      \CommentTok{\#layout}
      \AttributeTok{mode=}\StringTok{"kamadakawai"}\NormalTok{,}
      \AttributeTok{jitter=}\ConstantTok{FALSE}\NormalTok{,}
      \CommentTok{\#ties}
      \AttributeTok{edge.col=}\StringTok{"grey70"}\NormalTok{,}
      \CommentTok{\#nodes}
      \AttributeTok{vertex.col=}\StringTok{"cornflowerblue"}\NormalTok{,}
      \CommentTok{\#labels}
      \AttributeTok{displaylabels=}\NormalTok{T,}
      \AttributeTok{label.pos=}\DecValTok{1}\NormalTok{,}
      \AttributeTok{label.cex=}\NormalTok{.}\DecValTok{7}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-137-2.pdf}

\hypertarget{scientists-collaborations}{%
\subsection{Scientists collaborations}\label{scientists-collaborations}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{BS504Cx}\OtherTok{\textless{}{-}}\FunctionTok{as.matrix}\NormalTok{(}\FunctionTok{read.csv}\NormalTok{(}\StringTok{"Datasets/Borgatti\_Scientists504\_Attributes.csv"}\NormalTok{,}
                            \AttributeTok{stringsAsFactors=}\ConstantTok{FALSE}\NormalTok{, }\AttributeTok{row.names=}\DecValTok{1}\NormalTok{))}
\NormalTok{BS504C}\OtherTok{\textless{}{-}}\NormalTok{(BS504Cx}\SpecialCharTok{\textgreater{}}\DecValTok{3}\NormalTok{)}

\CommentTok{\#tiff(file="images/Fig\_011b\_BS504C\_KK.tiff", width=7, height=5, units="in", res=900)}
\FunctionTok{par}\NormalTok{(}\AttributeTok{mar=}\FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{))}
\FunctionTok{gplot}\NormalTok{(BS504C, }
      \AttributeTok{gmode=}\StringTok{"graph"}\NormalTok{,}
      \CommentTok{\#layout}
      \AttributeTok{mode=}\StringTok{"kamadakawai"}\NormalTok{,}
      \AttributeTok{jitter=}\NormalTok{F,}
      \CommentTok{\#ties}
      \AttributeTok{edge.col=}\StringTok{"grey70"}\NormalTok{, }
      \AttributeTok{edge.lwd=}\NormalTok{.}\DecValTok{1}\NormalTok{,}
      \CommentTok{\#nodes}
      \AttributeTok{vertex.col=}\StringTok{"cornflowerblue"}\NormalTok{,}
      \AttributeTok{vertex.cex=}\NormalTok{.}\DecValTok{75}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-138-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#dev.off()}
\end{Highlighting}
\end{Shaded}

\hypertarget{nodal-attributes-on-khf}{%
\subsection{Nodal attributes on KHF}\label{nodal-attributes-on-khf}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{KHF}\OtherTok{\textless{}{-}}\FunctionTok{as.matrix}\NormalTok{(}\FunctionTok{read.csv}\NormalTok{(}\StringTok{"Datasets/Krackhardt\_HighTech\_Friendship.csv"}\NormalTok{,}
                        \AttributeTok{stringsAsFactors=}\ConstantTok{FALSE}\NormalTok{, }\AttributeTok{row.names=}\DecValTok{1}\NormalTok{))}
\NormalTok{KHFS}\OtherTok{\textless{}{-}}\NormalTok{KHF}\SpecialCharTok{*}\FunctionTok{t}\NormalTok{(KHF)}
\NormalTok{KHAttr}\OtherTok{\textless{}{-}}\FunctionTok{read.csv}\NormalTok{(}\StringTok{"Datasets/Krackhardt\_HighTech\_Attributes.csv"}\NormalTok{,}
                 \AttributeTok{stringsAsFactors=}\ConstantTok{FALSE}\NormalTok{, }\AttributeTok{row.names=}\DecValTok{1}\NormalTok{)}
\FunctionTok{table}\NormalTok{(KHAttr}\SpecialCharTok{$}\NormalTok{TENURE)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
##        0.25 3.332999945 4.666999817 4.833000183 5.416999817         7.5 
##           1           1           1           1           1           1 
## 8.416999817 8.916999817 9.083000183        9.25 9.333000183 10.41699982 
##           1           1           1           1           1           1 
## 11.33300018 11.66699982 12.41699982        12.5       12.75 19.58300018 
##           1           1           1           1           1           1 
##          27          28          30 
##           1           1           1
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#tiff(file="images/Fig\_011\_KHF\_LEVELTENURE.tiff", width=7, height=5, units="in", res=900)}
\FunctionTok{par}\NormalTok{(}\AttributeTok{mar=}\FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{))}
\FunctionTok{gplot}\NormalTok{(KHFS, }
      \AttributeTok{gmode=}\StringTok{"graph"}\NormalTok{,}
      \CommentTok{\#layout}
      \AttributeTok{mode=}\StringTok{"fruchtermanreingold"}\NormalTok{,}
      \AttributeTok{jitter=}\NormalTok{F,}
      \CommentTok{\#ties}
      \AttributeTok{edge.col=}\StringTok{"grey30"}\NormalTok{,}
      \AttributeTok{edge.lwd=}\NormalTok{.}\DecValTok{4}\NormalTok{,}
      \CommentTok{\#nodes}
      \AttributeTok{vertex.col=}\StringTok{"cornflowerblue"}\NormalTok{,}
      \AttributeTok{vertex.cex=}\NormalTok{KHAttr}\SpecialCharTok{$}\NormalTok{TENURE}\SpecialCharTok{/}\DecValTok{20}\FloatTok{+.8}\NormalTok{,}
      \CommentTok{\#labels}
      \AttributeTok{displaylabels=}\ConstantTok{TRUE}\NormalTok{,}
      \AttributeTok{label.cex=}\NormalTok{.}\DecValTok{7}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-139-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#dev.off()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# type sides of nodes}
\NormalTok{KHF}\OtherTok{\textless{}{-}}\FunctionTok{as.matrix}\NormalTok{(}\FunctionTok{read.csv}\NormalTok{(}\StringTok{"Datasets/Krackhardt\_HighTech\_Friendship.csv"}\NormalTok{,}
                        \AttributeTok{stringsAsFactors=}\ConstantTok{FALSE}\NormalTok{, }\AttributeTok{row.names=}\DecValTok{1}\NormalTok{))}
\NormalTok{KHFS}\OtherTok{\textless{}{-}}\NormalTok{KHF}\SpecialCharTok{*}\FunctionTok{t}\NormalTok{(KHF)}
\NormalTok{KHAttr}\SpecialCharTok{$}\NormalTok{AGE}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] 33 42 40 33 32 59 55 34 62 37 46 34 48 43 40 27 30 33 32 38 36
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{KHAttr}\OtherTok{\textless{}{-}}\FunctionTok{read.csv}\NormalTok{(}\StringTok{"Datasets/Krackhardt\_HighTech\_Attributes.csv"}\NormalTok{,}
                 \AttributeTok{stringsAsFactors=}\ConstantTok{FALSE}\NormalTok{, }\AttributeTok{row.names=}\DecValTok{1}\NormalTok{)}

\CommentTok{\#tiff(file="images/Fig\_013\_KHF\_DEPARTMENT.tiff", width=7, height=5, units="in", res=900)}
\FunctionTok{par}\NormalTok{(}\AttributeTok{mar=}\FunctionTok{c}\NormalTok{(}\DecValTok{2}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{2}\NormalTok{))}
\FunctionTok{gplot}\NormalTok{(KHFS, }
      \AttributeTok{gmode=}\StringTok{"graph"}\NormalTok{,}
      \CommentTok{\#layout}
      \AttributeTok{mode=}\StringTok{"fruchtermanreingold"}\NormalTok{,}
      \AttributeTok{jitter=}\NormalTok{F,}
      \CommentTok{\#ties}
      \AttributeTok{edge.col=}\StringTok{"grey30"}\NormalTok{,}
      \AttributeTok{edge.lwd=}\NormalTok{.}\DecValTok{4}\NormalTok{,}
      \CommentTok{\#nodes}
      \AttributeTok{vertex.col=}\NormalTok{(KHAttr}\SpecialCharTok{$}\NormalTok{LEVEL}\SpecialCharTok{==}\DecValTok{1}\NormalTok{)}\SpecialCharTok{*}\DecValTok{1}\SpecialCharTok{+}\NormalTok{(KHAttr}\SpecialCharTok{$}\NormalTok{LEVEL}\SpecialCharTok{==}\DecValTok{2}\NormalTok{)}\SpecialCharTok{*}\DecValTok{7}\SpecialCharTok{+}\NormalTok{(KHAttr}\SpecialCharTok{$}\NormalTok{LEVEL}\SpecialCharTok{==}\DecValTok{3}\NormalTok{)}\SpecialCharTok{*}\DecValTok{0}\NormalTok{,}
      \CommentTok{\# Define symbols}
      \AttributeTok{vertex.sides=}\NormalTok{((KHAttr}\SpecialCharTok{$}\NormalTok{LEVEL}\SpecialCharTok{==}\DecValTok{1}\NormalTok{)}\SpecialCharTok{*}\DecValTok{3}\SpecialCharTok{+}\NormalTok{(KHAttr}\SpecialCharTok{$}\NormalTok{LEVEL}\SpecialCharTok{==}\DecValTok{2}\NormalTok{)}\SpecialCharTok{*}\DecValTok{4}\SpecialCharTok{+}\NormalTok{(KHAttr}\SpecialCharTok{$}\NormalTok{LEVEL}\SpecialCharTok{==}\DecValTok{3}\NormalTok{)}\SpecialCharTok{*}\DecValTok{20}\NormalTok{),}
      \AttributeTok{vertex.cex=}\NormalTok{.}\DecValTok{8}\SpecialCharTok{+}\NormalTok{KHAttr}\SpecialCharTok{$}\NormalTok{TENURE}\SpecialCharTok{/}\DecValTok{25}\NormalTok{,}
      \CommentTok{\#labels}
      \AttributeTok{displaylabels=}\ConstantTok{TRUE}\NormalTok{,}
      \AttributeTok{label.cex=}\NormalTok{.}\DecValTok{7}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-140-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#dev.off()}
\end{Highlighting}
\end{Shaded}

\hypertarget{scientists-collaboration-more-complex}{%
\subsection{Scientists collaboration (more complex)}\label{scientists-collaboration-more-complex}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Gender and tenure with legend}
\NormalTok{BS504Cx}\OtherTok{\textless{}{-}}\FunctionTok{as.matrix}\NormalTok{(}\FunctionTok{read.csv}\NormalTok{(}\StringTok{"Datasets/Borgatti\_Scientists504\_Attributes.csv"}\NormalTok{,}
                            \AttributeTok{stringsAsFactors=}\ConstantTok{FALSE}\NormalTok{, }\AttributeTok{row.names=}\DecValTok{1}\NormalTok{))}
\NormalTok{BS504C}\OtherTok{\textless{}{-}}\NormalTok{(BS504Cx}\SpecialCharTok{\textgreater{}}\DecValTok{3}\NormalTok{)}

\NormalTok{BS504Attr}\OtherTok{\textless{}{-}}\FunctionTok{read.csv}\NormalTok{(}\StringTok{"Datasets/Borgatti\_Scientists504\_Attributes.csv"}\NormalTok{,}
                    \AttributeTok{stringsAsFactors=}\ConstantTok{FALSE}\NormalTok{, }\AttributeTok{row.names=}\DecValTok{1}\NormalTok{)}

\NormalTok{Tenure}\OtherTok{\textless{}{-}}\NormalTok{(BS504Attr}\SpecialCharTok{$}\NormalTok{Years)}
\NormalTok{Tenure}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##   [1] 18  2  1 16  2 14  4  2  6  3 22 34 25  7  8  5  4 47 21  9  2 15  3  2 13
##  [26]  2 16  3  8 27  4  5  5  3 29 26  7  4 21 28  2  1 14 18 12 15 14 10 29  6
##  [51] 10  3  8  6  3  5  4 28 24  6  2 18  1 14 12 14 11  4 22  3  7  9 24  5  9
##  [76] 27  5  4 25  9 28  3  2 17 14 14  3  6  2  2  6 25 40  5  4 22  8 27  4  4
## [101]  2 17 17  2 16 25  4 21  4 28  3  8 25 28  4 27 18  2 16 14 17 12  2 14 32
## [126] 23  4 29 21  4  7 25  4 28 11 12 12  4  8 16  8  8 29  3  4 29  4  4  5  3
## [151]  3  2 19 14  6 13  9  7 16  3 15  6  3  3 30 30  4 10  5  6  2 15 15 16  2
## [176]  4  3  2  5 32  3  6 35  3  7 22 35  5 24 39  2  2  2 17  2 17 13 17  4  7
## [201]  3  2 13  1 15 21  3  7  8  3  3 13 17  1 16  3 12 14  3  8  4 10  3 26  3
## [226] 22  8  5 27  7  3  6 46 23  9  3  2  3 17 14  1 13  2 14  1  1  3 23  3 10
## [251] 29  9  4 37  2 18  1  1 19 14 11  5  4 24  4 10 37 24 10 40 22  3  2 12 13
## [276] 17 13  2  6  9 31 28  3  3 44  3 24 27  9  3 18 18 17 18 13  1 31  6  4  3
## [301]  4  4 27 22 29 24  9  3  2  2 17 13 14 14 17  7 27 10 27  5  3 40  7 30 24
## [326] 25 24 17 11  5 14  2 36  7  4 23 22 24 37  8 11  4  3  8 10  3 12  2  4 12
## [351] 14 12 15 12 14 12  5 29 33  4  3  3  4 47 34 53 11  2  8 13 11  8 22  6 44
## [376]  5  3  4  4  8  6  3  3  2 19  1  5  2 12  2  2  1  3 25  3  4 10 24 28 10
## [401]  5  7  3  6  9  3  2 12 14 11  3 14  2  2 14  3  2  4 33  7  4  4  4 13  1
## [426] 19  1  3 19 11 14 16  6  4 28  4  5 10 24 22  3  3  4  8  3 25 30 12  2 14
## [451] 40  4  4 30 23 27  8 20 13 18 16 17  2  2 11  4  1 25 10  6 26 28  3 43 39
## [476]  6 41 34  3  4  5 13  2 16 13  3 17  2 10 16 15  1  1  2  3  5 30  4  5 21
## [501]  4  3  7  3
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{TenureA}\OtherTok{\textless{}{-}}\NormalTok{(}\FunctionTok{round}\NormalTok{(}\DecValTok{10}\SpecialCharTok{*}\NormalTok{(Tenure)}\SpecialCharTok{/}\FunctionTok{max}\NormalTok{((Tenure))))}
\NormalTok{TenureA}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##   [1]  3  0  0  3  0  3  1  0  1  1  4  6  5  1  2  1  1  9  4  2  0  3  1  0  2
##  [26]  0  3  1  2  5  1  1  1  1  5  5  1  1  4  5  0  0  3  3  2  3  3  2  5  1
##  [51]  2  1  2  1  1  1  1  5  5  1  0  3  0  3  2  3  2  1  4  1  1  2  5  1  2
##  [76]  5  1  1  5  2  5  1  0  3  3  3  1  1  0  0  1  5  8  1  1  4  2  5  1  1
## [101]  0  3  3  0  3  5  1  4  1  5  1  2  5  5  1  5  3  0  3  3  3  2  0  3  6
## [126]  4  1  5  4  1  1  5  1  5  2  2  2  1  2  3  2  2  5  1  1  5  1  1  1  1
## [151]  1  0  4  3  1  2  2  1  3  1  3  1  1  1  6  6  1  2  1  1  0  3  3  3  0
## [176]  1  1  0  1  6  1  1  7  1  1  4  7  1  5  7  0  0  0  3  0  3  2  3  1  1
## [201]  1  0  2  0  3  4  1  1  2  1  1  2  3  0  3  1  2  3  1  2  1  2  1  5  1
## [226]  4  2  1  5  1  1  1  9  4  2  1  0  1  3  3  0  2  0  3  0  0  1  4  1  2
## [251]  5  2  1  7  0  3  0  0  4  3  2  1  1  5  1  2  7  5  2  8  4  1  0  2  2
## [276]  3  2  0  1  2  6  5  1  1  8  1  5  5  2  1  3  3  3  3  2  0  6  1  1  1
## [301]  1  1  5  4  5  5  2  1  0  0  3  2  3  3  3  1  5  2  5  1  1  8  1  6  5
## [326]  5  5  3  2  1  3  0  7  1  1  4  4  5  7  2  2  1  1  2  2  1  2  0  1  2
## [351]  3  2  3  2  3  2  1  5  6  1  1  1  1  9  6 10  2  0  2  2  2  2  4  1  8
## [376]  1  1  1  1  2  1  1  1  0  4  0  1  0  2  0  0  0  1  5  1  1  2  5  5  2
## [401]  1  1  1  1  2  1  0  2  3  2  1  3  0  0  3  1  0  1  6  1  1  1  1  2  0
## [426]  4  0  1  4  2  3  3  1  1  5  1  1  2  5  4  1  1  1  2  1  5  6  2  0  3
## [451]  8  1  1  6  4  5  2  4  2  3  3  3  0  0  2  1  0  5  2  1  5  5  1  8  7
## [476]  1  8  6  1  1  1  2  0  3  2  1  3  0  2  3  3  0  0  0  1  1  6  1  1  4
## [501]  1  1  1  1
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{colfunc }\OtherTok{\textless{}{-}} \FunctionTok{colorRampPalette}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\StringTok{"yellow"}\NormalTok{, }\StringTok{"green3"}\NormalTok{))}
\NormalTok{COLWB}\OtherTok{\textless{}{-}}\FunctionTok{colfunc}\NormalTok{(}\DecValTok{7}\NormalTok{)}
\NormalTok{TenureA2}\OtherTok{\textless{}{-}}\NormalTok{TenureA}
\NormalTok{TenureA2[TenureA}\SpecialCharTok{==}\DecValTok{0}\NormalTok{]}\OtherTok{\textless{}{-}}\NormalTok{COLWB[}\DecValTok{1}\NormalTok{]}
\NormalTok{TenureA2[TenureA}\SpecialCharTok{==}\DecValTok{1}\NormalTok{]}\OtherTok{\textless{}{-}}\NormalTok{COLWB[}\DecValTok{2}\NormalTok{]}
\NormalTok{TenureA2[TenureA}\SpecialCharTok{==}\DecValTok{2}\NormalTok{]}\OtherTok{\textless{}{-}}\NormalTok{COLWB[}\DecValTok{3}\NormalTok{]}
\NormalTok{TenureA2[TenureA}\SpecialCharTok{==}\DecValTok{3}\NormalTok{]}\OtherTok{\textless{}{-}}\NormalTok{COLWB[}\DecValTok{4}\NormalTok{]}
\NormalTok{TenureA2[TenureA}\SpecialCharTok{==}\DecValTok{4}\NormalTok{]}\OtherTok{\textless{}{-}}\NormalTok{COLWB[}\DecValTok{5}\NormalTok{]}
\NormalTok{TenureA2[TenureA}\SpecialCharTok{==}\DecValTok{5}\NormalTok{]}\OtherTok{\textless{}{-}}\NormalTok{COLWB[}\DecValTok{6}\NormalTok{]}
\NormalTok{TenureA2[TenureA}\SpecialCharTok{==}\DecValTok{6}\NormalTok{]}\OtherTok{\textless{}{-}}\NormalTok{COLWB[}\DecValTok{6}\NormalTok{]}
\NormalTok{TenureA2[TenureA}\SpecialCharTok{==}\DecValTok{7}\NormalTok{]}\OtherTok{\textless{}{-}}\NormalTok{COLWB[}\DecValTok{7}\NormalTok{]}
\NormalTok{TenureA2[TenureA}\SpecialCharTok{==}\DecValTok{8}\NormalTok{]}\OtherTok{\textless{}{-}}\NormalTok{COLWB[}\DecValTok{7}\NormalTok{]}
\NormalTok{TenureA2[TenureA}\SpecialCharTok{==}\DecValTok{9}\NormalTok{]}\OtherTok{\textless{}{-}}\NormalTok{COLWB[}\DecValTok{7}\NormalTok{]}
\NormalTok{TenureA2[TenureA}\SpecialCharTok{==}\DecValTok{10}\NormalTok{]}\OtherTok{\textless{}{-}}\NormalTok{COLWB[}\DecValTok{7}\NormalTok{]}
\NormalTok{TenureA2}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##   [1] "#7FE600" "#FFFF00" "#FFFF00" "#7FE600" "#FFFF00" "#7FE600" "#D4F600"
##   [8] "#FFFF00" "#D4F600" "#D4F600" "#55DD00" "#2AD500" "#2AD500" "#D4F600"
##  [15] "#AAEE00" "#D4F600" "#D4F600" "#00CD00" "#55DD00" "#AAEE00" "#FFFF00"
##  [22] "#7FE600" "#D4F600" "#FFFF00" "#AAEE00" "#FFFF00" "#7FE600" "#D4F600"
##  [29] "#AAEE00" "#2AD500" "#D4F600" "#D4F600" "#D4F600" "#D4F600" "#2AD500"
##  [36] "#2AD500" "#D4F600" "#D4F600" "#55DD00" "#2AD500" "#FFFF00" "#FFFF00"
##  [43] "#7FE600" "#7FE600" "#AAEE00" "#7FE600" "#7FE600" "#AAEE00" "#2AD500"
##  [50] "#D4F600" "#AAEE00" "#D4F600" "#AAEE00" "#D4F600" "#D4F600" "#D4F600"
##  [57] "#D4F600" "#2AD500" "#2AD500" "#D4F600" "#FFFF00" "#7FE600" "#FFFF00"
##  [64] "#7FE600" "#AAEE00" "#7FE600" "#AAEE00" "#D4F600" "#55DD00" "#D4F600"
##  [71] "#D4F600" "#AAEE00" "#2AD500" "#D4F600" "#AAEE00" "#2AD500" "#D4F600"
##  [78] "#D4F600" "#2AD500" "#AAEE00" "#2AD500" "#D4F600" "#FFFF00" "#7FE600"
##  [85] "#7FE600" "#7FE600" "#D4F600" "#D4F600" "#FFFF00" "#FFFF00" "#D4F600"
##  [92] "#2AD500" "#00CD00" "#D4F600" "#D4F600" "#55DD00" "#AAEE00" "#2AD500"
##  [99] "#D4F600" "#D4F600" "#FFFF00" "#7FE600" "#7FE600" "#FFFF00" "#7FE600"
## [106] "#2AD500" "#D4F600" "#55DD00" "#D4F600" "#2AD500" "#D4F600" "#AAEE00"
## [113] "#2AD500" "#2AD500" "#D4F600" "#2AD500" "#7FE600" "#FFFF00" "#7FE600"
## [120] "#7FE600" "#7FE600" "#AAEE00" "#FFFF00" "#7FE600" "#2AD500" "#55DD00"
## [127] "#D4F600" "#2AD500" "#55DD00" "#D4F600" "#D4F600" "#2AD500" "#D4F600"
## [134] "#2AD500" "#AAEE00" "#AAEE00" "#AAEE00" "#D4F600" "#AAEE00" "#7FE600"
## [141] "#AAEE00" "#AAEE00" "#2AD500" "#D4F600" "#D4F600" "#2AD500" "#D4F600"
## [148] "#D4F600" "#D4F600" "#D4F600" "#D4F600" "#FFFF00" "#55DD00" "#7FE600"
## [155] "#D4F600" "#AAEE00" "#AAEE00" "#D4F600" "#7FE600" "#D4F600" "#7FE600"
## [162] "#D4F600" "#D4F600" "#D4F600" "#2AD500" "#2AD500" "#D4F600" "#AAEE00"
## [169] "#D4F600" "#D4F600" "#FFFF00" "#7FE600" "#7FE600" "#7FE600" "#FFFF00"
## [176] "#D4F600" "#D4F600" "#FFFF00" "#D4F600" "#2AD500" "#D4F600" "#D4F600"
## [183] "#00CD00" "#D4F600" "#D4F600" "#55DD00" "#00CD00" "#D4F600" "#2AD500"
## [190] "#00CD00" "#FFFF00" "#FFFF00" "#FFFF00" "#7FE600" "#FFFF00" "#7FE600"
## [197] "#AAEE00" "#7FE600" "#D4F600" "#D4F600" "#D4F600" "#FFFF00" "#AAEE00"
## [204] "#FFFF00" "#7FE600" "#55DD00" "#D4F600" "#D4F600" "#AAEE00" "#D4F600"
## [211] "#D4F600" "#AAEE00" "#7FE600" "#FFFF00" "#7FE600" "#D4F600" "#AAEE00"
## [218] "#7FE600" "#D4F600" "#AAEE00" "#D4F600" "#AAEE00" "#D4F600" "#2AD500"
## [225] "#D4F600" "#55DD00" "#AAEE00" "#D4F600" "#2AD500" "#D4F600" "#D4F600"
## [232] "#D4F600" "#00CD00" "#55DD00" "#AAEE00" "#D4F600" "#FFFF00" "#D4F600"
## [239] "#7FE600" "#7FE600" "#FFFF00" "#AAEE00" "#FFFF00" "#7FE600" "#FFFF00"
## [246] "#FFFF00" "#D4F600" "#55DD00" "#D4F600" "#AAEE00" "#2AD500" "#AAEE00"
## [253] "#D4F600" "#00CD00" "#FFFF00" "#7FE600" "#FFFF00" "#FFFF00" "#55DD00"
## [260] "#7FE600" "#AAEE00" "#D4F600" "#D4F600" "#2AD500" "#D4F600" "#AAEE00"
## [267] "#00CD00" "#2AD500" "#AAEE00" "#00CD00" "#55DD00" "#D4F600" "#FFFF00"
## [274] "#AAEE00" "#AAEE00" "#7FE600" "#AAEE00" "#FFFF00" "#D4F600" "#AAEE00"
## [281] "#2AD500" "#2AD500" "#D4F600" "#D4F600" "#00CD00" "#D4F600" "#2AD500"
## [288] "#2AD500" "#AAEE00" "#D4F600" "#7FE600" "#7FE600" "#7FE600" "#7FE600"
## [295] "#AAEE00" "#FFFF00" "#2AD500" "#D4F600" "#D4F600" "#D4F600" "#D4F600"
## [302] "#D4F600" "#2AD500" "#55DD00" "#2AD500" "#2AD500" "#AAEE00" "#D4F600"
## [309] "#FFFF00" "#FFFF00" "#7FE600" "#AAEE00" "#7FE600" "#7FE600" "#7FE600"
## [316] "#D4F600" "#2AD500" "#AAEE00" "#2AD500" "#D4F600" "#D4F600" "#00CD00"
## [323] "#D4F600" "#2AD500" "#2AD500" "#2AD500" "#2AD500" "#7FE600" "#AAEE00"
## [330] "#D4F600" "#7FE600" "#FFFF00" "#00CD00" "#D4F600" "#D4F600" "#55DD00"
## [337] "#55DD00" "#2AD500" "#00CD00" "#AAEE00" "#AAEE00" "#D4F600" "#D4F600"
## [344] "#AAEE00" "#AAEE00" "#D4F600" "#AAEE00" "#FFFF00" "#D4F600" "#AAEE00"
## [351] "#7FE600" "#AAEE00" "#7FE600" "#AAEE00" "#7FE600" "#AAEE00" "#D4F600"
## [358] "#2AD500" "#2AD500" "#D4F600" "#D4F600" "#D4F600" "#D4F600" "#00CD00"
## [365] "#2AD500" "#00CD00" "#AAEE00" "#FFFF00" "#AAEE00" "#AAEE00" "#AAEE00"
## [372] "#AAEE00" "#55DD00" "#D4F600" "#00CD00" "#D4F600" "#D4F600" "#D4F600"
## [379] "#D4F600" "#AAEE00" "#D4F600" "#D4F600" "#D4F600" "#FFFF00" "#55DD00"
## [386] "#FFFF00" "#D4F600" "#FFFF00" "#AAEE00" "#FFFF00" "#FFFF00" "#FFFF00"
## [393] "#D4F600" "#2AD500" "#D4F600" "#D4F600" "#AAEE00" "#2AD500" "#2AD500"
## [400] "#AAEE00" "#D4F600" "#D4F600" "#D4F600" "#D4F600" "#AAEE00" "#D4F600"
## [407] "#FFFF00" "#AAEE00" "#7FE600" "#AAEE00" "#D4F600" "#7FE600" "#FFFF00"
## [414] "#FFFF00" "#7FE600" "#D4F600" "#FFFF00" "#D4F600" "#2AD500" "#D4F600"
## [421] "#D4F600" "#D4F600" "#D4F600" "#AAEE00" "#FFFF00" "#55DD00" "#FFFF00"
## [428] "#D4F600" "#55DD00" "#AAEE00" "#7FE600" "#7FE600" "#D4F600" "#D4F600"
## [435] "#2AD500" "#D4F600" "#D4F600" "#AAEE00" "#2AD500" "#55DD00" "#D4F600"
## [442] "#D4F600" "#D4F600" "#AAEE00" "#D4F600" "#2AD500" "#2AD500" "#AAEE00"
## [449] "#FFFF00" "#7FE600" "#00CD00" "#D4F600" "#D4F600" "#2AD500" "#55DD00"
## [456] "#2AD500" "#AAEE00" "#55DD00" "#AAEE00" "#7FE600" "#7FE600" "#7FE600"
## [463] "#FFFF00" "#FFFF00" "#AAEE00" "#D4F600" "#FFFF00" "#2AD500" "#AAEE00"
## [470] "#D4F600" "#2AD500" "#2AD500" "#D4F600" "#00CD00" "#00CD00" "#D4F600"
## [477] "#00CD00" "#2AD500" "#D4F600" "#D4F600" "#D4F600" "#AAEE00" "#FFFF00"
## [484] "#7FE600" "#AAEE00" "#D4F600" "#7FE600" "#FFFF00" "#AAEE00" "#7FE600"
## [491] "#7FE600" "#FFFF00" "#FFFF00" "#FFFF00" "#D4F600" "#D4F600" "#2AD500"
## [498] "#D4F600" "#D4F600" "#55DD00" "#D4F600" "#D4F600" "#D4F600" "#D4F600"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#tiff(file="images/Fig\_014\_BS504C\_gender\_tenure.tiff", width=7, height=5, units="in", res=900)}
\FunctionTok{par}\NormalTok{(}\AttributeTok{mar=}\FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{))}
\FunctionTok{gplot}\NormalTok{(BS504C, }
      \AttributeTok{gmode=}\StringTok{"graph"}\NormalTok{, }
      \CommentTok{\#layout}
      \CommentTok{\#mode="kamadakawai",}
      \AttributeTok{jitter =}\NormalTok{ F,}
      \CommentTok{\#ties}
      \AttributeTok{edge.col=}\StringTok{"grey80"}\NormalTok{,}
      \AttributeTok{edge.lwd=}\NormalTok{.}\DecValTok{2}\NormalTok{, }
      \CommentTok{\#nodes}
      \AttributeTok{vertex.col=}\NormalTok{TenureA2,}
      \AttributeTok{vertex.cex=}\DecValTok{1}\FloatTok{+.7}\SpecialCharTok{*}\NormalTok{(}\DecValTok{2}\SpecialCharTok{{-}}\NormalTok{BS504Attr}\SpecialCharTok{$}\NormalTok{Sex), }
      \AttributeTok{vertex.sides=}\NormalTok{(BS504Attr}\SpecialCharTok{$}\NormalTok{Sex}\DecValTok{{-}1}\NormalTok{)}\SpecialCharTok{*}\DecValTok{47}\SpecialCharTok{+}\DecValTok{4}\NormalTok{)}
\FunctionTok{legend}\NormalTok{(}\StringTok{"topright"}\NormalTok{,}
       \AttributeTok{legend =} \FunctionTok{c}\NormalTok{(}\StringTok{"Colors"}\NormalTok{,}\StringTok{" Senior"}\NormalTok{, }\StringTok{" Junior"}\NormalTok{, }\StringTok{" "}\NormalTok{,}\StringTok{"Shapes"}\NormalTok{, }\StringTok{" Male (2)"}\NormalTok{, }\StringTok{" Female (1)"}\NormalTok{),}
       \AttributeTok{col =} \FunctionTok{c}\NormalTok{(}\StringTok{"white"}\NormalTok{,}\StringTok{"yellow"}\NormalTok{,}\StringTok{"green3"}\NormalTok{,}\StringTok{"white"}\NormalTok{,}\StringTok{"white"}\NormalTok{,}\StringTok{"black"}\NormalTok{,}\StringTok{"black"}\NormalTok{), }
       \AttributeTok{bty =} \StringTok{"n"}\NormalTok{, }\AttributeTok{pch =}\FunctionTok{c}\NormalTok{(}\DecValTok{19}\NormalTok{,}\DecValTok{19}\NormalTok{,}\DecValTok{19}\NormalTok{,}\DecValTok{19}\NormalTok{,}\DecValTok{19}\NormalTok{,}\DecValTok{19}\NormalTok{,}\DecValTok{18}\NormalTok{),}
       \AttributeTok{pt.cex =} \FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\FloatTok{2.1}\NormalTok{,}\FloatTok{2.1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\FloatTok{1.7}\NormalTok{,}\FloatTok{1.9}\NormalTok{), }
       \AttributeTok{cex =} \DecValTok{1}\NormalTok{, }
       \AttributeTok{text.col =} \StringTok{"grey10"}\NormalTok{, }
       \AttributeTok{horiz =}\NormalTok{ F , }
       \AttributeTok{inset =} \FunctionTok{c}\NormalTok{(}\FloatTok{0.01}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-141-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#dev.off()}
\end{Highlighting}
\end{Shaded}

\hypertarget{nodal-attributes-on-pfm}{%
\subsection{Nodal attributes on PFM}\label{nodal-attributes-on-pfm}}

=== NO DATASET ===

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{PFM}\OtherTok{\textless{}{-}}\FunctionTok{as.matrix}\NormalTok{(}\FunctionTok{read.csv}\NormalTok{(}\StringTok{"Datasets/Padgett\_FlorentineFamilies\_Marriage.csv"}\NormalTok{,}
                        \AttributeTok{stringsAsFactors=}\ConstantTok{FALSE}\NormalTok{, }\AttributeTok{row.names=}\DecValTok{1}\NormalTok{))}
\NormalTok{PFM}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##              ACCIAIUOLI ALBIZZI BARBADORI BISCHERI CASTELLANI GINORI GUADAGNI
## ACCIAIUOLI            0       0         0        0          0      0        0
## ALBIZZI               0       0         0        0          0      1        1
## BARBADORI             0       0         0        0          1      0        0
## BISCHERI              0       0         0        0          0      0        1
## CASTELLANI            0       0         1        0          0      0        0
## GINORI                0       1         0        0          0      0        0
## GUADAGNI              0       1         0        1          0      0        0
## LAMBERTESCHI          0       0         0        0          0      0        1
## MEDICI                1       1         1        0          0      0        0
## PAZZI                 0       0         0        0          0      0        0
## PERUZZI               0       0         0        1          1      0        0
## PUCCI                 0       0         0        0          0      0        0
## RIDOLFI               0       0         0        0          0      0        0
## SALVIATI              0       0         0        0          0      0        0
## STROZZI               0       0         0        1          1      0        0
## TORNABUONI            0       0         0        0          0      0        1
##              LAMBERTESCHI MEDICI PAZZI PERUZZI PUCCI RIDOLFI SALVIATI STROZZI
## ACCIAIUOLI              0      1     0       0     0       0        0       0
## ALBIZZI                 0      1     0       0     0       0        0       0
## BARBADORI               0      1     0       0     0       0        0       0
## BISCHERI                0      0     0       1     0       0        0       1
## CASTELLANI              0      0     0       1     0       0        0       1
## GINORI                  0      0     0       0     0       0        0       0
## GUADAGNI                1      0     0       0     0       0        0       0
## LAMBERTESCHI            0      0     0       0     0       0        0       0
## MEDICI                  0      0     0       0     0       1        1       0
## PAZZI                   0      0     0       0     0       0        1       0
## PERUZZI                 0      0     0       0     0       0        0       1
## PUCCI                   0      0     0       0     0       0        0       0
## RIDOLFI                 0      1     0       0     0       0        0       1
## SALVIATI                0      1     1       0     0       0        0       0
## STROZZI                 0      0     0       1     0       1        0       0
## TORNABUONI              0      1     0       0     0       1        0       0
##              TORNABUONI
## ACCIAIUOLI            0
## ALBIZZI               0
## BARBADORI             0
## BISCHERI              0
## CASTELLANI            0
## GINORI                0
## GUADAGNI              1
## LAMBERTESCHI          0
## MEDICI                1
## PAZZI                 0
## PERUZZI               0
## PUCCI                 0
## RIDOLFI               1
## SALVIATI              0
## STROZZI               0
## TORNABUONI            0
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(sna)}
\NormalTok{PFMn}\OtherTok{\textless{}{-}}\FunctionTok{as.network}\NormalTok{(PFM, }\AttributeTok{directed=}\NormalTok{F)}
\NormalTok{DPFM}\OtherTok{\textless{}{-}}\NormalTok{sna}\SpecialCharTok{::}\FunctionTok{degree}\NormalTok{(PFMn)}
\CommentTok{\#tiff(file="images/Fig\_015\_PFM\_labelsCHANGE.tiff", width=7, height=5, units="in", res=900)}
\FunctionTok{par}\NormalTok{(}\AttributeTok{mar=}\FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{))}
\FunctionTok{gplot}\NormalTok{(PFMn, }
      \AttributeTok{gmode=}\StringTok{"graph"}\NormalTok{, }
      \CommentTok{\#layout}
      \AttributeTok{jitter=}\NormalTok{F,}
      \CommentTok{\#ties}
      \AttributeTok{edge.col=}\StringTok{"grey70"}\NormalTok{,}
      \AttributeTok{edge.lwd=}\NormalTok{.}\DecValTok{1}\NormalTok{, }
      \CommentTok{\#nodes}
      \AttributeTok{vertex.col=}\StringTok{"deepskyblue3"}\NormalTok{,}
      \AttributeTok{vertex.cex=}\NormalTok{DPFM}\SpecialCharTok{/}\DecValTok{17}\FloatTok{+.5}\NormalTok{,}
      \CommentTok{\#labels}
      \AttributeTok{displaylabels=}\ConstantTok{TRUE}\NormalTok{, }
      \AttributeTok{label.pos=}\DecValTok{3}\NormalTok{, }
      \AttributeTok{label.cex=}\NormalTok{DPFM}\SpecialCharTok{/}\DecValTok{20}\FloatTok{+.3}\NormalTok{, }
      \AttributeTok{vertex.border=}\StringTok{"white"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-142-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#dev.off()}
\end{Highlighting}
\end{Shaded}

\hypertarget{tie-strength-on-scientists-collaborations}{%
\section{Tie strength on Scientists collaborations}\label{tie-strength-on-scientists-collaborations}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{BS504C}\OtherTok{\textless{}{-}}\FunctionTok{as.matrix}\NormalTok{(}\FunctionTok{read.csv}\NormalTok{(}\StringTok{"Datasets/Borgatti\_Scientists504\_Attributes.csv"}\NormalTok{,}
                           \AttributeTok{stringsAsFactors=}\ConstantTok{FALSE}\NormalTok{, }\AttributeTok{row.names=}\DecValTok{1}\NormalTok{))}
\NormalTok{BS504CGT3}\OtherTok{\textless{}{-}}\NormalTok{(BS504Cx}\SpecialCharTok{\textgreater{}}\DecValTok{3}\NormalTok{)}
\NormalTok{BS504CGT5}\OtherTok{\textless{}{-}}\NormalTok{(BS504Cx}\SpecialCharTok{\textgreater{}}\DecValTok{5}\NormalTok{)}
\NormalTok{BS504CGT7}\OtherTok{\textless{}{-}}\NormalTok{(BS504Cx}\SpecialCharTok{\textgreater{}}\DecValTok{7}\NormalTok{)}
\NormalTok{BS504CGT9}\OtherTok{\textless{}{-}}\NormalTok{(BS504Cx}\SpecialCharTok{\textgreater{}}\DecValTok{9}\NormalTok{)}


\NormalTok{LOBS504}\OtherTok{\textless{}{-}}\FunctionTok{gplot}\NormalTok{(BS504CGT3,}
               \AttributeTok{gmode=}\StringTok{"graph"}\NormalTok{,}
               \CommentTok{\#layout}
               \AttributeTok{mode=}\StringTok{"fruchtermanreingold"}\NormalTok{,}
               \AttributeTok{jitter=}\NormalTok{F,}
               \CommentTok{\#ties}
               \AttributeTok{edge.col=}\StringTok{"grey70"}\NormalTok{, }
               \AttributeTok{edge.lwd=}\NormalTok{.}\DecValTok{1}\NormalTok{,}
               \CommentTok{\#nodes}
               \AttributeTok{vertex.col=}\StringTok{"gold3"}\NormalTok{,}
               \AttributeTok{vertex.cex=}\NormalTok{.}\DecValTok{75}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-143-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#tiff(file="images/Fig\_016\_BS504C\_TieStrenght3.tiff", width=7, height=5, units="in", res=900)}
\FunctionTok{par}\NormalTok{(}\AttributeTok{mar=}\FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{))}
\FunctionTok{gplot}\NormalTok{(BS504CGT3,}
      \AttributeTok{gmode=}\StringTok{"graph"}\NormalTok{,}
      \CommentTok{\#layout}
      \AttributeTok{coord=}\NormalTok{LOBS504,}
      \AttributeTok{jitter=}\NormalTok{F,}
      \CommentTok{\#ties}
      \AttributeTok{edge.col=}\StringTok{"grey60"}\NormalTok{, }
      \AttributeTok{edge.lwd=}\NormalTok{.}\DecValTok{1}\NormalTok{,}
      \CommentTok{\#nodes}
      \AttributeTok{vertex.col=}\StringTok{"gold3"}\NormalTok{,}
      \AttributeTok{vertex.cex=}\NormalTok{.}\DecValTok{75}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-143-2.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#dev.off()}


\CommentTok{\#tiff(file="images/Fig\_016\_BS504C\_TieStrenght5.tiff", width=7, height=5, units="in", res=900)}
\FunctionTok{par}\NormalTok{(}\AttributeTok{mar=}\FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{))}
\FunctionTok{gplot}\NormalTok{(BS504CGT5,}
      \AttributeTok{gmode=}\StringTok{"graph"}\NormalTok{,}
      \CommentTok{\#layout}
      \AttributeTok{coord=}\NormalTok{LOBS504,}
      \AttributeTok{jitter=}\NormalTok{F,}
      \CommentTok{\#ties}
      \AttributeTok{edge.col=}\StringTok{"grey60"}\NormalTok{, }
      \AttributeTok{edge.lwd=}\NormalTok{.}\DecValTok{1}\NormalTok{,}
      \CommentTok{\#nodes}
      \AttributeTok{vertex.col=}\StringTok{"gold3"}\NormalTok{,}
      \AttributeTok{vertex.cex=}\NormalTok{.}\DecValTok{75}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-143-3.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#dev.off()}


\CommentTok{\#tiff(file="images/Fig\_016\_BS504C\_TieStrenght7.tiff", width=7, height=5, units="in", res=900)}
\FunctionTok{par}\NormalTok{(}\AttributeTok{mar=}\FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{))}
\FunctionTok{gplot}\NormalTok{(BS504CGT7,}
      \AttributeTok{gmode=}\StringTok{"graph"}\NormalTok{,}
      \CommentTok{\#layout}
      \AttributeTok{coord=}\NormalTok{LOBS504,}
      \AttributeTok{jitter=}\NormalTok{F,}
      \CommentTok{\#ties}
      \AttributeTok{edge.col=}\StringTok{"grey60"}\NormalTok{, }
      \AttributeTok{edge.lwd=}\NormalTok{.}\DecValTok{1}\NormalTok{,}
      \CommentTok{\#nodes}
      \AttributeTok{vertex.col=}\StringTok{"gold3"}\NormalTok{,}
      \AttributeTok{vertex.cex=}\NormalTok{.}\DecValTok{75}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-143-4.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#dev.off()}

\CommentTok{\#tiff(file="images/Fig\_016\_BS504C\_TieStrenght9.tiff", width=7, height=5, units="in", res=900)}
\FunctionTok{par}\NormalTok{(}\AttributeTok{mar=}\FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{))}
\FunctionTok{gplot}\NormalTok{(BS504CGT9,}
      \AttributeTok{gmode=}\StringTok{"graph"}\NormalTok{,}
      \CommentTok{\#layout}
      \AttributeTok{coord=}\NormalTok{LOBS504,}
      \AttributeTok{jitter=}\NormalTok{F,}
      \CommentTok{\#ties}
      \AttributeTok{edge.col=}\StringTok{"grey60"}\NormalTok{, }
      \AttributeTok{edge.lwd=}\NormalTok{.}\DecValTok{1}\NormalTok{,}
      \CommentTok{\#nodes}
      \AttributeTok{vertex.col=}\StringTok{"gold3"}\NormalTok{,}
      \AttributeTok{vertex.cex=}\NormalTok{.}\DecValTok{75}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-143-5.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#dev.off()}
\end{Highlighting}
\end{Shaded}

\hypertarget{directed-networks}{%
\section{Directed networks}\label{directed-networks}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{KHF}\OtherTok{\textless{}{-}}\FunctionTok{as.matrix}\NormalTok{(}\FunctionTok{read.csv}\NormalTok{(}\StringTok{"Datasets/Krackhardt\_HighTech\_Friendship.csv"}\NormalTok{,}
                        \AttributeTok{stringsAsFactors=}\ConstantTok{FALSE}\NormalTok{, }\AttributeTok{row.names=}\DecValTok{1}\NormalTok{))}
\NormalTok{KHFn}\OtherTok{\textless{}{-}}\FunctionTok{as.network}\NormalTok{(KHF, }\AttributeTok{directed=}\NormalTok{T)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{COOKHF}\OtherTok{\textless{}{-}}\FunctionTok{gplot}\NormalTok{(KHFn,}
              \AttributeTok{gmode=}\StringTok{"digraph"}\NormalTok{,    }
              \CommentTok{\#layout}
              \AttributeTok{jitter=}\NormalTok{F,           }\CommentTok{\# do not allow nodes to be "jittered"}
              \CommentTok{\#ties}
              \AttributeTok{edge.col=}\StringTok{"grey40"}\NormalTok{,}
              \AttributeTok{arrowhead.cex=}\NormalTok{.}\DecValTok{7}\NormalTok{,}
              \CommentTok{\# set color of ties}
              \CommentTok{\#nodes}
              \AttributeTok{vertex.col=}\StringTok{"grey90"}\NormalTok{,   }\CommentTok{\# set color of nodes}
              \AttributeTok{vertex.cex=}\FloatTok{1.4}\NormalTok{,}
              \CommentTok{\#labels}
              \AttributeTok{displaylabels=}\NormalTok{T,    }\CommentTok{\# indicate that labels should be included}
              \AttributeTok{label.pos=}\DecValTok{5}\NormalTok{,        }\CommentTok{\# indicate that labels should be given below points}
              \AttributeTok{label.cex=}\NormalTok{.}\DecValTok{5}\NormalTok{)       }\CommentTok{\# indicate the size of the labels (1 is default)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-145-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#tiff(file="images/Fig\_017b\_KHF\_directed.tiff", width=7, height=5, units="in", res=900)}
\CommentTok{\# this defines the margins:}
\FunctionTok{par}\NormalTok{(}\AttributeTok{mar=}\FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{))}
\CommentTok{\# this is the plot for a network function in "sna"}
\FunctionTok{gplot}\NormalTok{(KHFn,}
      \AttributeTok{gmode=}\StringTok{"digraph"}\NormalTok{,  }
      \AttributeTok{coord=}\NormalTok{COOKHF,}
      \CommentTok{\#layout}
      \AttributeTok{jitter=}\NormalTok{F,           }\CommentTok{\# do not allow nodes to be "jittered"}
      \CommentTok{\#ties}
      \AttributeTok{edge.col=}\StringTok{"grey30"}\NormalTok{,}
      \AttributeTok{edge.lwd=}\DecValTok{1}\NormalTok{,}
      \AttributeTok{usecurve=}\NormalTok{T,}
      \AttributeTok{edge.curve=}\NormalTok{.}\DecValTok{04}\NormalTok{, }
      \AttributeTok{arrowhead.cex=}\NormalTok{.}\DecValTok{6}\NormalTok{,}
      
      \CommentTok{\#nodes}
      \AttributeTok{vertex.col=}\StringTok{"grey90"}\NormalTok{,   }\CommentTok{\# set color of nodes}
      \AttributeTok{vertex.cex=}\FloatTok{1.4}\NormalTok{,}
      \CommentTok{\#labels}
      \AttributeTok{displaylabels=}\NormalTok{T,    }\CommentTok{\# indicate that labels should be included}
      \AttributeTok{label.pos=}\DecValTok{5}\NormalTok{,        }\CommentTok{\# indicate that labels should be given below points}
      \AttributeTok{label.cex=}\NormalTok{.}\DecValTok{5}\NormalTok{)       }\CommentTok{\# indicate the size of the labels (1 is default)}
\end{Highlighting}
\end{Shaded}

\includegraphics{_main_files/figure-latex/unnamed-chunk-145-2.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#dev.off()}
\end{Highlighting}
\end{Shaded}


\end{document}
